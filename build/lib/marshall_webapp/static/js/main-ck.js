/*!

Holder - 2.3.2 - client side image placeholders
(c) 2012-2014 Ivan Malopinsky / http://imsky.co

Provided under the MIT License.
Commercial use requires attribution.

*/
function reset_all_tickets(){$("div.aladin").each((function(t,e){$(e).attr("class","aladin-hide"),$(e).html("")})),$("div.singleTicket").each((function(t,e){$(e).find("a[data-toggle='tab']:first").click()}))}function AstroMath(){}function Projection(t,e){this.PROJECTION=Projection.PROJ_TAN,this.ROT=this.tr_oR(t,e)}function Coo(t,e,n){this.lon=t,this.lat=e,this.prec=n,this.frame=null,this.computeDirCos()}function Tokenizer(t,e){this.string=Strings.trim(t,e),this.sep=e,this.pos=0}function Strings(){}function Numbers(){}function relMouseCoords(t){var e=0,n=0,r=0,i=0,o=this;if(t.offsetX)return{x:t.offsetX,y:t.offsetY};if(!Utils.cssScale){var a=window.getComputedStyle(document.body,null),s,u=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,l=(a.getPropertyValue("-webkit-transform")||a.getPropertyValue("-moz-transform")||a.getPropertyValue("-ms-transform")||a.getPropertyValue("-o-transform")||a.getPropertyValue("transform")).match(u);Utils.cssScale=l?parseFloat(l[1]):1}var c=t,f=c.target,h=c.target||c.srcElement,d=h.currentStyle||window.getComputedStyle(h,null),p=parseInt(d.borderLeftWidth,10),g=parseInt(d.borderTopWidth,10),v=h.getBoundingClientRect(),m=c.clientX-p-v.left,y=c.clientY-g-v.top;return{x:parseInt(m/Utils.cssScale),y:parseInt(y/Utils.cssScale)};do{e+=o.offsetLeft-o.scrollLeft,n+=o.offsetTop-o.scrollTop}while(o=o.offsetParent);return t.pageX?(r=t.pageX-e-(document.body.scrollLeft||document.documentElement.scrollLeft),i=t.pageY-n-(document.body.scrollTop||document.documentElement.scrollTop)):(r=t.originalEvent.targetTouches[0].screenX-e-(document.body.scrollLeft||document.documentElement.scrollLeft),i=t.originalEvent.targetTouches[0].screenY-n-(document.body.scrollTop||document.documentElement.scrollTop)),{x:r,y:i}}function ColorOpacity(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null,rgba="rgba("+n.r+","+n.g+","+n.b+","+e+")",rgba}function dryxAladin(t){var e=$(t).attr("data"),n,r;return console.log("dataUrl: "+JSON.stringify(e)),$.getJSON(e,(function(e){var n=$(t).attr("coords"),r=$(t).attr("survey"),i=e.aladin_parameters,o=e.catalogues,a=e.catalogueOrder,s=$(t).attr("transient");console.log("coords: "+JSON.stringify(n)),console.log("survey: "+JSON.stringify(r)),console.log("parameters: "+JSON.stringify(i)),console.log("catalogues: "+JSON.stringify(o)),console.log("catalogueOrder: "+JSON.stringify(a)),console.log("tranName: "+JSON.stringify(s));var u=A.aladin(t,{cooFrame:"J2000",showReticle:!1,showZoomControl:!0,showShareControl:!1,showCooGrid:!1,showFullscreenControl:!0,showFrameChoice:!1,showLayersControl:!0,showGotoControl:!1,showFrame:!0,fullScreen:!1,reticleColor:"#dc322f",reticleSize:50,survey:r,fov:i.FOV,target:n});u.getBaseImageLayer().getColorMap().reverse(1);for(var l=[],c=0;c<a.length;c++){var f=a[c];if(o.hasOwnProperty(f)){var h=A.graphicOverlay({name:"search areas",color:o[f].color,lineWidth:i.search_perimeter_width});u.addOverlay(h);var d=A.catalog({name:f,shape:"square",sourceSize:0,labelFont:"20px dryx_icon_font",displayLabel:!0,color:o[f].color,labelColumn:"mainId",colorColumn:"color"});u.addCatalog(d);var p=A.catalog({name:f+" markers",sourceSize:0,color:o[f].color});u.addCatalog(p);for(var g=o[f].data,v=0;v<g.length;v++)h.add(A.circle(g[v].raDeg,g[v].decDeg,g[v].original_search_radius_arcsec/3600,{color:g[v].radius_color,fillOpacity:.1})),p.addSources([A.marker(g[v].raDeg,g[v].decDeg,{popupTitle:g[v].catalogue_object_id,popupDesc:g[v].details})]),d.addSources(A.source(g[v].raDeg,g[v].decDeg,{mainId:g[v].label,color:g[v].radius_color}))}}var m=A.catalog({name:"transient",sourceSize:18,color:"#dc322f"});u.addCatalog(m);var y=n.split(" ");m.addSources([A.marker(y[0],y[1],{popupTitle:s})]),u.setImageSurvey("P/DSS/color"),setTimeout((function(){u.setImageSurvey(r)}),200);var x=A.catalog(shape="square",color="#268bd2",sourceSize=50,labelColumn="nice",labelColor="#268bd2");u.addCatalog(x)})),{init:function(t){return console.log("init function triggered for dryxAladin"),{}},update_attributes:function(t){console.log("attributes function triggered for dryxAladin")}}}var Holder=Holder||{};!function(t,e){function n(t,e,n){e=parseInt(e,10),t=parseInt(t,10);var r=Math.max(e,t),i=Math.min(e,t),o=1/12,a=Math.min(.75*i,.75*r*o);return{height:Math.round(Math.max(n.size,a))}}function r(t){var e=[];for(p in t)t.hasOwnProperty(p)&&e.push(p+":"+t[p]);return e.join(";")}function i(t){var e=t.ctx,r=t.dimensions,i=t.template,o=t.ratio,a=t.holder,s="literal"==a.textmode,u="exact"==a.textmode,l,c=n(r.width,r.height,i).height,f=r.width*o,h=r.height*o,d=i.font?i.font:"Arial,Helvetica,sans-serif";canvas.width=f,canvas.height=h,e.textAlign="center",e.textBaseline="middle",e.fillStyle=i.background,e.fillRect(0,0,f,h),e.fillStyle=i.foreground,e.font="bold "+c+"px "+d;var p=i.text?i.text:Math.floor(r.width)+"x"+Math.floor(r.height),r;if(s)p=(r=a.dimensions).width+"x"+r.height;else if(u&&a.exact_dimensions){var r=a.exact_dimensions;p=Math.floor(r.width)+"x"+Math.floor(r.height)}var g=e.measureText(p).width;return g/f>=.75&&(c=Math.floor(.75*c*(f/g))),e.font="bold "+c*o+"px "+d,e.fillText(p,f/2,h/2,f),canvas.toDataURL("image/png")}function o(t){var e=t.dimensions,r=t.template,i=t.holder,o="literal"==i.textmode,a="exact"==i.textmode,s,u=n(e.width,e.height,r).height,l=e.width,c=e.height,f=r.font?r.font:"Arial,Helvetica,sans-serif",h=r.text?r.text:Math.floor(e.width)+"x"+Math.floor(e.height),e;if(o)h=(e=i.dimensions).width+"x"+e.height;else if(a&&i.exact_dimensions){var e=i.exact_dimensions;h=Math.floor(e.width)+"x"+Math.floor(e.height)}var d=S({text:h,width:l,height:c,text_height:u,font:f,template:r});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(d)))}function a(t){return m.use_canvas&&!m.use_svg?i(t):o(t)}function s(t,e,n,r){var i=n.dimensions,o=n.theme,s=n.text?decodeURIComponent(n.text):n.text,u=i.width+"x"+i.height;o=s?g(o,{text:s}):o,o=n.font?g(o,{font:n.font}):o,e.setAttribute("data-src",r),n.theme=o,e.holder_data=n,"image"==t?(e.setAttribute("alt",s||(o.text?o.text+" ["+u+"]":u)),!m.use_fallback&&n.auto||(e.style.width=i.width+"px",e.style.height=i.height+"px"),m.use_fallback?e.style.backgroundColor=o.background:(e.setAttribute("src",a({ctx:M,dimensions:i,template:o,ratio:C,holder:n})),n.textmode&&"exact"==n.textmode&&(w.push(e),c(e)))):"background"==t?m.use_fallback||(e.style.backgroundImage="url("+a({ctx:M,dimensions:i,template:o,ratio:C,holder:n})+")",e.style.backgroundSize=i.width+"px "+i.height+"px"):"fluid"==t&&(e.setAttribute("alt",s||(o.text?o.text+" ["+u+"]":u)),"%"==i.height.slice(-1)?e.style.height=i.height:null!=n.auto&&n.auto||(e.style.height=i.height+"px"),"%"==i.width.slice(-1)?e.style.width=i.width:null!=n.auto&&n.auto||(e.style.width=i.width+"px"),"inline"!=e.style.display&&""!==e.style.display&&"none"!=e.style.display||(e.style.display="block"),l(e),m.use_fallback?e.style.backgroundColor=o.background:(w.push(e),c(e)))}function u(t,e){var n={height:t.clientHeight,width:t.clientWidth};if(n.height||n.width)return t.removeAttribute("data-holder-invisible"),n;t.setAttribute("data-holder-invisible",!0),e.call(this,t)}function l(e){if(e.holder_data){var n=u(e,t.invisible_error_fn(l));if(n){var r=e.holder_data;r.initial_dimensions=n,r.fluid_data={fluid_height:"%"==r.dimensions.height.slice(-1),fluid_width:"%"==r.dimensions.width.slice(-1),mode:null},r.fluid_data.fluid_width&&!r.fluid_data.fluid_height?(r.fluid_data.mode="width",r.fluid_data.ratio=r.initial_dimensions.width/parseFloat(r.dimensions.height)):!r.fluid_data.fluid_width&&r.fluid_data.fluid_height&&(r.fluid_data.mode="height",r.fluid_data.ratio=parseFloat(r.dimensions.width)/r.initial_dimensions.height)}}}function c(e){var n;for(var r in n=null==e.nodeType?w:[e])if(n.hasOwnProperty(r)){var i=n[r];if(i.holder_data){var o=i.holder_data,s=u(i,t.invisible_error_fn(c));if(s){if(o.fluid){if(o.auto)switch(o.fluid_data.mode){case"width":s.height=s.width/o.fluid_data.ratio;break;case"height":s.width=s.height*o.fluid_data.ratio;break}i.setAttribute("src",a({ctx:M,dimensions:s,template:o.theme,ratio:C,holder:o}))}o.textmode&&"exact"==o.textmode&&(o.exact_dimensions=s,i.setAttribute("src",a({ctx:M,dimensions:o.dimensions,template:o.theme,ratio:C,holder:o})))}}}}function f(e,n){for(var r={theme:g(_.themes.gray,{})},i=!1,o=e.length,a=0;a<o;a++){var s=e[a];t.flags.dimensions.match(s)?(i=!0,r.dimensions=t.flags.dimensions.output(s)):t.flags.fluid.match(s)?(i=!0,r.dimensions=t.flags.fluid.output(s),r.fluid=!0):t.flags.textmode.match(s)?r.textmode=t.flags.textmode.output(s):t.flags.colors.match(s)?r.theme=t.flags.colors.output(s):n.themes[s]?n.themes.hasOwnProperty(s)&&(r.theme=g(n.themes[s],{})):t.flags.font.match(s)?r.font=t.flags.font.output(s):t.flags.auto.match(s)?r.auto=!0:t.flags.text.match(s)&&(r.text=t.flags.text.output(s))}return!!i&&r}function h(t,e){var n="complete",r="readystatechange",i=!1,o=i,a=!0,s=t.document,u=s.documentElement,l=s.addEventListener?"addEventListener":"attachEvent",c=s.addEventListener?"removeEventListener":"detachEvent",f=s.addEventListener?"":"on",h=function(a){(a.type!=r||s.readyState==n)&&(("load"==a.type?t:s)[c](f+a.type,h,i),!o&&(o=!0)&&e.call(t,null))},d=function(){try{u.doScroll("left")}catch(t){return void setTimeout(d,50)}h("poll")};if(s.readyState==n)e.call(t,"lazy");else{if(s.createEventObject&&u.doScroll){try{a=!t.frameElement}catch(t){}a&&d()}s[l](f+"DOMContentLoaded",h,i),s[l](f+r,h,i),t[l](f+"load",h,i)}}function d(t,e){var t=t.match(/^(\W)?(.*)/),e,n,r=(e=e||document)["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")].call(e,t[2]),i=[];return null!==r&&(i=r.length||0===r.length?r:[r]),i}function g(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}var v={use_svg:!1,use_canvas:!1,use_fallback:!1},m={},y=!1;canvas=document.createElement("canvas");var x=1,b=1,w=[];if(canvas.getContext)if(canvas.toDataURL("image/png").indexOf("data:image/png")<0)v.use_fallback=!0;else var M=canvas.getContext("2d");else v.use_fallback=!0;document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&(v.use_svg=!0,v.use_canvas=!1),v.use_fallback||(x=window.devicePixelRatio||1,b=M.webkitBackingStorePixelRatio||M.mozBackingStorePixelRatio||M.msBackingStorePixelRatio||M.oBackingStorePixelRatio||M.backingStorePixelRatio||1);var C=x/b,_={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},sky:{background:"#0D8FDB",foreground:"#fff",size:12},vine:{background:"#39DBAC",foreground:"#1E292C",size:12},lava:{background:"#F8591A",foreground:"#1C2846",size:12}},stylesheet:""};t.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(t){var e=this.regex.exec(t);return{width:+e[1],height:+e[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(t){var e=this.regex.exec(t);return{width:e[1],height:e[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(t){var e=this.regex.exec(t);return{size:_.themes.gray.size,foreground:"#"+e[2],background:"#"+e[1]}}},text:{regex:/text\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},font:{regex:/font\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(t){return this.regex.exec(t)[1]}}};var S=function(){if(window.XMLSerializer){var t=new XMLSerializer,e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.webkitMatchesSelector&&n.setAttribute("xmlns","http://www.w3.org/2000/svg");var i=document.createElementNS(e,"rect"),o=document.createElementNS(e,"text"),a=document.createTextNode(null);return o.setAttribute("text-anchor","middle"),o.appendChild(a),n.appendChild(i),n.appendChild(o),function(e){return n.setAttribute("width",e.width),n.setAttribute("height",e.height),i.setAttribute("width",e.width),i.setAttribute("height",e.height),i.setAttribute("fill",e.template.background),o.setAttribute("x",e.width/2),o.setAttribute("y",e.height/2),a.nodeValue=e.text,o.setAttribute("style",r({fill:e.template.foreground,"font-weight":"bold","font-size":e.text_height+"px","font-family":e.font,"dominant-baseline":"central"})),t.serializeToString(n)}}}();for(var k in t.flags)t.flags.hasOwnProperty(k)&&(t.flags[k].match=function(t){return t.match(this.regex)});t.invisible_error_fn=function(t){return function(t){if(t.hasAttribute("data-holder-invisible"))throw new Error("Holder: invisible placeholder")}},t.add_theme=function(e,n){return null!=e&&null!=n&&(_.themes[e]=n),t},t.add_image=function(e,n){var r=d(n);if(r.length)for(var i=0,o=r.length;i<o;i++){var a=document.createElement("img");a.setAttribute("data-src",e),r[i].appendChild(a)}return t},t.run=function(e){m=g({},v),y=!0;var n=g(_,e),r=[],i=[],o=[];for(null!=n.use_canvas&&n.use_canvas&&(m.use_canvas=!0,m.use_svg=!1),"string"==typeof n.images?i=d(n.images):window.NodeList&&n.images instanceof window.NodeList?i=n.images:window.Node&&n.images instanceof window.Node?i=[n.images]:window.HTMLCollection&&n.images instanceof window.HTMLCollection&&(i=n.images),"string"==typeof n.bgnodes?o=d(n.bgnodes):window.NodeList&&n.elements instanceof window.NodeList?o=n.bgnodes:window.Node&&n.bgnodes instanceof window.Node&&(o=[n.bgnodes]),c=0,l=i.length;c<l;c++)r.push(i[c]);var a=document.getElementById("holderjs-style");a||((a=document.createElement("style")).setAttribute("id","holderjs-style"),a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)),n.nocss||(a.styleSheet?a.styleSheet.cssText+=n.stylesheet:n.stylesheet.length&&a.appendChild(document.createTextNode(n.stylesheet)));for(var u=new RegExp(n.domain+'/(.*?)"?\\)'),l=o.length,c=0;c<l;c++){var h=window.getComputedStyle(o[c],null).getPropertyValue("background-image"),p=h.match(u),x=o[c].getAttribute("data-background-src"),b;if(p)(b=f(p[1].split("/"),n))&&s("background",o[c],b,h);else if(null!=x){var b;(b=f(x.substr(x.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n))&&s("background",o[c],b,h)}}for(l=r.length,c=0;c<l;c++){var w,M,b;M=w=h=null;try{M=r[c].getAttribute("src"),attr_datasrc=r[c].getAttribute("data-src")}catch(t){}if(null==attr_datasrc&&M&&M.indexOf(n.domain)>=0?h=M:attr_datasrc&&attr_datasrc.indexOf(n.domain)>=0&&(h=attr_datasrc),h)(b=f(h.substr(h.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n))&&(b.fluid?s("fluid",r[c],b,h):s("image",r[c],b,h))}return t},h(e,(function(){window.addEventListener?(window.addEventListener("resize",c,!1),window.addEventListener("orientationchange",c,!1)):window.attachEvent("onresize",c),y||t.run({}),"object"==typeof window.Turbolinks&&document.addEventListener("page:change",(function(){t.run({})}))})),"function"==typeof define&&define.amd&&define([],(function(){return t})),function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var r,i,o=0,a=n,s="";e.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&r>>8-o%1*8)){if((i=e.charCodeAt(o+=.75))>255)throw new t("'btoa' failed");r=r<<8|i}return s}),e.atob||(e.atob=function(e){if(1==(e=e.replace(/=+$/,"")).length%4)throw new t("'atob' failed");for(var r,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?s+=String.fromCharCode(255&r>>(6&-2*o)):0)i=n.indexOf(i);return s})}(),document.getElementsByClassName||(document.getElementsByClassName=function(t){var e=document,n,r,i,o=[];if(e.querySelectorAll)return e.querySelectorAll("."+t);if(e.evaluate)for(r=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",n=e.evaluate(r,e,null,0,null);i=n.iterateNext();)o.push(i);else for(n=e.getElementsByTagName("*"),r=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=0;i<n.length;i++)r.test(n[i].className)&&o.push(n[i]);return o}),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,(function(){return arguments[2].toUpperCase()}))),t.currentStyle[e]?t.currentStyle[e]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])})}(Holder,window),
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){function n(t){var e="length"in t&&t.length,n=K.type(t);return"function"!==n&&!K.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function r(t,e,n){if(K.isFunction(e))return K.grep(t,(function(t,r){return!!e.call(t,r,t)!==n}));if(e.nodeType)return K.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(st.test(e))return K.filter(e,t,n);e=K.filter(e,t)}return K.grep(t,(function(t){return W.call(e,t)>=0!==n}))}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return K.each(t.match(dt)||[],(function(t,n){e[n]=!0})),e}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+s.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xt.test(n)?K.parseJSON(n):n)}catch(t){}yt.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return Z.activeElement}catch(t){}}function h(t,e){return K.nodeName(t,"table")&&K.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ft.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;n<r;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function v(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),a=mt.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)K.event.add(e,i,l[i][n]);yt.hasData(t)&&(s=yt.access(t),u=K.extend({},s),yt.set(e,u))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&K.nodeName(t,e)?K.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function x(e,n){var r,i=K(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),o}function b(t){var e=Z,n=Ht[t];return n||("none"!==(n=x(t,e))&&n||((e=(Ut=(Ut||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=x(t,e),Ut.detach()),Ht[t]=n),n}function w(t,e,n){var r,i,o,a,s=t.style;return(n=n||Wt(t))&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||K.contains(t.ownerDocument,t)||(a=K.style(t,e)),Vt.test(a)&&Bt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Qt.length;i--;)if((e=Qt[i]+n)in t)return e;return r}function _(t,e,n){var r=Gt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=K.css(t,n+Mt[o],!0,i)),r?("content"===n&&(a-=K.css(t,"padding"+Mt[o],!0,i)),"margin"!==n&&(a-=K.css(t,"border"+Mt[o]+"Width",!0,i))):(a+=K.css(t,"padding"+Mt[o],!0,i),"padding"!==n&&(a+=K.css(t,"border"+Mt[o]+"Width",!0,i)));return a}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Wt(t),a="border-box"===K.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=w(t,e,o))<0||null==i)&&(i=t.style[e]),Vt.test(i))return i;r=a&&(Y.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(a?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],a=0,s=t.length;a<s;a++)(r=t[a]).style&&(o[a]=mt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[a]=mt.access(r,"olddisplay",b(r.nodeName)))):(i=Ct(r),"none"===n&&i||mt.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;a<s;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function N(t,e,n,r,i){return new N.prototype.init(t,e,n,r,i)}function E(){return setTimeout((function(){Kt=void 0})),Kt=K.now()}function A(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Mt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=(oe[e]||[]).concat(oe["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function R(t,e,n){var r,i,o,a,s,u,l,c,f=this,h={},d=t.style,p=t.nodeType&&Ct(t),g=mt.get(t,"fxshow");for(r in n.queue||(null==(s=K._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,K.queue(t,"fx").length||s.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===(c="none"===(l=K.css(t,"display"))?mt.get(t,"olddisplay")||b(t.nodeName):l)&&"none"===K.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),e)if(i=e[r],ee.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}h[r]=g&&g[r]||K.style(t,r)}else l=void 0;if(K.isEmptyObject(h))"inline"===("none"===l?b(t.nodeName):l)&&(d.display=l);else for(r in g?"hidden"in g&&(p=g.hidden):g=mt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?K(t).show():f.done((function(){K(t).hide()})),f.done((function(){var e;for(e in mt.remove(t,"fxshow"),h)K.style(t,e,h[e])})),h)a=L(p?g[r]:0,r,f),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function D(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=K.camelCase(n)],o=t[n],K.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=K.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}function j(t,e,n){var r,i,o=0,a=ie.length,s=K.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=Kt||E(),n=Math.max(0,l.startTime+l.duration-e),r,o=1-(n/l.duration||0),a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||E(),duration:n.duration,tweens:[],createTween:function(e,n){var r=K.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(D(c,l.opts.specialEasing);o<a;o++)if(r=ie[o].call(l,t,c,l.opts))return r;return K.map(c,L,l),K.isFunction(l.opts.start)&&l.opts.start.call(t,l),K.fx.timer(K.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(dt)||[];if(K.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function I(t,e,n,r){function i(s){var u;return o[s]=!0,K.each(t[s]||[],(function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)})),u}var o={},a=t===Me;return i(e.dataTypes[0])||!o["*"]&&i("*")}function O(t,e){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&K.extend(!0,t,r),t}function $(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function F(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function q(t,e,n,r){var i;if(K.isArray(e))K.each(e,(function(e,i){n||Te.test(t)?r(t,i):q(t+"["+("object"==typeof i?e:"")+"]",i,n,r)}));else if(n||"object"!==K.type(e))r(t,e);else for(i in e)q(t+"["+i+"]",e[i],n,r)}function z(t){return K.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],H=U.slice,B=U.concat,V=U.push,W=U.indexOf,J={},G=J.toString,X=J.hasOwnProperty,Y={},Z=t.document,Q="2.1.4",K=function(t,e){return new K.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};K.fn=K.prototype={jquery:Q,constructor:K,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=K.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return K.each(this,t,e)},map:function(t){return this.pushStack(K.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},K.extend=K.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[e]=K.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},K.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===K.type(t)&&!t.nodeType&&!K.isWindow(t)&&!(t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=K.trim(t))&&(1===t.indexOf("use strict")?((e=Z.createElement("script")).text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;o<a&&!1!==(i=e.apply(t[o],r));o++);else for(o in t)if(!1===(i=e.apply(t[o],r)))break}else if(s)for(;o<a&&!1!==(i=e.call(t[o],o,t[o]));o++);else for(o in t)if(!1===(i=e.call(t[o],o,t[o])))break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?K.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:W.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;o<a;o++)(r=!e(t[o],o))!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s,u=[];if(n(t))for(;o<a;o++)null!=(i=e(t[o],o,r))&&u.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&u.push(i);return B.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),K.isFunction(t))return r=H.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(H.call(arguments)))}).guid=t.guid=t.guid||K.guid++,i},now:Date.now,support:Y}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){J["[object "+e+"]"]=e.toLowerCase()}));var it=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,r){var i,o,a,s,u,l,f,d,p,g;if((e?e.ownerDocument||e:q)!==R&&L(e),n=n||[],s=(e=e||R).nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&j){if(11!==s&&(i=yt.exec(t)))if(a=i[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&$(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!P||!P.test(t))){if(d=f=F,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=S(t),(f=e.getAttribute("id"))?d=f.replace(bt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+h(l[u]);p=xt.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{f||e.removeAttribute("id")}}}return T(t.replace(ut,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>M.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[F]=!0,t}function i(t){var e=R.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)M.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n;return"input"===e.nodeName.toLowerCase()&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r((function(e){return e=+e,r((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,l=[z,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((s=(u=e[F]||(e[F]={}))[r])&&s[0]===z&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;i<o;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),l&&e.push(s)));return a}function m(t,e,n,i,o,a){return i&&!i[F]&&(i=m(i)),o&&!o[F]&&(o=m(o,a)),r((function(r,a,s,u){var l,c,f,h=[],d=[],p=a.length,m=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?m:v(m,h,t,s,u),x=n?o||(r?t:p||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||t){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?tt(r,f):h[c])>-1&&(r[l]=!(a[l]=f))}}else x=v(x===a?x.splice(p,x.length):x),o?o(null,a,x,u):Q.apply(a,x)}))}function y(t){for(var e,n,r,i=t.length,o=M.relative[t[0].type],a=o||M.relative[" "],s=o?1:0,u=d((function(t){return t===e}),a,!0),l=d((function(t){return tt(e,t)>-1}),a,!0),c=[function(t,n,r){var i=!o&&(r||n!==N)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];s<i;s++)if(n=M.relative[t[s].type])c=[d(p(c),n)];else{if((n=M.filter[t[s].type].apply(null,t[s].matches))[F]){for(r=++s;r<i&&!M.relative[t[r].type];r++);return m(s>1&&p(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ut,"$1"),n,s<r&&y(t.slice(s,r)),r<i&&y(t=t.slice(r)),r<i&&h(t))}c.push(n)}return p(c)}function x(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,f,h,d=0,p="0",g=r&&[],m=[],y=N,x=r||o&&M.find.TAG("*",l),b=z+=null==y?1:Math.random()||.1,w=x.length;for(l&&(N=a!==R&&a);p!==w&&null!=(c=x[p]);p++){if(o&&c){for(f=0;h=t[f++];)if(h(c,a,s)){u.push(c);break}l&&(z=b)}i&&((c=!h&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(g,m,a,s);if(r){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=Y.call(u));m=v(m)}Q.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(z=b,N=y),g};return i?r(a):a}var b,w,M,C,_,S,k,T,N,E,A,L,R,D,j,P,I,O,$,F="sizzle"+1*new Date,q=t.document,z=0,U=0,H=n(),B=n(),V=n(),W=function(t,e){return t===e&&(A=!0),0},J=1<<31,G={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,Q=X.push,K=X.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\[[\\x20\\t\\r\\n\\f]*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),lt=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),ct=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),ft=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ht=new RegExp(at),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Mt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{Q.apply(X=K.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){Z.apply(t,K.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}for(b in w=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,D=r.documentElement,(n=r.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),j=!_(r),w.attributes=i((function(t){return t.className="i",!t.getAttribute("className")})),w.getElementsByTagName=i((function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length})),w.getElementsByClassName=mt.test(r.getElementsByClassName),w.getById=i((function(t){return D.appendChild(t).id=F,!r.getElementsByName||!r.getElementsByName(F).length})),w.getById?(M.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},M.filter.ID=function(t){var e=t.replace(wt,Mt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(wt,Mt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),M.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},M.find.CLASS=w.getElementsByClassName&&function(t,e){if(j)return e.getElementsByClassName(t)},I=[],P=[],(w.qsa=mt.test(r.querySelectorAll))&&(i((function(t){D.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")})),i((function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")}))),(w.matchesSelector=mt.test(O=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i((function(t){w.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),I.push("!=",at)})),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),e=mt.test(D.compareDocumentPosition),$=e||mt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===q&&$(q,t)?-1:e===r||e.ownerDocument===q&&$(q,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:E?tt(E,t)-tt(E,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===q?-1:l[i]===q?1:0},r):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&L(t),n=n.replace(ft,"='$1']"),w.matchesSelector&&j&&(!I||!I.test(n))&&(!P||!P.test(n)))try{var r=O.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&L(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&L(t);var n=M.attrHandle[e.toLowerCase()],r=n&&G.call(M.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==r?r:w.attributes||!j?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(W),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return E=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},(M=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Mt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+nt+"|$)"))&&H(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(d=(l=(c=v[F]||(v[F]={}))[t]||[])[0]===z&&l[1],h=l[0]===z&&l[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===e){c[t]=[z,d,h];break}}else if(y&&(l=(e[F]||(e[F]={}))[t])&&l[0]===z)h=l[1];else for(;(f=++d&&f&&f[g]||(h=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++h||(y&&((f[F]||(f[F]={}))[t]=[z,h]),f!==e)););return(h-=i)===r||h%r==0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(i=[t,t,"",n],M.setFilters.hasOwnProperty(t.toLowerCase())?r((function(t,e){for(var r,i=o(t,n),a=i.length;a--;)t[r=tt(t,i[a])]=!(e[r]=i[a])})):function(t){return o(t,0,i)}):o}},pseudos:{not:r((function(t){var e=[],n=[],i=k(t.replace(ut,"$1"));return i[F]?r((function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:r((function(t){return function(n){return e(t,n).length>0}})),contains:r((function(t){return t=t.replace(wt,Mt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}})),lang:r((function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Mt).toLowerCase(),function(e){var n;do{if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l((function(){return[0]})),last:l((function(t,e){return[e-1]})),eq:l((function(t,e,n){return[n<0?n+e:n]})),even:l((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:l((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:l((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:l((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=u(b);return f.prototype=M.filters=M.pseudos,M.setFilters=new f,S=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=B[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=M.preFilter;s;){for(a in r&&!(i=lt.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length)),M.filter)!(i=pt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):B(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=y(e[n]))[F]?r.push(o):i.push(o);(o=V(t,x(i,r))).selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,f=!r&&S(t=l.selector||t);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&j&&M.relative[o[1].type]){if(!(e=(M.find.ID(a.matches[0].replace(wt,Mt),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!M.relative[s=a.type]);)if((u=M.find[s])&&(r=u(a.matches[0].replace(wt,Mt),xt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return Q.apply(n,r),n;break}}return(l||k(t,f))(r,e,!j,n,xt.test(t)&&c(e.parentNode)||e),n},w.sortStable=F.split("").sort(W).join("")===F,w.detectDuplicates=!!A,L(),w.sortDetached=i((function(t){return 1&t.compareDocumentPosition(R.createElement("div"))})),i((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),w.attributes&&i((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||o("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),i((function(t){return null==t.getAttribute("disabled")}))||o(et,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),e}(t);K.find=it,K.expr=it.selectors,K.expr[":"]=K.expr.pseudos,K.unique=it.uniqueSort,K.text=it.getText,K.isXMLDoc=it.isXML,K.contains=it.contains;var ot=K.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;K.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?K.find.matchesSelector(r,t)?[r]:[]:K.find.matches(t,K.grep(e,(function(t){return 1===t.nodeType})))},K.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(K(t).filter((function(){for(e=0;e<n;e++)if(K.contains(i[e],this))return!0})));for(e=0;e<n;e++)K.find(t,i[e],r);return(r=this.pushStack(n>1?K.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?K(t):t||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct;(K.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof K?e[0]:e,K.merge(this,K.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),at.test(n[1])&&K.isPlainObject(e))for(n in e)K.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=Z.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):K.isFunction(t)?void 0!==ut.ready?ut.ready(t):t(K):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))}).prototype=K.fn,ut=K(Z);var ft=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&K(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),K.fn.extend({has:function(t){var e=K(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(K.contains(this,e[t]))return!0}))},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ot.test(t)||"string"!=typeof t?K(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(t){return t?"string"==typeof t?W.call(K(t),this[0]):W.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(K.unique(K.merge(this.get(),K(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,n){return K.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,n){return K.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return K.dir(t,"previousSibling",n)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return t.contentDocument||K.merge([],t.childNodes)}},(function(t,e){K.fn[t]=function(n,r){var i=K.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(ht[t]||K.unique(i),ft.test(t)&&i.reverse()),this.pushStack(i)}}));var dt=/\S+/g,pt={},gt;K.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):K.extend({},t);var e,n,r,i,a,s,u=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&s<a;s++)if(!1===u[s].apply(o[0],o[1])&&t.stopOnFalse){e=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function e(n){K.each(n,(function(n,r){var i=K.type(r);"function"===i?t.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&e(r)}))}(arguments),r?a=u.length:e&&(i=n,c(e))}return this},remove:function(){return u&&K.each(arguments,(function(t,e){for(var n;(n=K.inArray(e,u,n))>-1;)u.splice(n,1),r&&(n<=a&&a--,n<=s&&s--)})),this},has:function(t){return t?K.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||f.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=[t,(e=e||[]).slice?e.slice():e],r?l.push(e):c(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred((function(n){K.each(e,(function(e,o){var a=K.isFunction(t[e])&&t[e];i[o[1]]((function(){var t=a&&a.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?K.extend(t,r):r}},i={};return r.pipe=r.then,K.each(e,(function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),t&&t.call(i,i),i},when:function(t){var e=0,n=H.call(arguments),r=n.length,i=1!==r||t&&K.isFunction(t.promise)?r:0,o=1===i?t:K.Deferred(),a=function(t,e,n){return function(r){e[t]=this,n[t]=arguments.length>1?H.call(arguments):r,n===s?o.notifyWith(e,n):--i||o.resolveWith(e,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);e<r;e++)n[e]&&K.isFunction(n[e].promise)?n[e].promise().done(a(e,l,n)).fail(o.reject).progress(a(e,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),K.fn.ready=function(t){return K.ready.promise().done(t),this},K.extend({isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){(!0===t?--K.readyWait:K.isReady)||(K.isReady=!0,!0!==t&&--K.readyWait>0||(gt.resolveWith(Z,[K]),K.fn.triggerHandler&&(K(Z).triggerHandler("ready"),K(Z).off("ready"))))}}),K.ready.promise=function(e){return gt||(gt=K.Deferred(),"complete"===Z.readyState?setTimeout(K.ready):(Z.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},K.ready.promise();var vt=K.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===K.type(n))for(s in i=!0,n)K.access(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,K.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(K(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o};K.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,K.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(K.isEmptyObject(o))K.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(r=this.get(t,e))?r:this.get(t,K.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{K.isArray(e)?r=e.concat(e.map(K.camelCase)):(i=K.camelCase(e),r=e in a?[e,i]:(r=i)in a?[r]:r.match(dt)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!K.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new s,yt=new s,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;K.extend({hasData:function(t){return yt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),K.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=K.camelCase(r.slice(5)),u(o,r,i[r]));mt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){yt.set(this,t)})):vt(this,(function(e){var n,r=K.camelCase(t);if(o&&void 0===e)return void 0!==(n=yt.get(o,t))||void 0!==(n=yt.get(o,r))||void 0!==(n=u(o,r,void 0))?n:void 0;this.each((function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){yt.remove(this,t)}))}}),K.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=mt.get(t,e),n&&(!r||K.isArray(n)?r=mt.access(t,e,K.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=K.queue(t,e),r=n.length,i=n.shift(),o=K._queueHooks(t,e),a=function(){K.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:K.Callbacks("once memory").add((function(){mt.remove(t,[e+"queue",n])}))})}}),K.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?K.queue(this[0],t):void 0===e?this:this.each((function(){var n=K.queue(this,t,e);K._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&K.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){K.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=K.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=mt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)},_t=/^(?:checkbox|radio)$/i,St,kt,Tt;kt=Z.createDocumentFragment().appendChild(Z.createElement("div")),(Tt=Z.createElement("input")).setAttribute("type","radio"),Tt.setAttribute("checked","checked"),Tt.setAttribute("name","t"),kt.appendChild(Tt),Y.checkClone=kt.cloneNode(!0).cloneNode(!0).lastChild.checked,kt.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!kt.cloneNode(!0).lastChild.defaultValue;var Nt="undefined";Y.focusinBubbles="onfocusin"in t;var Et=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,v=mt.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=K.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof K!==Nt&&K.event.triggered!==e.type?K.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(dt)||[""]).length;l--;)d=g=(s=Rt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=K.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=K.event.special[d]||{},c=K.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||((h=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a,!1)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),K.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,v=mt.hasData(t)&&mt.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(dt)||[""]).length;l--;)if(d=g=(s=Rt.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=K.event.special[d]||{},h=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||K.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)K.event.remove(t,d+e[l],n,r,!0);K.isEmptyObject(u)&&(delete v.handle,mt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,l,c,f,h=[r||Z],d=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Lt.test(d+K.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),
d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,(e=e[K.expando]?e:new K.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:K.makeArray(n,[e]),f=K.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!K.isWindow(r)){for(u=f.delegateType||d,Lt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||Z)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||d,(c=(mt.get(a,"events")||{})[e.type]&&mt.get(a,"handle"))&&c.apply(a,n),(c=l&&a[l])&&c.apply&&K.acceptData(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),n)||!K.acceptData(r)||l&&K.isFunction(r[d])&&!K.isWindow(r)&&((s=r[l])&&(r[l]=null),K.event.triggered=d,r[d](),K.event.triggered=void 0,s&&(r[l]=s)),e.result}},dispatch:function(t){t=K.event.fix(t);var e,n,r,i,o,a=[],s=H.call(arguments),u=(mt.get(this,"events")||{})[t.type]||[],l=K.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=K.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(r=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==t.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=e[n]).selector+" "]&&(r[i]=o.needsContext?K(i,this).index(u)>=0:K.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||Z).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=At.test(i)?this.mouseHooks:Et.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new K.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&K.nodeName(this,"input"))return this.click(),!1},_default:function(t){return K.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=K.extend(new K.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,e):K.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},K.Event=function(t,e){if(!(this instanceof K.Event))return new K.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?l:c):this.type=t,e&&K.extend(this,e),this.timeStamp=t&&t.timeStamp||K.now(),this[K.expando]=!0},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||K.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),Y.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=mt.access(r,e);i||r.addEventListener(t,n,!0),mt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=mt.access(r,e)-1;i?mt.access(r,e,i):(r.removeEventListener(t,n,!0),mt.remove(r,e))}}})),K.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){for(a in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,(r=function(t){return K().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=K.guid++)),this.each((function(){K.event.add(this,t,r,n,e)}))},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,K(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=c),this.each((function(){K.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){K.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return K.event.trigger(t,e,n,!0)}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jt=/<([\w:]+)/,Pt=/<|&#?\w+;/,It=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,$t=/^$|\/(?:java|ecma)script/i,Ft=/^true\/(.*)/,qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,K.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=K.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(a=m(s),r=0,i=(o=m(t)).length;r<i;r++)y(o[r],a[r]);if(e)if(n)for(o=o||m(t),a=a||m(s),r=0,i=o.length;r<i;r++)v(o[r],a[r]);else v(t,s);return(a=m(s,"script")).length>0&&g(a,!u&&m(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,l,c=e.createDocumentFragment(),f=[],h=0,d=t.length;h<d;h++)if((i=t[h])||0===i)if("object"===K.type(i))K.merge(f,i.nodeType?[i]:i);else if(Pt.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(jt.exec(i)||["",""])[1].toLowerCase(),s=zt[a]||zt._default,o.innerHTML=s[1]+i.replace(Dt,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;K.merge(f,o.childNodes),(o=c.firstChild).textContent=""}else f.push(e.createTextNode(i));for(c.textContent="",h=0;i=f[h++];)if((!r||-1===K.inArray(i,r))&&(u=K.contains(i.ownerDocument,i),o=m(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)$t.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=K.event.special,a=0;void 0!==(n=t[a]);a++){if(K.acceptData(n)&&(i=n[mt.expando])&&(e=mt.cache[i])){if(e.events)for(r in e.events)o[r]?K.event.remove(n,r):K.removeEvent(n,r,e.handle);mt.cache[i]&&delete mt.cache[i]}delete yt.cache[n[yt.expando]]}}}),K.fn.extend({text:function(t){return vt(this,(function(t){return void 0===t?K.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return this.domManip(arguments,(function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||h(this,t).appendChild(t)}))},prepend:function(){return this.domManip(arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},remove:function(t,e){for(var n,r=t?K.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||K.cleanData(m(n)),n.parentNode&&(e&&K.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(K.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return K.clone(this,t,e)}))},html:function(t){return vt(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!It.test(t)&&!zt[(jt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(K.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,(function(e){t=this.parentNode,K.cleanData(m(this)),t&&t.replaceChild(e,this)})),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=B.apply([],t);var n,r,i,o,a,s,u=0,l=this.length,c=this,f=l-1,h=t[0],g=K.isFunction(h);if(g||l>1&&"string"==typeof h&&!Y.checkClone&&Ot.test(h))return this.each((function(n){var r=c.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)}));if(l&&(r=(n=K.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=K.map(m(n,"script"),d)).length;u<l;u++)a=n,u!==f&&(a=K.clone(a,!0,!0),o&&K.merge(i,m(a,"script"))),e.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,p),u=0;u<o;u++)a=i[u],$t.test(a.type||"")&&!mt.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(qt,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){K.fn[t]=function(t){for(var n,r=[],i=K(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),K(i[a])[e](n),V.apply(r,n.get());return this.pushStack(r)}}));var Ut,Ht={},Bt=/^margin/,Vt=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Wt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&K.extend(Y,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),e}}))}(),K.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};var Jt=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+wt+")(.*)$","i"),Xt=new RegExp("^([+-])=("+wt+")","i"),Yt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"},Qt=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=K.camelCase(e),u=t.style;if(e=K.cssProps[s]||(K.cssProps[s]=C(u,s)),a=K.cssHooks[e]||K.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e];"string"===(o=typeof n)&&(i=Xt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(t,e)),o="number"),null!=n&&n==n&&("number"!==o||K.cssNumber[s]||(n+="px"),Y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n))}},css:function(t,e,n,r){var i,o,a,s=K.camelCase(e);return e=K.cssProps[s]||(K.cssProps[s]=C(t.style,s)),(a=K.cssHooks[e]||K.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Zt&&(i=Zt[e]),""===n||n?(o=parseFloat(i),!0===n||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],(function(t,e){K.cssHooks[e]={get:function(t,n,r){if(n)return Jt.test(K.css(t,"display"))&&0===t.offsetWidth?K.swap(t,Yt,(function(){return k(t,e,r)})):k(t,e,r)},set:function(t,n,r){var i=r&&Wt(t);return _(t,n,r?S(t,e,r,"border-box"===K.css(t,"boxSizing",!1,i),i):0)}}})),K.cssHooks.marginRight=M(Y.reliableMarginRight,(function(t,e){if(e)return K.swap(t,{display:"inline-block"},w,[t,"marginRight"])})),K.each({margin:"",padding:"",border:"Width"},(function(t,e){K.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+Mt[r]+e]=o[r]||o[r-2]||o[0];return i}},Bt.test(t)||(K.cssHooks[t+e].set=_)})),K.fn.extend({css:function(t,e){return vt(this,(function(t,e,n){var r,i,o={},a=0;if(K.isArray(e)){for(r=Wt(t),i=e.length;a<i;a++)o[e[a]]=K.css(t,e[a],!1,r);return o}return void 0!==n?K.style(t,e,n):K.css(t,e)}),t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){Ct(this)?K(this).show():K(this).hide()}))}}),K.Tween=N,N.prototype={constructor:N,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.fx=N.prototype.init,K.fx.step={};var Kt,te,ee=/^(?:toggle|show|hide)$/,ne=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),re=/queueHooks$/,ie=[R],oe={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=ne.exec(e),o=i&&i[3]||(K.cssNumber[t]?"":"px"),a=(K.cssNumber[t]||"px"!==o&&+r)&&ne.exec(K.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",K.style(n.elem,t,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(j,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;r<i;r++)n=t[r],oe[n]=oe[n]||[],oe[n].unshift(e)},prefilter:function(t,e){e?ie.unshift(t):ie.push(t)}}),K.speed=function(t,e,n){var r=t&&"object"==typeof t?K.extend({},t):{complete:n||!n&&e||K.isFunction(t)&&t,duration:t,easing:n&&e||e&&!K.isFunction(e)&&e};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=K.isEmptyObject(t),o=K.speed(e,n,r),a=function(){var e=j(this,K.extend({},t),o);(i||mt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=K.timers,a=mt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&re.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||K.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=mt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),K.each(["toggle","show","hide"],(function(t,e){var n=K.fn[e];K.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(A(e,!0),t,r,i)}})),K.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){K.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),K.timers=[],K.fx.tick=function(){var t,e=0,n=K.timers;for(Kt=K.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||K.fx.stop(),Kt=void 0},K.fx.timer=function(t){K.timers.push(t),t()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){te||(te=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(te),te=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(t,e){return t=K.fx&&K.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}}))},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",Y.checkOn=""!==t.value,Y.optSelected=n.selected,e.disabled=!0,Y.optDisabled=!n.disabled,(t=Z.createElement("input")).value="t",t.type="radio",Y.radioValue="t"===t.value}();var ae,se,ue=K.expr.attrHandle;K.fn.extend({attr:function(t,e){return vt(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){K.removeAttr(this,t)}))}}),K.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Nt?K.prop(t,e,n):(1===o&&K.isXMLDoc(t)||(e=e.toLowerCase(),r=K.attrHooks[e]||(K.expr.match.bool.test(e)?se:ae)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=K.find.attr(t,e))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void K.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;n=o[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&K.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),se={set:function(t,e,n){return!1===e?K.removeAttr(t,n):t.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ue[e]||K.find.attr;ue[e]=function(t,e,r){var i,o;return r||(o=ue[e],ue[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,ue[e]=o),i}}));var le=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(t,e){return vt(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[K.propFix[t]||t]}))}}),K.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return(o=1!==a||!K.isXMLDoc(t))&&(e=K.propFix[e]||e,i=K.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||le.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(K.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){K.propFix[this.toLowerCase()]=this}));var ce=/[\t\r\n\f]/g;K.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,l=this.length;if(K.isFunction(t))return this.each((function(e){K(this).addClass(t.call(this,e,this.className))}));if(s)for(e=(t||"").match(dt)||[];u<l;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(ce," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(K.isFunction(t))return this.each((function(e){K(this).removeClass(t.call(this,e,this.className))}));if(s)for(e=(t||"").match(dt)||[];u<l;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(ce," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):K.isFunction(t)?this.each((function(n){K(this).toggleClass(t.call(this,n,this.className,e),e)})):this.each((function(){if("string"===n)for(var e,r=0,i=K(this),o=t.match(dt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else n!==Nt&&"boolean"!==n||(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":mt.get(this,"__className__")||"")}))},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ce," ").indexOf(e)>=0)return!0;return!1}});var fe=/\r/g;K.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=K.isFunction(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,K(this).val()):t)?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,(function(t){return null==t?"":t+""}))),(e=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(fe,""):null==n?"":n:void 0}}),K.extend({valHooks:{option:{get:function(t){var e=K.find.attr(t,"value");return null!=e?e:K.trim(K.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(Y.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!K.nodeName(n.parentNode,"optgroup"))){if(e=K(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=K.makeArray(e),a=i.length;a--;)((r=i[a]).selected=K.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],(function(){K.valHooks[this]={set:function(t,e){if(K.isArray(e))return t.checked=K.inArray(K(t).val(),e)>=0}},Y.checkOn||(K.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){K.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),K.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var he=K.now(),de=/\?/;K.parseJSON=function(t){return JSON.parse(t+"")},K.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(n=new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||K.error("Invalid XML: "+t),e};var pe=/#.*$/,ge=/([?&])_=[^&]*/,ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ye=/^(?:GET|HEAD)$/,xe=/^\/\//,be=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,we={},Me={},Ce="*/".concat("*"),_e=t.location.href,Se=be.exec(_e.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e,type:"GET",isLocal:me.test(Se[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ce,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?O(O(t,K.ajaxSettings),e):O(K.ajaxSettings,t)},ajaxPrefilter:P(we),ajaxTransport:P(Me),ajax:function(t,e){function n(t,e,n,a){var u,c,m,y,b,M=e;2!==x&&(x=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(y=$(f,w,n)),y=F(f,y,w,u),u?(f.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(K.lastModified[i]=b),(b=w.getResponseHeader("etag"))&&(K.etag[i]=b)),204===t||"HEAD"===f.type?M="nocontent":304===t?M="notmodified":(M=y.state,c=y.data,u=!(m=y.error))):(m=M,!t&&M||(M="error",t<0&&(t=0))),w.status=t,w.statusText=(e||M)+"",u?p.resolveWith(h,[c,M,w]):p.rejectWith(h,[w,M,m]),w.statusCode(v),v=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:m]),g.fireWith(h,[w,M]),l&&(d.trigger("ajaxComplete",[w,f]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,l,c,f=K.ajaxSetup({},e),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?K(h):K.event,p=K.Deferred(),g=K.Callbacks("once memory"),v=f.statusCode||{},m={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=ve.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||_e)+"").replace(pe,"").replace(xe,Se[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=K.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=be.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Se[1]&&u[2]===Se[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Se[3]||("http:"===Se[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=K.param(f.data,f.traditional)),I(we,f,e,w),2===x)return w;for(c in(l=K.event&&f.global)&&0==K.active++&&K.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ye.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(de.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=ge.test(i)?i.replace(ge,"$1_="+he++):i+(de.test(i)?"&":"?")+"_="+he++)),f.ifModified&&(K.lastModified[i]&&w.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&w.setRequestHeader("If-None-Match",K.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ce+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(h,w,f)||2===x))return w.abort();for(c in b="abort",{success:1,error:1,complete:1})w[c](f[c]);if(r=I(Me,f,e,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout((function(){w.abort("timeout")}),f.timeout));try{x=1,r.send(m,n)}catch(t){if(!(x<2))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return K.get(t,e,n,"json")},getScript:function(t,e){return K.get(t,void 0,e,"script")}}),K.each(["get","post"],(function(t,e){K[e]=function(t,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=void 0),K.ajax({url:t,type:e,dataType:i,data:n,success:r})}})),K._evalUrl=function(t){return K.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},K.fn.extend({wrapAll:function(t){var e;return K.isFunction(t)?this.each((function(e){K(this).wrapAll(t.call(this,e))})):(this[0]&&(e=K(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(t){return K.isFunction(t)?this.each((function(e){K(this).wrapInner(t.call(this,e))})):this.each((function(){var e=K(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=K.isFunction(t);return this.each((function(n){K(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)})).end()}}),K.expr.filters.hidden=function(t){
return t.offsetWidth<=0&&t.offsetHeight<=0},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)};var ke=/%20/g,Te=/\[\]$/,Ne=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;K.param=function(t,e){var n,r=[],i=function(t,e){e=K.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,(function(){i(this.name,this.value)}));else for(n in t)q(n,t[n],e,i);return r.join("&").replace(ke,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=K.prop(this,"elements");return t?K.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!K(this).is(":disabled")&&Ae.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!_t.test(t))})).map((function(t,e){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,(function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}})):{name:e.name,value:n.replace(Ne,"\r\n")}})).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Le=0,Re={},De={0:200,1223:204},je=K.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",(function(){for(var t in Re)Re[t]()})),Y.cors=!!je&&"withCredentials"in je,Y.ajax=je=!!je,K.ajaxTransport((function(t){var e;if(Y.cors||je&&!t.crossDomain)return{send:function(n,r){var i,o=t.xhr(),a=++Le;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];for(i in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Re[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(De[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Re[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),K.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=K("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Pe=[],Ie=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||K.expando+"_"+he++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",(function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(Ie.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ie.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=K.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ie,"$1"+i):!1!==e.jsonp&&(e.url+=(de.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always((function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(i)),a&&K.isFunction(o)&&o(a[0]),a=o=void 0})),"script"})),K.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var r=at.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=K.buildFragment([t],e,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var Oe=K.fn.load;K.fn.load=function(t,e,n){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=K.trim(t.slice(s)),t=t.slice(0,s)),K.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&K.ajax({url:t,type:i,dataType:"html",data:e}).done((function(t){o=arguments,a.html(r?K("<div>").append(K.parseHTML(t)).find(r):t)})).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){K.fn[e]=function(t){return this.on(e,t)}})),K.expr.filters.animated=function(t){return K.grep(K.timers,(function(e){return t===e.elem})).length};var $e=t.document.documentElement;K.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=K.css(t,"position"),f=K(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=K.css(t,"top"),u=K.css(t,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),K.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},K.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){K.offset.setOffset(this,t,e)}));var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,K.contains(e,r)?(typeof r.getBoundingClientRect!==Nt&&(i=r.getBoundingClientRect()),n=z(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),K.nodeName(t[0],"html")||(r=t.offset()),r.top+=K.css(t[0],"borderTopWidth",!0),r.left+=K.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-K.css(n,"marginTop",!0),left:e.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||$e;t&&!K.nodeName(t,"html")&&"static"===K.css(t,"position");)t=t.offsetParent;return t||$e}))}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,n){var r="pageYOffset"===n;K.fn[e]=function(i){return vt(this,(function(e,i,o){var a=z(e);if(void 0===o)return a?a[n]:e[i];a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o}),e,i,arguments.length,null)}})),K.each(["top","left"],(function(t,e){K.cssHooks[e]=M(Y.pixelPosition,(function(t,n){if(n)return n=w(t,e),Vt.test(n)?K(t).position()[e]+"px":n}))})),K.each({Height:"height",Width:"width"},(function(t,e){K.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){K.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return vt(this,(function(e,n,r){var i;return K.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?K.css(e,n,a):K.style(e,n,r,a)}),e,o?r:void 0,o,null)}}))})),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return K}));var Fe=t.jQuery,qe=t.$;return K.noConflict=function(e){return t.$===K&&(t.$=qe),e&&t.jQuery===K&&(t.jQuery=Fe),K},typeof e===Nt&&(t.jQuery=t.$=K),K})),function(){function t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function e(t){return null===t?NaN:+t}function n(t){return!isNaN(t)}function r(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function i(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function s(){this._=Object.create(null)}function u(t){return(t+="")===ua||t[0]===la?la+t:t}function l(t){return(t+="")[0]===la?t.slice(1):t}function c(t){return u(t)in this._}function f(t){return(t=u(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(l(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function v(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function m(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ca.length;n<r;++n){var i=ca[n]+e;if(i in t)return i}}function y(){}function x(){}function b(t){function e(){for(var e=n,r=-1,i=e.length,o;++r<i;)(o=e[r].on)&&o.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,i){var o=r.get(e),a;return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function w(){Xo.event.preventDefault()}function M(){for(var t=Xo.event,e;e=t.sourceEvent;)t=e;return t}function C(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=b(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Xo.event;i.target=t,Xo.event=i,e[i.type].apply(n,r)}finally{Xo.event=o}}},e}function _(t){return ha(t,ma),t}function S(t){return"function"==typeof t?t:function(){return da(t,this)}}function k(t){return"function"==typeof t?t:function(){return pa(t,this)}}function T(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Xo.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function N(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+Xo.requote(t)+"(?:\\s+|$)","g")}function A(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}var i=(t=A(t).map(R)).length;return"function"==typeof e?r:n}function R(t){var e=E(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",N(i+" "+t))):n.setAttribute("class",N(i.replace(e," ")))}}function D(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function j(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function P(t){return"function"==typeof t?t:(t=Xo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function I(t){return{__data__:t}}function O(t){return function(){return va(this,t)}}function $(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function F(t,e){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=0,a=i.length,s;o<a;o++)(s=i[o])&&e(s,o,n);return t}function q(t){return ha(t,xa),t}function z(t){var e,n;return function(r,i,o){var a=t[o].update,s=a.length,u;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(u=a[e])&&++e<s;);return u}}function U(){var t=this.__transition__;t&&++t.active}function H(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,Zo(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e=new RegExp("^__on([^.]+)"+Xo.requote(t)+"$"),n;for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=B;s>0&&(t=t.slice(0,s));var l=wa.get(t);return l&&(t=l,u=V),s?e?i:r:e?y:o}function B(t,e){return function(n){var r=Xo.event;Xo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Xo.event=r}}}function V(t,e){var n=B(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function W(){var t=".dragsuppress-"+ ++Ca,e="click"+t,n=Xo.select(ta).on("touchmove"+t,w).on("dragstart"+t,w).on("selectstart"+t,w);if(Ma){var r=Ko.style,i=r[Ma];r[Ma]="none"}return function(o){if(n.on(t,null),Ma&&(r[Ma]=i),o){function a(){n.on(e,null)}n.on(e,(function(){w(),a()}),!0),setTimeout(a,0)}}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(_a<0&&(ta.scrollX||ta.scrollY)){var i=(n=Xo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_a=!(i.f||i.e),n.remove()}return _a?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function G(){return Xo.event.changedTouches[0].identifier}function X(){return Xo.event.target}function Y(){return ta}function Z(t){return t>0?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function K(t){return t>1?0:t<-1?Sa:Math.acos(t)}function tt(t){return t>1?Ta:t<-1?-Ta:Math.asin(t)}function et(t){return((t=Math.exp(t))-1/t)/2}function nt(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function it(t){return(t=Math.sin(t/2))*t}function ot(){}function at(t,e,n){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):bt(""+t,wt,at):new at(t,e,n)}function st(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,o=2*(n=n<0?0:n>1?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):ht(t instanceof ct?t.l:(t=Mt((t=Xo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function lt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ct(n,Math.cos(t*=Aa)*e,Math.sin(t)*e)}function ct(t,e,n){return this instanceof ct?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ct?new ct(t.l,t.a,t.b):t instanceof ut?lt(t.h,t.c,t.l):Mt((t=vt(t)).r,t.g,t.b):new ct(t,e,n)}function ft(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new vt(gt(3.2404542*(i=dt(i)*za)-1.5371385*(r=1*dt(r))-.4985314*(o=dt(o)*Ha)),gt(-.969266*i+1.8760108*r+.041556*o),gt(.0556434*i-.2040259*r+1.0572252*o))}function ht(t,e,n){return t>0?new ut(Math.atan2(n,e)*La,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function dt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):bt(""+t,vt,st):new vt(t,e,n)}function mt(t){return new vt(t>>16,t>>8&255,255&t)}function yt(t){return mt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var r=0,i=0,o=0,a,s,u;if(a=/([a-z]+)\((.*)\)/i.exec(t))switch(s=a[2].split(","),a[1]){case"hsl":return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case"rgb":return e(_t(s[0]),_t(s[1]),_t(s[2]))}return(u=Wa.get(t))?e(u.r,u.g,u.b):(null==t||"#"!==t.charAt(0)||isNaN(u=parseInt(t.slice(1),16))||(4===t.length?(r=(3840&u)>>4,r|=r>>4,i=240&u,i|=i>>4,o=15&u,o|=o<<4):7===t.length&&(r=(16711680&u)>>16,i=(65280&u)>>8,o=255&u)),e(r,i,o))}function wt(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),o=i-r,a,s,u=(i+r)/2;return o?(s=u<.5?o/(i+r):o/(2-i-r),a=t==i?(e-n)/o+(e<n?6:0):e==i?(n-t)/o+2:(t-e)/o+4,a*=60):(a=NaN,s=u>0&&u<1?0:a),new at(a,s,u)}function Mt(t,e,n){var r=pt((.4124564*(t=Ct(t))+.3575761*(e=Ct(e))+.1804375*(n=Ct(n)))/za),i=pt((.2126729*t+.7151522*e+.072175*n)/1),o;return ct(116*i-16,500*(r-i),200*(i-pt((.0193339*t+.119192*e+.9503041*n)/Ha)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function kt(t){return t}function Tt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Nt(e,n,t,r)}}function Nt(t,e,n,r){function i(){var t=u.status,e;if(!t&&At(u)||t>=200&&t<300||304===t){try{e=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,e)}else a.error.call(o,u)}var o={},a=Xo.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return ta.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=Xo.event;Xo.event=t;try{a.progress.call(o,u)}finally{Xo.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(Zo(arguments)))}})),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",(function(t){i(null,t)})),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Xo.rebind(o,a,"on"),null==r?o:o.get(Et(r))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(){var t=Rt(),e=Dt()-t;e>24?(isFinite(e)&&(clearTimeout(Ya),Ya=setTimeout(Lt,e)),Xa=0):(Xa=1,Qa(Lt))}function Rt(){var t=Date.now();for(Za=Ja;Za;)t>=Za.t&&(Za.f=Za.c(t-Za.t)),Za=Za.n;return t}function Dt(){for(var t,e=Ja,n=1/0;e;)e.f?e=t?t.n=e.n:Ja=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ga=t,n}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*sa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function It(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:kt;return function(t){var n=ts.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,g="",v="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,v="%",d="f";break;case"p":p=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,d="r";break}"$"===u&&(g=i[0],v=i[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h)))),d=es.get(d)||Ot;var x=l&&f;return function(t){var n=v;if(m&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var u=Xo.formatPrefix(t,h);t=u.scale(t),n=u.symbol+v}else t*=p;var b=(t=d(t,h)).lastIndexOf("."),w,M;if(b<0){var C=y?t.lastIndexOf("e"):-1;C<0?(w=t,M=""):(w=t.substring(0,C),M=t.substring(C))}else w=t.substring(0,b),M=e+t.substring(b+1);!l&&f&&(w=o(w,1/0));var _=g.length+w.length+M.length+(x?0:i.length),S=_<c?new Array(_=c-_+1).join(r):"";return x&&(w=o(S+w,S.length?c-M.length:1/0)),i+=g,t=w+M,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,_>>=1)+i+t+S.substring(_):i+(x?t:S+t))+n}}}function Ot(t){return t+""}function $t(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new rs(n-1)),1),n}function o(t,n){return e(t=new rs(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;a<r;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{rs=$t;var r=new $t;return r._=t,a(r,e,n)}finally{rs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=qt(t);return u.floor=u,u.round=qt(r),u.ceil=qt(i),u.offset=qt(o),u.range=s,t}function qt(t){return function(e,n){try{rs=$t;var r=new $t;return r._=e,t(r,n)._}finally{rs=Date}}}function zt(t){function e(t){function e(e){for(var n=[],i=-1,o=0,a,s,u;++i<r;)37===t.charCodeAt(i)&&(n.push(t.slice(o,i)),null!=(s=os[a=t.charAt(++i)])&&(a=t.charAt(++i)),(u=N[a])&&(a=u(e,null==s?"e"===a?" ":"0":s)),n.push(a),o=i+1);return n.push(t.slice(o,i)),n.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i;if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&rs!==$t,a=new(o?$t:rs);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in os?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,N.c.toString(),e,r)}function u(t,e,r){return n(t,N.x.toString(),e,r)}function l(t,e,r){return n(t,N.X.toString(),e,r)}function c(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(rs=$t);return e._=t,r(e)}finally{rs=Date}}var r=e(t);return n.parse=function(t){try{rs=$t;var e=r.parse(t);return e&&e._}finally{rs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=se;var x=Xo.map(),b=Ht(g),w=Bt(g),M=Ht(v),C=Bt(v),_=Ht(m),S=Bt(m),k=Ht(y),T=Bt(y);p.forEach((function(t,e){x.set(t.toLowerCase(),e)}));var N={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(f),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+ns.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(ns.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(ns.mondayOfYear(t),e,2)},x:e(h),X:e(d),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:Kt,e:Kt,H:ee,I:ee,j:te,L:ie,m:Qt,M:ne,p:c,S:re,U:Wt,w:Vt,W:Jt,x:u,X:l,y:Xt,Y:Gt,Z:Yt,"%":ae};return e}function Ut(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(Xo.requote).join("|")+")","i")}function Bt(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Yt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function te(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ee(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ne(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=sa(e)/60|0,i=sa(e)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function ae(t,e,n){ss.lastIndex=0;var r=ss.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function se(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function le(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ce(t,e){t&&fs.hasOwnProperty(t.type)&&fs[t.type](t,e)}function fe(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function he(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function de(){function t(t,e){e=e*Aa/2+Sa/4;var n=(t*=Aa)-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,f=i*u+c*Math.cos(s),h=c*a*Math.sin(s);ds.add(Math.atan2(h,f)),r=t,i=u,o=l}var e,n,r,i,o;ps.point=function(a,s){ps.point=t,r=(e=a)*Aa,i=Math.cos(s=(n=s)*Aa/2+Sa/4),o=Math.sin(s)},ps.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),tt(t[2])]}function we(t,e){return sa(t[0]-e[0])<Na&&sa(t[1]-e[1])<Na}function Me(t,e){t*=Aa;var n=Math.cos(e*=Aa);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){++gs,ms+=(t-ms)/gs,ys+=(e-ys)/gs,xs+=(n-xs)/gs}function _e(){function t(t,i){t*=Aa;var o=Math.cos(i*=Aa),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);vs+=l,bs+=l*(e+(e=a)),ws+=l*(n+(n=s)),Ms+=l*(r+(r=u)),Ce(e,n,r)}var e,n,r;ks.point=function(i,o){i*=Aa;var a=Math.cos(o*=Aa);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),ks.point=t,Ce(e,n,r)}}function Se(){ks.point=Me}function ke(){function t(t,e){t*=Aa;var n=Math.cos(e*=Aa),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=Math.sqrt(l*l+c*c+f*f),d=r*a+i*s+o*u,p=h&&-K(d)/h,g=Math.atan2(h,d);Cs+=p*l,_s+=p*c,Ss+=p*f,vs+=g,bs+=g*(r+(r=a)),ws+=g*(i+(i=s)),Ms+=g*(o+(o=u)),Ce(r,i,o)}var e,n,r,i,o;ks.point=function(a,s){e=a,n=s,ks.point=t,a*=Aa;var u=Math.cos(s*=Aa);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Ce(r,i,o)},ks.lineEnd=function(){t(e,n),ks.lineEnd=Se,ks.point=Me}}function Te(){return!0}function Ne(t,e,n,r,i){var o=[],a=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new Ae(n,t,null,!0),l=new Ae(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Ae(r,t,null,!1),l=new Ae(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}})),a.sort(e),Ee(o),Ee(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c=o[0],f,h;;){for(var d=c,p=!0;d.v;)if((d=d.n)===c)return;f=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=f.length;s<l;++s)i.point((h=f[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(var s=(f=d.p.z).length-1;s>=0;--s)i.point((h=f[s])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}f=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ae(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Le(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);d.point(n[0],n[1])}function u(){g.point=s,d.lineStart()}function l(){g.point=a,d.lineEnd()}function c(t,e){w.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function f(){y.lineStart(),w=[]}function h(){c(w[0][0],w[0][1]),y.lineEnd();var t=y.clean(),e=m.buffer(),n,r=e.length;if(w.pop(),b.push(w),w=null,r)if(1&t){var r,i=-1,a;if((r=(n=e[0]).length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++i<r;)o.point((a=n[i])[0],a[1]);o.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),v.push(e.filter(Re))}var d=e(o),p=i.invert(r[0],r[1]),g={point:a,lineStart:u,lineEnd:l,polygonStart:function(){g.point=c,g.lineStart=f,g.lineEnd=h,v=[],b=[]},polygonEnd:function(){g.point=a,g.lineStart=u,g.lineEnd=l,v=Xo.merge(v);var t=$e(p,b);v.length?(x||(o.polygonStart(),x=!0),Ne(v,je,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),v=b=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},v,m=De(),y=e(m),x=!1,b,w;return g}}function Re(t){return t.length>1}function De(){var t=[],e;return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:y,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function je(t,e){return((t=t.x)[0]<0?t[1]-Ta-Na:Ta-t[1])-((e=e.x)[0]<0?e[1]-Ta-Na:Ta-e[1])}function Pe(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var s=o>0?Sa:-Sa,u=sa(o-e);sa(u-Sa)<Na?(t.point(e,n=(n+a)/2>0?Ta:-Ta),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(o,n),i=0):r!==s&&u>=Sa&&(sa(e-r)<Na&&(e-=r*Na),sa(o-s)<Na&&(o-=s*Na),n=Ie(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=o,n=a),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Ie(t,e,n,r){var i,o,a=Math.sin(t-n);return sa(a)>Na?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Oe(t,e,n,r){var i;if(null==t)i=n*Ta,r.point(-Sa,i),r.point(0,i),r.point(Sa,i),r.point(Sa,0),r.point(Sa,-i),r.point(0,-i),r.point(-Sa,-i),r.point(-Sa,0),
r.point(-Sa,i);else if(sa(t[0]-e[0])>Na){var o=t[0]<e[0]?Sa:-Sa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function $e(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ds.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Sa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+Sa/4,x=Math.sin(y),b=Math.cos(y),w=m-h,M=w>=0?1:-1,C=M*w,_=C>Sa,S=p*x;if(ds.add(Math.atan2(S*M*Math.sin(C),g*b+S*Math.cos(C))),o+=_?w+M*ka:w,_^h>=n^m>=n){var k=ve(pe(f),pe(t));xe(k);var T=ve(i,k);xe(T);var N=(_^w>=0?-1:1)*tt(T[2]);(r>N||r===N&&(k[0]||k[1]))&&(a+=_^w>=0?1:-1)}if(!v++)break;h=m,p=x,g=b,f=t}}return(o<-Na||o<Na&&ds<0)^1&a}function Fe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d=[f,h],p,g=e(f,h),v=a?g?0:i(f,h):g?i(f+(f<0?Sa:-Sa),h):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(p=r(n,d),(we(n,p)||we(d,p))&&(d[0]+=Na,d[1]+=Na,g=e(d[0],d[1]))),g!==u)c=0,g?(t.lineStart(),p=r(d,n),t.point(p[0],p[1])):(p=r(n,d),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&a^g){var m;v&o||!(m=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&we(n,d)||t.point(d[0],d[1]),n=d,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r,i,a=[1,0,0],s=ve(pe(t),pe(e)),u=ge(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=o*u/c,h=-o*l/c,d=ve(a,s),p=ye(a,f),g;me(p,ye(s,h));var v=d,m=ge(p,v),y=ge(v,v),x=m*m-y*(ge(p,p)-1);if(!(x<0)){var b=Math.sqrt(x),w=ye(v,(-m-b)/y);if(me(w,p),w=be(w),!n)return w;var M=t[0],C=e[0],_=t[1],S=e[1],k;C<M&&(k=M,M=C,C=k);var T=C-M,N=sa(T-Sa)<Na,E;if(!N&&S<_&&(k=_,_=S,S=k),N||T<Na?N?_+S>0^w[1]<(sa(w[0]-M)<Na?_:S):_<=w[1]&&w[1]<=S:T>Sa^(M<=w[0]&&w[0]<=C)){var A=ye(v,(-m+b)/y);return me(A,p),[w,be(A)]}}}function i(e,n){var r=a?t:Sa-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=sa(o)>Na,u;return Le(e,n,pn(t,6*Aa),a?[0,-t]:[-Sa,t-Sa])}function qe(t,e,n,r){return function(i){var o=i.a,a=i.b,s=o.x,u=o.y,l,c,f=0,h=1,d=a.x-s,p=a.y-u,g;if(g=t-s,d||!(g>0)){if(g/=d,d<0){if(g<f)return;g<h&&(h=g)}else if(d>0){if(g>h)return;g>f&&(f=g)}if(g=n-s,d||!(g<0)){if(g/=d,d<0){if(g>h)return;g>f&&(f=g)}else if(d>0){if(g<f)return;g<h&&(h=g)}if(g=e-u,p||!(g>0)){if(g/=p,p<0){if(g<f)return;g<h&&(h=g)}else if(p>0){if(g>h)return;g>f&&(f=g)}if(g=r-u,p||!(g<0)){if(g/=p,p<0){if(g>h)return;g>f&&(f=g)}else if(p>0){if(g<f)return;g<h&&(h=g)}return f>0&&(i.a={x:s+f*d,y:u+f*p}),h<1&&(i.b={x:s+h*d,y:u+h*p}),i}}}}}}function ze(t,e,n,r){function i(r,i){return sa(r[0]-t)<Na?i>0?0:3:sa(r[0]-n)<Na?i>0?2:1:sa(r[1]-e)<Na?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=x.length,r=t[1],i=0;i<n;++i)for(var o=1,a=x[i],s=a.length,u=a[0],l;o<s;++o)l=a[o],u[1]<=r?l[1]>r&&Q(u,l,t)>0&&++e:l[1]<=r&&Q(u,l,t)<0&&--e,u=l;return 0!==e}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f);else l.point(s[0],s[1])}function c(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function f(t,e){c(t,e)&&s.point(t,e)}function h(){w.point=p,x&&x.push(b=[]),N=!0,T=!1,S=k=NaN}function d(){y&&(p(M,C),_&&T&&v.rejoin(),y.push(v.buffer())),w.point=f,T&&s.lineEnd()}function p(t,e){var n=c(t=Math.max(-1e9,Math.min(Ns,t)),e=Math.max(-1e9,Math.min(Ns,e)));if(x&&b.push([t,e]),N)M=t,C=e,_=n,N=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&T)s.point(t,e);else{var r={a:{x:S,y:k},b:{x:t,y:e}};m(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),E=!1):n&&(s.lineStart(),s.point(t,e),E=!1)}S=t,k=e,T=n}var g=s,v=De(),m=qe(t,e,n,r),y,x,b,w={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=v,y=[],x=[],E=!0},polygonEnd:function(){s=g,y=Xo.merge(y);var e=u([t,r]),n=E&&e,i=y.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Ne(y,o,e,l,s),s.polygonEnd()),y=x=b=null}},M,C,_,S,k,T,N,E;return w}}function Ue(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function He(t){var e=0,n=Sa/3,r=an(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Sa/180,n=t[1]*Sa/180):[e/Sa*180,n/Sa*180]},i}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,tt((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ve(){function t(t,e){As+=i*t-r*e,r=t,i=e}var e,n,r,i;Ls.point=function(o,a){Ls.point=t,e=r=o,n=i=a},Ls.lineEnd=function(){t(e,n)}}function We(t,e){t<Rs&&(Rs=t),t>js&&(js=t),e<Ds&&(Ds=e),e>Ps&&(Ps=e)}function Je(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xe(t,e){ms+=t,ys+=e,++xs}function Ye(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);bs+=a*(e+t)/2,ws+=a*(n+r)/2,Ms+=a,Xe(e=t,n=r)}var e,n;Os.point=function(r,i){Os.point=t,Xe(e=r,n=i)}}function Ze(){Os.point=Xe}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);bs+=a*(r+t)/2,ws+=a*(i+e)/2,Ms+=a,Cs+=(a=i*t-r*e)*(r+t),_s+=a*(i+e),Ss+=3*a,Xe(r=t,i=e)}var e,n,r,i;Os.point=function(o,a){Os.point=t,Xe(e=r=o,n=i=a)},Os.lineEnd=function(){t(e,n)}}function Ke(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,ka)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:y};return s}function tn(t){function e(t){return(s?r:n)(t)}function n(e){return rn(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){x=NaN,_.point=o,e.lineStart()}function o(n,r){var o=pe([n,r]),a=t(n,r);i(x,b,y,w,M,C,x=a[0],b=a[1],y=n,w=o[0],M=o[1],C=o[2],s,e),e.point(x,b)}function a(){_.point=n,e.lineEnd()}function u(){r(),_.point=l,_.lineEnd=c}function l(t,e){o(f=t,h=e),d=x,p=b,g=w,v=M,m=C,_.point=o}function c(){i(x,b,y,w,M,C,d,p,f,g,v,m,s,e),_.lineEnd=a,a()}var f,h,d,p,g,v,m,y,x,b,w,M,C,_={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),_.lineStart=u},polygonEnd:function(){e.polygonEnd(),_.lineStart=r}};return _}function i(e,n,r,s,u,l,c,f,h,d,p,g,v,m){var y=c-e,x=f-n,b=y*y+x*x;if(b>4*o&&v--){var w=s+d,M=u+p,C=l+g,_=Math.sqrt(w*w+M*M+C*C),S=Math.asin(C/=_),k=sa(sa(C)-1)<Na||sa(r-h)<Na?(r+h)/2:Math.atan2(M,w),T=t(k,S),N=T[0],E=T[1],A=N-e,L=E-n,R=x*A-y*L;(R*R/b>o||sa((y*A+x*L)/b-.5)>.3||s*d+u*p+l*g<a)&&(i(e,n,r,s,u,l,N,E,k,w/=_,M/=_,C,v,m),m.point(N,E),i(N,E,k,w,M,C,c,f,h,d,p,g,v,m))}}var o=.5,a=Math.cos(30*Aa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function en(t){var e=tn((function(e,n){return t([e*La,n*La])}));return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return an((function(){return t}))()}function an(t){function e(t){return[(t=s(t[0]*Aa,t[1]*Aa))[0]*l+m,y-t[1]*l]}function n(t){return(t=s.invert((t[0]-m)/l,(y-t[1])/l))&&[t[0]*La,t[1]*La]}function r(){s=Ue(a=cn(p,g,v),o);var t=o(h,d);return m=c-t[0]*l,y=f+t[1]*l,i()}function i(){return C&&(C.valid=!1,C=null),e}var o,a,s,u=tn((function(t,e){return[(t=o(t,e))[0]*l+m,y-t[1]*l]})),l=150,c=480,f=250,h=0,d=0,p=0,g=0,v=0,m,y,x=Ts,b=kt,w=null,M=null,C;return e.stream=function(t){return C&&(C.valid=!1),(C=sn(x(a,u(b(t))))).valid=!0,C},e.clipAngle=function(t){return arguments.length?(x=null==t?(w=t,Ts):Fe((w=+t)*Aa),i()):w},e.clipExtent=function(t){return arguments.length?(M=t,b=t?ze(t[0][0],t[0][1],t[1][0],t[1][1]):kt,i()):M},e.scale=function(t){return arguments.length?(l=+t,r()):l},e.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],r()):[c,f]},e.center=function(t){return arguments.length?(h=t[0]%360*Aa,d=t[1]%360*Aa,r()):[h*La,d*La]},e.rotate=function(t){return arguments.length?(p=t[0]%360*Aa,g=t[1]%360*Aa,v=t.length>2?t[2]%360*Aa:0,r()):[p*La,g*La,v*La]},Xo.rebind(e,u,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sn(t){return rn(t,(function(e,n){t.point(e*Aa,n*Aa)}))}function un(t,e){return[t,e]}function ln(t,e){return[t>Sa?t-ka:t<-Sa?t+ka:t,e]}function cn(t,e,n){return t?e||n?Ue(hn(t),dn(e,n)):hn(t):e||n?dn(e,n):ln}function fn(t){return function(e,n){return[(e+=t)>Sa?e-ka:e<-Sa?e+ka:e,n]}}function hn(t){var e=fn(t);return e.invert=fn(-t),e}function dn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),tt(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),tt(c*r-s*i)]},n}function pn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=gn(n,i),o=gn(n,o),(a>0?i<o:i>o)&&(i+=a*ka)):(i=t+a*ka,o=t-.5*u);for(var l,c=i;a>0?c>o:c<o;c-=u)s.point((l=be([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gn(t,e){var n=pe(e);n[0]-=t,xe(n);var r=K(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Na)%(2*Math.PI)}function vn(t,e,n){var r=Xo.range(t,e-Na,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function mn(t,e,n){var r=Xo.range(t,e-Na,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function yn(t){return t.source}function xn(t){return t.target}function bn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(it(r-e)+i*a*it(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,r=n*u+e*c,i=n*l+e*f,a=n*o+e*s;return[Math.atan2(i,r)*La,Math.atan2(a,Math.sqrt(r*r+i*i))*La]}:function(){return[t*La,e*La]};return p.distance=h,p}function wn(){function t(t,i){var o=Math.sin(i*=Aa),a=Math.cos(i),s=sa((t*=Aa)-e),u=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;Fs.point=function(i,o){e=i*Aa,n=Math.sin(o*=Aa),r=Math.cos(o),Fs.point=t},Fs.lineEnd=function(){Fs.point=Fs.lineEnd=y}}function Mn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Cn(t,e){function n(t,e){a>0?e<-Ta+Na&&(e=-Ta+Na):e>Ta-Na&&(e=Ta-Na);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Sa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ta]},n):Sn}function _n(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return sa(i)<Na?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Z(i)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(Sa/4+e/2))]}function kn(t){var e=on(t),n=e.scale,r=e.translate,i=e.clipExtent,o;return e.scale=function(){var t=n.apply(e,arguments);return t===e?o?e.clipExtent(null):e:t},e.translate=function(){var t=r.apply(e,arguments);return t===e?o?e.clipExtent(null):e:t},e.clipExtent=function(t){var a=i.apply(e,arguments);if(a===e){if(o=null==t){var s=Sa*n(),u=r();i([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else o&&(a=null);return a},e.clipExtent(null)}function Tn(t,e){return[Math.log(Math.tan(Sa/4+e/2)),-t]}function Nn(t){return t[0]}function En(t){return t[1]}function An(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ln(t,e){return t[0]-e[0]||t[1]-e[1]}function Rn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Dn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function jn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){nr(this),this.edge=this.site=this.circle=null}function In(t){var e=Xs.pop()||new Pn;return e.site=t,e}function On(t){Jn(t),Gs.remove(t),Xs.push(t),nr(t)}function $n(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];On(t);for(var u=o;u.circle&&sa(n-u.circle.x)<Na&&sa(r-u.circle.cy)<Na;)o=u.P,s.unshift(u),On(u),u=o;s.unshift(u),Jn(u);for(var l=a;l.circle&&sa(n-l.circle.x)<Na&&sa(r-l.circle.cy)<Na;)a=l.N,s.push(l),On(l),l=a;s.push(l),Jn(l);var c=s.length,f;for(f=1;f<c;++f)l=s[f],u=s[f-1],Kn(l.edge,u.site,l.site,i);u=s[0],(l=s[c-1]).edge=Zn(u.site,l.site,null,i),Wn(u),Wn(l)}function Fn(t){for(var e=t.x,n=t.y,r,i,o,a,s=Gs._;s;)if((o=qn(s,n)-e)>Na)s=s.L;else{if(!((a=e-zn(s,n))>Na)){o>-Na?(r=s.P,i=s):a>-Na?(r=s,i=s.N):r=i=s;break}if(!s.R){r=s;break}s=s.R}var u=In(t);if(Gs.insert(r,u),r||i){if(r===i)return Jn(r),i=In(r.site),Gs.insert(u,i),u.edge=i.edge=Zn(r.site,u.site),Wn(r),void Wn(i);if(i){Jn(r),Jn(i);var l=r.site,c=l.x,f=l.y,h=t.x-c,d=t.y-f,p=i.site,g=p.x-c,v=p.y-f,m=2*(h*v-d*g),y=h*h+d*d,x=g*g+v*v,b={x:(v*y-d*x)/m+c,y:(h*x-g*y)/m+f};Kn(i.edge,l,p,b),u.edge=Zn(l,t,null,b),i.edge=Zn(t,p,null,b),Wn(r),Wn(i)}else u.edge=Zn(r.site,u.site)}}function qn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function zn(t,e){var n=t.N;if(n)return qn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Un(t){this.site=t,this.edges=[]}function Hn(t){for(var e=t[0][0],n=t[1][0],r=t[0][1],i=t[1][1],o,a,s,u,l=Js,c=l.length,f,h,d,p,g,v;c--;)if((f=l[c])&&f.prepare())for(p=(d=f.edges).length,h=0;h<p;)s=(v=d[h].end()).x,u=v.y,o=(g=d[++h%p].start()).x,a=g.y,(sa(s-o)>Na||sa(u-a)>Na)&&(d.splice(h,0,new tr(Qn(f.site,v,sa(s-e)<Na&&i-u>Na?{x:e,y:sa(o-e)<Na?a:i}:sa(u-i)<Na&&n-s>Na?{x:sa(a-i)<Na?o:n,y:i}:sa(s-n)<Na&&u-r>Na?{x:n,y:sa(o-n)<Na?a:r}:sa(u-r)<Na&&s-e>Na?{x:sa(a-r)<Na?o:e,y:r}:null),f.site,null)),++p)}function Bn(t,e){return e.angle-t.angle}function Vn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f,h=2*(u*(f=o.y-s)-l*c);if(!(h>=-Ea)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,v=(u*p-c*d)/h,f=v+s,m=Qs.pop()||new Vn;m.arc=t,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,t.circle=m;for(var y=null,x=Zs._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Zs.insert(y,m),y||(Ys=m)}}}}function Jn(t){var e=t.circle;e&&(e.P||(Ys=e.N),Zs.remove(e),Qs.push(e),nr(e),t.circle=null)}function Gn(t){for(var e=Ws,n=qe(t[0][0],t[0][1],t[1][0],t[1][1]),r=e.length,i;r--;)(!Xn(i=e[r],t)||!n(i)||sa(i.a.x-i.b.x)<Na&&sa(i.a.y-i.b.y)<Na)&&(i.a=i.b=null,e.splice(r,1))}function Xn(t,e){var n=t.b;if(n)return!0;var r=t.a,i=e[0][0],o=e[1][0],a=e[0][1],s=e[1][1],u=t.l,l=t.r,c=u.x,f=u.y,h=l.x,d=l.y,p=(c+h)/2,g=(f+d)/2,v,m;if(d===f){if(p<i||p>=o)return;if(c>h){if(r){if(r.y>=s)return}else r={x:p,y:a};n={x:p,y:s}}else{if(r){if(r.y<a)return}else r={x:p,y:s};n={x:p,y:a}}}else if(m=g-(v=(c-h)/(d-f))*p,v<-1||v>1)if(c>h){if(r){if(r.y>=s)return}else r={x:(a-m)/v,y:a};n={x:(s-m)/v,y:s}}else{if(r){if(r.y<a)return}else r={x:(s-m)/v,y:s};n={x:(a-m)/v,y:a}}else if(f<d){if(r){if(r.x>=o)return}else r={x:i,y:v*i+m};n={x:o,y:v*o+m}}else{if(r){if(r.x<i)return}else r={x:o,y:v*o+m};n={x:i,y:v*i+m}}return t.a=r,t.b=n,!0}function Yn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Yn(t,e);return Ws.push(i),n&&Kn(i,t,e,n),r&&Kn(i,e,t,r),Js[t.i].edges.push(new tr(i,t,e)),Js[e.i].edges.push(new tr(i,e,t)),i}function Qn(t,e,n){var r=new Yn(t,null);return r.a=e,r.b=n,Ws.push(r),r}function Kn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function ar(t,e){var n=t.sort(sr).pop(),r,i,o;for(Ws=[],Js=new Array(t.length),Gs=new er,Zs=new er;;)if(o=Ys,n&&(!o||n.y<o.y||n.y===o.y&&n.x<o.x))n.x===r&&n.y===i||(Js[n.i]=new Un(n),Fn(n),r=n.x,i=n.y),n=t.pop();else{if(!o)break;$n(o.arc)}e&&(Gn(e),Hn(e));var a={cells:Js,edges:Ws};return Gs=Zs=Ws=Js=null,a}function sr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function cr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&hr(t,u[0],n,r,a,s),u[1]&&hr(t,u[1],a,r,i,s),u[2]&&hr(t,u[2],n,s,a,o),u[3]&&hr(t,u[3],a,s,i,o)}}function dr(t,e){t=Xo.rgb(t),e=Xo.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(r+a*t))+xt(Math.round(i+s*t))}}function pr(t,e){var n={},r={},i;for(i in t)i in e?n[i]=mr(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vr(t,e){var n=tu.lastIndex=eu.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t+="",e+="";(r=tu.exec(t))&&(i=eu.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:gr(r,i)})),n=eu.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n=0,r;n<e;++n)s[(r=u[n]).i]=r.x(t);return s.join("")})}function mr(t,e){for(var n=Xo.interpolators.length,r;--n>=0&&!(r=Xo.interpolators[n](t,e)););return r}function yr(t,e){var n=[],r=[],i=t.length,o=e.length,a=Math.min(t.length,e.length),s;for(s=0;s<a;++s)n.push(mr(t[s],e[s]));for(;s<i;++s)r[s]=t[s];for(;s<o;++s)r[s]=e[s];return function(t){for(s=0;s<a;++s)r[s]=n[s](t);return r}}function xr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function br(t){return function(e){return 1-t(1-e)}}function wr(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Mr(t){return t*t}function Cr(t){return t*t*t}function _r(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Sr(t){return function(e){return Math.pow(e,t)}}function kr(t){return 1-Math.cos(t*Ta)}function Tr(t){return Math.pow(2,10*(t-1))}function Nr(t){return 1-Math.sqrt(1-t*t)}function Er(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/ka*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*ka/e)}}function Ar(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Lr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=Xo.hcl(t),e=Xo.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Dr(t,e){t=Xo.hsl(t),e=Xo.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return st(n+o*t,r+a*t,i+s*t)+""}}function jr(t,e){t=Xo.lab(t),e=Xo.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ft(n+o*t,r+a*t,i+s*t)+""}}function Pr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ir(t){var e=[t.a,t.b],n=[t.c,t.d],r=$r(e),i=Or(e,n),o=$r(Fr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*La,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*La:0}function Or(t,e){return t[0]*e[0]+t[1]*e[1]}function $r(t){var e=Math.sqrt(Or(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Fr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function qr(t,e){var n=[],r=[],i,o=Xo.transform(t),a=Xo.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,f=o.skew,h=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:gr(s[0],u[0])},{i:3,x:gr(s[1],u[1])})):u[0]||u[1]?n.push("translate("+u+")"):n.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:gr(l,c)})):c&&n.push(n.pop()+"rotate("+c+")"),f!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:gr(f,h)}):h&&n.push(n.pop()+"skewX("+h+")"),d[0]!=p[0]||d[1]!=p[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:gr(d[0],p[0])},{i:i-2,x:gr(d[1],p[1])})):1==p[0]&&1==p[1]||n.push(n.pop()+"scale("+p+")"),i=r.length,function(t){for(var e=-1,o;++e<i;)n[(o=r[e]).i]=o.x(t);return n.join("")}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ur(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Hr(t){for(var e=t.source,n=t.target,r=Vr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Br(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vr(t,e){if(t===e)return t;for(var n=Br(t),r=Br(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Wr(t){t.fixed|=2}function Jr(t){t.fixed&=-7}function Gr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xr(t){t.fixed&=-5}function Yr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o=t.nodes,a=o.length,s=-1,u;++s<a;)null!=(u=o[s])&&(Yr(u,e,n),t.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Zr(t,e){return Xo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ri,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Kr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(o=a.length))for(var i=-1,o,a;++i<o;)n.push(a[i]);for(;null!=(t=r.pop());)e(t)}function ti(t){return t.children}function ei(t){return t.value}function ni(t,e){return e.value-t.value}function ri(t){return Xo.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}function ii(t){return t.x}function oi(t){return t.y}function ai(t,e,n){t.y0=e,t.y=n}function si(t){return Xo.range(t.length)}function ui(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function li(t){for(var e=1,n=0,r=t[0][1],i,o=t.length;e<o;++e)(i=t[e][1])>r&&(n=e,r=i);return n}function ci(t){return t.reduce(fi,0)}function fi(t,e){return t+e[1]}function hi(t,e){return di(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function di(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function pi(t){return[Xo.min(t),Xo.max(t)]}function gi(t,e){return t.value-e.value}function vi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function mi(t,e){t._pack_next=e,e._pack_prev=t}function yi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xi(t){function e(t){r=Math.min(t.x-t.r,r),i=Math.max(t.x+t.r,i),o=Math.min(t.y-t.r,o),a=Math.max(t.y+t.r,a)}if((n=t.children)&&(d=n.length)){var n,r=1/0,i=-1/0,o=1/0,a=-1/0,s,u,l,c,f,h,d;if(n.forEach(bi),(s=n[0]).x=-s.r,s.y=0,e(s),d>1&&((u=n[1]).x=u.r,u.y=0,e(u),d>2))for(Ci(s,u,l=n[2]),e(l),vi(s,l),s._pack_prev=l,vi(l,u),u=s._pack_next,c=3;c<d;c++){Ci(s,u,l=n[c]);var p=0,g=1,v=1;for(f=u._pack_next;f!==u;f=f._pack_next,g++)if(yi(f,l)){p=1;break}if(1==p)for(h=s._pack_prev;h!==f._pack_prev&&!yi(h,l);h=h._pack_prev,v++);p?(g<v||g==v&&u.r<s.r?mi(s,u=f):mi(s=h,u),c--):(vi(s,l),u=l,e(l))}var m=(r+i)/2,y=(o+a)/2,x=0;for(c=0;c<d;c++)(l=n[c]).x-=m,l.y-=y,x=Math.max(x,l.r+Math.sqrt(l.x*l.x+l.y*l.y));t.r=x,n.forEach(wi)}}function bi(t){t._pack_next=t._pack_prev=t}function wi(t){delete t._pack_next,delete t._pack_prev}function Mi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Mi(i[o],e,n,r)}function Ci(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function _i(t,e){return t.parent==e.parent?1:2}function Si(t){var e=t.children;return e.length?e[0]:t.t}function ki(t){var e=t.children,n;return(n=e.length)?e[n-1]:t.t}function Ti(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ni(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)(o=r[i]).z+=e,o.m+=e,e+=o.s+(n+=o.c)}function Ei(t,e,n){return t.a.parent===e.parent?t.a:n}function Ai(t){return 1+Xo.max(t,(function(t){return t.y}))}function Li(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}function Ri(t){var e=t.children;return e&&e.length?Ri(e[0]):t}function Di(t){var e=t.children,n;return e&&(n=e.length)?Di(e[n-1]):t}function ji(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Pi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ii(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Oi(t){return t.rangeExtent?t.rangeExtent():Ii(t.range())}function $i(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Fi(t,e){var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function qi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:hu}function zi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=Xo.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Ui(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?zi:$i,u=r?Ur:zr;return a=i(t,e,u,n),s=i(e,t,u,mr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Pr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Wi(t,e)},o.tickFormat=function(e,n){return Ji(t,e,n)},o.nice=function(e){return Bi(t,e),i()},o.copy=function(){return Ui(t,e,n,r)},i()}function Hi(t,e){return Xo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Bi(t,e){return Fi(t,qi(Vi(t,e)[2]))}function Vi(t,e){null==e&&(e=10);var n=Ii(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Wi(t,e){return Xo.range.apply(Xo,Vi(t,e))}function Ji(t,e,n){var r=Vi(t,e);if(n){var i=ts.exec(n);if(i.shift(),"s"===i[8]){var o=Xo.formatPrefix(Math.max(sa(r[0]),sa(r[1])));return i[7]||(i[7]="."+Gi(o.scale(r[2]))),i[8]="f",n=Xo.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Xi(i[8],r)),n=i.join("")}else n=",."+Gi(r[2])+"f";return Xo.format(n)}function Gi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xi(t,e){var n=Gi(e[2]);return t in du?Math.abs(n-Gi(Math.max(sa(e[0]),sa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Yi(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Fi(r.map(i),n?Math:gu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Ii(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var h=1;h<f;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return pu;arguments.length<2?e=pu:"function"!=typeof e&&(e=Xo.format(e));var r=Math.max(.1,t/a.ticks().length),s=n?(u=1e-12,Math.ceil):(u=-1e-12,Math.floor),u;return function(t){return t/o(s(i(t)+u))<=r?e(t):""}},a.copy=function(){return Yi(t.copy(),e,n,r)},Hi(a,t)}function Zi(t,e,n){function r(e){return t(i(e))}var i=Qi(e),o=Qi(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Wi(n,t)},r.tickFormat=function(t,e){return Ji(n,t,e)},r.nice=function(t){return r.domain(Bi(n,t))},r.exponent=function(a){return arguments.length?(i=Qi(e=a),o=Qi(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Zi(t.copy(),e,n)},Hi(r,t)}function Qi(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ki(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return Xo.range(t.length).map((function(t){return e+n*t}))}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new s;for(var o=-1,a=r.length,u;++o<a;)i.has(u=r[o])||i.set(u,t.push(u));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+s);return o=r(t.length<2?(u+l)/2:u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=(f-c)/(t.length-s+2*u);return o=r(c+h*u,h),l&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=Math.floor((f-c)/(t.length-s+2*u)),d=f-c-(t.length-s)*h;return o=r(c+Math.round(d/2),h),l&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},
n.rangeExtent=function(){return Ii(e.a[0])},n.copy=function(){return Ki(t,e)},n.domain(t)}function to(r,i){function o(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=Xo.quantile(r,t/e);return a}function a(t){if(!isNaN(t=+t))return i[Xo.bisect(s,t)]}var s;return a.domain=function(i){return arguments.length?(r=i.map(e).filter(n).sort(t),o()):r},a.range=function(t){return arguments.length?(i=t,o()):i},a.quantiles=function(){return s},a.invertExtent=function(t){return(t=i.indexOf(t))<0?[NaN,NaN]:[t>0?s[t-1]:r[0],t<s.length?s[t]:r[r.length-1]]},a.copy=function(){return to(r,i)},o()}function eo(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/o+t,e+1/o]},r.copy=function(){return eo(t,e,n)},i()}function no(t,e){function n(n){if(n<=n)return e[Xo.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return no(t,e)},n}function ro(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Wi(t,e)},e.tickFormat=function(e,n){return Ji(t,e,n)},e.copy=function(){return ro(t)},e}function io(t){return t.innerRadius}function oo(t){return t.outerRadius}function ao(t){return t.startAngle}function so(t){return t.endAngle}function uo(t){function e(e){function a(){u.push("M",o(t(l),s))}for(var u=[],l=[],c=-1,f=e.length,h,d=St(n),p=St(r);++c<f;)i.call(this,h=e[c],c)?l.push([+d.call(this,h,c),+p.call(this,h,c)]):l.length&&(a(),l=[]);return l.length&&a(),u.length?u.join(""):null}var n=Nn,r=En,i=Te,o=lo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Mu.get(t)||lo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function lo(t){return t.join("L")}function co(t){return lo(t)+"Z"}function fo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ho(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function po(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function go(t,e){return t.length<4?lo(t):t[1]+yo(t.slice(1,t.length-1),xo(t,e))}function vo(t,e){return t.length<3?lo(t):t[0]+yo((t.push(t[0]),t),xo([t[t.length-2]].concat(t,[t[1]]),e))}function mo(t,e){return t.length<3?lo(t):t[0]+yo(t,xo(t,e))}function yo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return lo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function xo(t,e){for(var n=[],r=(1-e)/2,i,o=t[0],a=t[1],s=1,u=t.length;++s<u;)i=o,o=a,a=t[s],n.push([r*(a[0]-i[0]),r*(a[1]-i[1])]);return n}function bo(t){if(t.length<3)return lo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",_o(Su,a),",",_o(Su,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),So(u,a,s);return t.pop(),u.push("L",r),u.join("")}function wo(t){if(t.length<4)return lo(t);for(var e=[],n=-1,r=t.length,i,o=[0],a=[0];++n<3;)i=t[n],o.push(i[0]),a.push(i[1]);for(e.push(_o(Su,o)+","+_o(Su,a)),--n;++n<r;)i=t[n],o.shift(),o.push(i[0]),a.shift(),a.push(i[1]),So(e,o,a);return e.join("")}function Mo(t){for(var e,n=-1,r=t.length,i=r+4,o,a=[],s=[];++n<4;)o=t[n%r],a.push(o[0]),s.push(o[1]);for(e=[_o(Su,a),",",_o(Su,s)],--n;++n<i;)o=t[n%r],a.shift(),a.push(o[0]),s.shift(),s.push(o[1]),So(e,a,s);return e.join("")}function Co(t,e){var n=t.length-1;if(n)for(var r=t[0][0],i=t[0][1],o=t[n][0]-r,a=t[n][1]-i,s=-1,u,l;++s<=n;)l=s/n,(u=t[s])[0]=e*u[0]+(1-e)*(r+l*o),u[1]=e*u[1]+(1-e)*(i+l*a);return bo(t)}function _o(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function So(t,e,n){t.push("C",_o(Cu,e),",",_o(Cu,n),",",_o(_u,e),",",_o(_u,n),",",_o(Su,e),",",_o(Su,n))}function ko(t,e){return(e[1]-t[1])/(e[0]-t[0])}function To(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ko(i,o);++e<n;)r[e]=(a+(a=ko(i=o,o=t[e+1])))/2;return r[e]=a,r}function No(t){for(var e=[],n,r,i,o,a=To(t),s=-1,u=t.length-1;++s<u;)n=ko(t[s],t[s+1]),sa(n)<Na?a[s]=a[s+1]=0:(o=(r=a[s]/n)*r+(i=a[s+1]/n)*i)>9&&(o=3*n/Math.sqrt(o),a[s]=o*r,a[s+1]=o*i);for(s=-1;++s<=u;)o=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),e.push([o||0,a[s]*o||0]);return e}function Eo(t){return t.length<3?lo(t):t[0]+yo(t,No(t))}function Ao(t){for(var e,n=-1,r=t.length,i,o;++n<r;)i=(e=t[n])[0],o=e[1]+bu,e[0]=i*Math.cos(o),e[1]=i*Math.sin(o);return t}function Lo(t){function e(e){function u(){h.push("M",s(t(p),f),c,l(t(d.reverse()),f),"Z")}for(var h=[],d=[],p=[],g=-1,v=e.length,m,y=St(n),x=St(i),b=n===r?function(){return M}:St(r),w=i===o?function(){return C}:St(o),M,C;++g<v;)a.call(this,m=e[g],g)?(d.push([M=+y.call(this,m,g),C=+x.call(this,m,g)]),p.push([+b.call(this,m,g),+w.call(this,m,g)])):d.length&&(u(),d=[],p=[]);return d.length&&u(),h.length?h.join(""):null}var n=Nn,r=Nn,i=0,o=En,a=Te,s=lo,u=s.key,l=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Mu.get(t)||lo).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Ro(t){return t.radius}function Do(t){return[t.x,t.y]}function jo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+bu;return[n*Math.cos(r),n*Math.sin(r)]}}function Po(){return 64}function Io(){return"circle"}function Oo(t){var e=Math.sqrt(t/Sa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function $o(t,e){return ha(t,Eu),t.id=e,t}function Fo(t,e,n,r){var i=t.id;return F(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function qo(t){return null==t&&(t=""),function(){this.textContent=t}}function zo(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[n];if(!o){var a=r.time;o=i[n]={tween:new s,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Xo.timer((function(r){function s(r){if(i.active>n)return l();i.active=n,o.event&&o.event.start.call(t,c,e),o.tween.forEach((function(n,r){(r=r.call(t,c,e))&&g.push(r)})),Xo.timer((function(){return p.c=u(r||1)?Te:u,1}),0,a)}function u(r){if(i.active!==n)return l();for(var a=r/d,s=f(a),u=g.length;u>0;)g[--u].call(t,s);return a>=1?(o.event&&o.event.end.call(t,c,e),l()):void 0}function l(){return--i.count?delete i[n]:delete t.__transition__,1}var c=t.__data__,f=o.ease,h=o.delay,d=o.duration,p=Za,g=[];if(p.t=h+a,h<=r)return s(r-h);p.c=s}),0,a)}}function Uo(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Ho(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}function Bo(t){return t.toISOString()}function Vo(t,e,n){function r(e){return t(e)}function i(t,n){var r,i=(t[1]-t[0])/n,o=Xo.bisect(qu,i);return o==qu.length?[e.year,Vi(t.map((function(t){return t/31536e6})),n)[2]]:o?e[i/qu[o-1]<qu[o]/i?o-1:o]:[Hu,Vi(t,n)[2]]}return r.invert=function(e){return Wo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Wo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Wo(+n+1),e).length}var o=r.domain(),a=Ii(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Fi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Wo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Wo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ii(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Wo(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Vo(t.copy(),e,n)},Hi(r,t)}function Wo(t){return new Date(t)}function Jo(t){return JSON.parse(t.responseText)}function Go(t){var e=Qo.createRange();return e.selectNode(Qo.body),e.createContextualFragment(t.responseText)}var Xo={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var Yo=[].slice,Zo=function(t){return Yo.call(t)},Qo=document,Ko=Qo.documentElement,ta=window;try{Zo(Ko.childNodes)[0].nodeType}catch(t){Zo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Qo.createElement("div").style.setProperty("opacity",0,"")}catch(t){var ea=ta.Element.prototype,na=ea.setAttribute,ra=ea.setAttributeNS,ia=ta.CSSStyleDeclaration.prototype,oa=ia.setProperty;ea.setAttribute=function(t,e){na.call(this,t,e+"")},ea.setAttributeNS=function(t,e,n){ra.call(this,t,e,n+"")},ia.setProperty=function(t,e,n){oa.call(this,t,e+"",n)}}Xo.ascending=t,Xo.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Xo.min=function(t,e){var n=-1,r=t.length,i,o;if(1===arguments.length){for(;++n<r&&!(null!=(i=t[n])&&i<=i);)i=void 0;for(;++n<r;)null!=(o=t[n])&&i>o&&(i=o)}else{for(;++n<r&&!(null!=(i=e.call(t,t[n],n))&&i<=i);)i=void 0;for(;++n<r;)null!=(o=e.call(t,t[n],n))&&i>o&&(i=o)}return i},Xo.max=function(t,e){var n=-1,r=t.length,i,o;if(1===arguments.length){for(;++n<r&&!(null!=(i=t[n])&&i<=i);)i=void 0;for(;++n<r;)null!=(o=t[n])&&o>i&&(i=o)}else{for(;++n<r&&!(null!=(i=e.call(t,t[n],n))&&i<=i);)i=void 0;for(;++n<r;)null!=(o=e.call(t,t[n],n))&&o>i&&(i=o)}return i},Xo.extent=function(t,e){var n=-1,r=t.length,i,o,a;if(1===arguments.length){for(;++n<r&&!(null!=(i=a=t[n])&&i<=i);)i=a=void 0;for(;++n<r;)null!=(o=t[n])&&(i>o&&(i=o),a<o&&(a=o))}else{for(;++n<r&&!(null!=(i=a=e.call(t,t[n],n))&&i<=i);)i=void 0;for(;++n<r;)null!=(o=e.call(t,t[n],n))&&(i>o&&(i=o),a<o&&(a=o))}return[i,a]},Xo.sum=function(t,e){var r=0,i=t.length,o,a=-1;if(1===arguments.length)for(;++a<i;)n(o=+t[a])&&(r+=o);else for(;++a<i;)n(o=+e.call(t,t[a],a))&&(r+=o);return r},Xo.mean=function(t,r){var i=0,o=t.length,a,s=-1,u=o;if(1===arguments.length)for(;++s<o;)n(a=e(t[s]))?i+=a:--u;else for(;++s<o;)n(a=e(r.call(t,t[s],s)))?i+=a:--u;return u?i/u:void 0},Xo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},Xo.median=function(r,i){var o=[],a=r.length,s,u=-1;if(1===arguments.length)for(;++u<a;)n(s=e(r[u]))&&o.push(s);else for(;++u<a;)n(s=e(i.call(r,r[u],u)))&&o.push(s);return o.length?Xo.quantile(o.sort(t),.5):void 0};var aa=r(t);Xo.bisectLeft=aa.left,Xo.bisect=Xo.bisectRight=aa.right,Xo.bisector=function(e){return r(1===e.length?function(n,r){return t(e(n),r)}:e)},Xo.shuffle=function(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t},Xo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Xo.pairs=function(t){for(var e=0,n=t.length-1,r,i=t[0],o=new Array(n<0?0:n);e<n;)o[e]=[r=i,i=t[++e]];return o},Xo.zip=function(){if(!(o=arguments.length))return[];for(var t=-1,e=Xo.min(arguments,i),n=new Array(e);++t<e;)for(var r=-1,o,a=n[t]=new Array(o);++r<o;)a[r]=arguments[r][t];return n},Xo.transpose=function(t){return Xo.zip.apply(Xo,t)},Xo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Xo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Xo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Xo.merge=function(t){for(var e=t.length,n,r=-1,i=0,o,a;++r<e;)i+=t[r].length;for(o=new Array(i);--e>=0;)for(n=(a=t[e]).length;--n>=0;)o[--i]=a[n];return o};var sa=Math.abs;Xo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r=[],i=o(sa(n)),a=-1,s;if(t*=i,e*=i,(n*=i)<0)for(;(s=t+n*++a)>e;)r.push(s/i);else for(;(s=t+n*++a)<e;)r.push(s/i);return r},Xo.map=function(t){var e=new s;if(t instanceof s)t.forEach((function(t,n){e.set(t,n)}));else for(var n in t)e.set(n,t[n]);return e};var ua="__proto__",la="\0";a(s,{has:c,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:f,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:l(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,l(e),this._[e])}}),Xo.nest=function(){function t(e,i,u){if(u>=r.length)return a?a.call(n,i):o?i.sort(o):i;for(var l=-1,c=i.length,f=r[u++],h,d,p,g=new s,v;++l<c;)(v=g.get(h=f(d=i[l])))?v.push(d):g.set(h,[d]);return e?(d=e(),p=function(n,r){d.set(n,t(e,r,u))}):(d={},p=function(n,r){d[n]=t(e,r,u)}),g.forEach(p),d}function e(t,n){if(n>=r.length)return t;var o=[],a=i[n++];return t.forEach((function(t,r){o.push({key:t,values:e(r,n)})})),a?o.sort((function(t,e){return a(t.key,e.key)})):o}var n={},r=[],i=[],o,a;return n.map=function(e,n){return t(n,e,0)},n.entries=function(n){return e(t(Xo.map,n,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(t){return o=t,n},n.rollup=function(t){return a=t,n},n},Xo.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},a(g,{has:c,add:function(t){return this._[u(t+="")]=!0,t},remove:f,values:h,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,l(e))}}),Xo.behavior={},Xo.rebind=function(t,e){for(var n=1,r=arguments.length,i;++n<r;)t[i=arguments[n]]=v(t,e,e[i]);return t};var ca=["webkit","ms","moz","Moz","o","O"];Xo.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Xo.event=null,Xo.requote=function(t){return t.replace(fa,"\\$&")};var fa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ha={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},da=function(t,e){return e.querySelector(t)},pa=function(t,e){return e.querySelectorAll(t)},ga=Ko.matches||Ko[m(Ko,"matchesSelector")],va=function(t,e){return ga.call(t,e)};"function"==typeof Sizzle&&(da=function(t,e){return Sizzle(t,e)[0]||null},pa=Sizzle,va=Sizzle.matchesSelector),Xo.selection=function(){return ba};var ma=Xo.selection.prototype=[];ma.select=function(t){var e=[],n,r,i,o;t=S(t);for(var a=-1,s=this.length;++a<s;){e.push(n=[]),n.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(o=i[u])?(n.push(r=t.call(o,o.__data__,u,a)),r&&"__data__"in o&&(r.__data__=o.__data__)):n.push(null)}return _(e)},ma.selectAll=function(t){var e=[],n,r;t=k(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(r=a[s])&&(e.push(n=Zo(t.call(r,r.__data__,s,i))),n.parentNode=r);return _(e)};var ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xo.ns={prefix:ya,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),ya.hasOwnProperty(n)?{space:ya[n],local:t}:t}},ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Xo.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=A(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!E(t[i]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},ma.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(D(n,t[n],e));return this}if(r<2)return ta.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(D(t,e,n))},ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ma.append=function(t){return t=P(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},ma.insert=function(t,e){return t=P(t),e=S(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},ma.remove=function(){return this.each((function(){var t=this.parentNode;t&&t.removeChild(this)}))},ma.data=function(t,e){function n(t,n){var r,i=t.length,o=n.length,a=Math.min(i,o),f=new Array(o),h=new Array(o),d=new Array(i),p,g;if(e){var v=new s,m=new Array(i),y;for(r=-1;++r<i;)v.has(y=e.call(p=t[r],p.__data__,r))?d[r]=p:v.set(y,p),m[r]=y;for(r=-1;++r<o;)(p=v.get(y=e.call(n,g=n[r],r)))?!0!==p&&(f[r]=p,p.__data__=g):h[r]=I(g),v.set(y,!0);for(r=-1;++r<i;)!0!==v.get(m[r])&&(d[r]=t[r])}else{for(r=-1;++r<a;)p=t[r],g=n[r],p?(p.__data__=g,f[r]=p):h[r]=I(g);for(;r<o;++r)h[r]=I(n[r]);for(;r<i;++r)d[r]=t[r]}h.update=f,h.parentNode=f.parentNode=d.parentNode=t.parentNode,u.push(h),l.push(f),c.push(d)}var r=-1,i=this.length,o,a;if(!arguments.length){for(t=new Array(i=(o=this[0]).length);++r<i;)(a=o[r])&&(t[r]=a.__data__);return t}var u=q([]),l=_([]),c=_([]);if("function"==typeof t)for(;++r<i;)n(o=this[r],t.call(o,o.parentNode.__data__,r));else for(;++r<i;)n(o=this[r],t);return l.enter=function(){return u},l.exit=function(){return c},l},ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ma.filter=function(t){var e=[],n,r,i;"function"!=typeof t&&(t=O(t));for(var o=0,a=this.length;o<a;o++){e.push(n=[]),n.parentNode=(r=this[o]).parentNode;for(var s=0,u=r.length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,o)&&n.push(i)}return _(e)},ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n=this[t],r=n.length-1,i=n[r],o;--r>=0;)(o=n[r])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this},ma.sort=function(t){t=$.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ma.each=function(t){return F(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},ma.call=function(t){var e=Zo(arguments);return t.apply(e[0]=this,e),this},ma.empty=function(){return!this.node()},ma.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},ma.size=function(){var t=0;return F(this,(function(){++t})),t};var xa=[];Xo.selection.enter=q,Xo.selection.enter.prototype=xa,xa.append=ma.append,xa.empty=ma.empty,xa.node=ma.node,xa.call=ma.call,xa.size=ma.size,xa.select=function(t){for(var e=[],n,r,i,o,a,s=-1,u=this.length;++s<u;){i=(o=this[s]).update,e.push(n=[]),n.parentNode=o.parentNode;for(var l=-1,c=o.length;++l<c;)(a=o[l])?(n.push(i[l]=r=t.call(o.parentNode,a.__data__,l,s)),r.__data__=a.__data__):n.push(null)}return _(e)},xa.insert=function(t,e){return arguments.length<2&&(e=z(this)),ma.insert.call(this,t,e)},ma.transition=function(){for(var t=Lu||++Au,e=[],n,r,i=Ru||{time:Date.now(),ease:_r,delay:0,duration:250},o=-1,a=this.length;++o<a;){e.push(n=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(r=s[u])&&zo(r,u,t,i),n.push(r)}return $o(e,t)},ma.interrupt=function(){return this.each(U)},Xo.select=function(t){var e=["string"==typeof t?da(t,Qo):t];return e.parentNode=Ko,_([e])},Xo.selectAll=function(t){var e=Zo("string"==typeof t?pa(t,Qo):t);return e.parentNode=Ko,_([e])};var ba=Xo.select(Ko);ma.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(H(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(H(t,e,n))};var wa=Xo.map({mouseenter:"mouseover",mouseleave:"mouseout"});wa.forEach((function(t){"on"+t in Qo&&wa.remove(t)}));var Ma="onselectstart"in Qo?null:m(Ko.style,"userSelect"),Ca=0;Xo.mouse=function(t){return J(t,M())};var _a=/WebKit/.test(ta.navigator.userAgent)?-1:0;Xo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).identifier===n)return J(t,o)},Xo.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t=e(f,p),n,r;t&&(n=t[0]-x[0],r=t[1]-x[1],d|=n|r,x=t,h({type:"drag",x:t[0]+v[0],y:t[1]+v[1],dx:n,dy:r}))}function u(){e(f,p)&&(m.on(o+g,null).on(a+g,null),y(d&&Xo.event.target===c),h({type:"dragend"}))}var l=this,c=Xo.event.target,f=l.parentNode,h=n.of(l,arguments),d=0,p=t(),g=".drag"+(null==p?"":"-"+p),v,m=Xo.select(i()).on(o+g,s).on(a+g,u),y=W(),x=e(f,p);v=r?[(v=r.apply(l,arguments)).x-x[0],v.y-x[1]]:[0,0],h({type:"dragstart"})}}var n=C(t,"drag","dragstart","dragend"),r=null,i=e(y,Xo.mouse,Y,"mousemove","mouseup"),o=e(G,Xo.touch,X,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Xo.rebind(t,n,"on")},Xo.touches=function(t,e){return arguments.length<2&&(e=M().touches),e?Zo(e).map((function(e){var n=J(t,e);return n.identifier=e.identifier,n})):[]};var Sa=Math.PI,ka=2*Sa,Ta=Sa/2,Na=1e-6,Ea=Na*Na,Aa=Sa/180,La=180/Sa,Ra=Math.SQRT2,Da=2,ja=4;Xo.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=nt(g),a=o/(2*h)*(n*rt(Ra*e+g)-et(g));return[r+a*l,i+a*c,o*n/nt(Ra*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Ra*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,f=l*l+c*c,h=Math.sqrt(f),d=(u*u-o*o+4*f)/(2*o*2*h),p=(u*u-o*o-4*f)/(2*u*2*h),g=Math.log(Math.sqrt(d*d+1)-d),v,m=Math.log(Math.sqrt(p*p+1)-p)-g,y=(m||Math.log(u/o))/Ra;return n.duration=1e3*y,n},Xo.behavior.zoom=function(){function t(t){t.on(x,l).on(Oa+".zoom",f).on("dblclick.zoom",h).on(S,c)}function e(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function n(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}function r(t){d.k=Math.max(y[0],Math.min(y[1],t))}function i(t,e){e=n(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function o(){E&&E.domain(N.range().map((function(t){return(t-d.x)/d.k})).map(N.invert)),L&&L.domain(A.range().map((function(t){return(t-d.y)/d.k})).map(A.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function u(t){t({type:"zoomend"})}function l(){function t(){c=1,i(Xo.mouse(r),h),s(l)}function n(){f.on(b,null).on(M,null),d(c&&Xo.event.target===o),u(l)}var r=this,o=Xo.event.target,l=T.of(r,arguments),c=0,f=Xo.select(ta).on(b,t).on(M,n),h=e(Xo.mouse(r)),d=W();U.call(r),a(l)}function c(){function t(){var t=Xo.touches(h);return m=d.k,t.forEach((function(t){t.identifier in g&&(g[t.identifier]=e(t))})),t}function n(){var e=Xo.event.target;Xo.select(e).on(b,o).on(M,f),C.push(e);for(var n=Xo.event.changedTouches,a=0,u=n.length;a<u;++a)g[n[a].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(c-k<500){var h=l[0],m=g[h.identifier];r(2*d.k),i(h,m),w(),s(p)}k=c}else if(l.length>1){var h=l[0],y=l[1],x=h[0]-y[0],_=h[1]-y[1];v=x*x+_*_}}function o(){for(var t=Xo.touches(h),e,n,o,a,u=0,l=t.length;u<l;++u,a=null)if(o=t[u],a=g[o.identifier]){if(n)break;e=o,n=a}if(a){var c=(c=o[0]-e[0])*c+(c=o[1]-e[1])*c,f=v&&Math.sqrt(c/v);e=[(e[0]+o[0])/2,(e[1]+o[1])/2],n=[(n[0]+a[0])/2,(n[1]+a[1])/2],r(f*m)}k=null,i(e,n),s(p)}function f(){if(Xo.event.touches.length){for(var e=Xo.event.changedTouches,n=0,r=e.length;n<r;++n)delete g[e[n].identifier];for(var i in g)return void t()}Xo.selectAll(C).on(y,null),_.on(x,l).on(S,c),N(),u(p)}var h=this,p=T.of(h,arguments),g={},v=0,m,y=".zoom-"+Xo.event.changedTouches[0].identifier,b="touchmove"+y,M="touchend"+y,C=[],_=Xo.select(h),N=W();U.call(h),n(),a(p),_.on(x,null).on(S,n)}function f(){var t=T.of(this,arguments);_?clearTimeout(_):(p=e(g=v||Xo.mouse(this)),U.call(this),a(t)),_=setTimeout((function(){_=null,u(t)}),50),w(),r(Math.pow(2,.002*Ia())*d.k),i(g,p),s(t)}function h(){var t=T.of(this,arguments),n=Xo.mouse(this),o=e(n),l=Math.log(d.k)/Math.LN2;a(t),r(Math.pow(2,Xo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(t),u(t)}var d={x:0,y:0,k:1},p,g,v,m=[960,500],y=Pa,x="mousedown.zoom",b="mousemove.zoom",M="mouseup.zoom",_,S="touchstart.zoom",k,T=C(t,"zoomstart","zoom","zoomend"),N,E,A,L;return t.event=function(t){t.each((function(){var t=T.of(this,arguments),e=d;Lu?Xo.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},a(t)})).tween("zoom:zoom",(function(){var n=m[0],r=m[1],i=n/2,o=r/2,a=Xo.interpolateZoom([(i-d.x)/d.k,(o-d.y)/d.k,n/d.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=d={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}})).each("end.zoom",(function(){u(t)})):(this.__chart__=d,a(t),s(t),u(t))}))},t.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},o(),t):[d.x,d.y]},t.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:+e},o(),t):d.k},t.scaleExtent=function(e){return arguments.length?(y=null==e?Pa:[+e[0],+e[1]],t):y},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.x=function(e){return arguments.length?(E=e,N=e.copy(),d={x:0,y:0,k:1},t):E},t.y=function(e){return arguments.length?(L=e,A=e.copy(),d={x:0,y:0,k:1},t):L},Xo.rebind(t,T,"on")};var Pa=[0,1/0],Ia,Oa="onwheel"in Qo?(Ia=function(){return-Xo.event.deltaY*(Xo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qo?(Ia=function(){return Xo.event.wheelDelta},"mousewheel"):(Ia=function(){return-Xo.event.detail},"MozMousePixelScroll");Xo.color=ot,ot.prototype.toString=function(){return this.rgb()+""},Xo.hsl=at;var $a=at.prototype=new ot;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},$a.rgb=function(){return st(this.h,this.s,this.l)},Xo.hcl=ut;var Fa=ut.prototype=new ot;Fa.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+qa*(arguments.length?t:1)))},Fa.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-qa*(arguments.length?t:1)))},Fa.rgb=function(){return lt(this.h,this.c,this.l).rgb()},Xo.lab=ct;var qa=18,za=.95047,Ua=1,Ha=1.08883,Ba=ct.prototype=new ot;Ba.brighter=function(t){return new ct(Math.min(100,this.l+qa*(arguments.length?t:1)),this.a,this.b)},Ba.darker=function(t){return new ct(Math.max(0,this.l-qa*(arguments.length?t:1)),this.a,this.b)},Ba.rgb=function(){return ft(this.l,this.a,this.b)},Xo.rgb=vt;var Va=vt.prototype=new ot;Va.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},Va.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Va.hsl=function(){return wt(this.r,this.g,this.b)},Va.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Wa=Xo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wa.forEach((function(t,e){Wa.set(t,mt(e))})),Xo.functor=St,Xo.xhr=Tt(kt),Xo.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Nt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,(function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i}))},n.parseRows=function(t,e){function n(){if(s>=a)return i;if(f)return f=!1,r;var e=s;if(34===t.charCodeAt(e)){
for(var n=e;n++<a;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}var o;return s=n+2,13===(o=t.charCodeAt(n+1))?(f=!0,10===t.charCodeAt(n+2)&&++s):10===o&&(f=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;s<a;){var o,l=1;if(10===(o=t.charCodeAt(s++)))f=!0;else if(13===o)f=!0,10===t.charCodeAt(s)&&(++s,++l);else if(o!==u)continue;return t.slice(e,s-l)}return t.slice(e)}for(var r={},i={},o=[],a=t.length,s=0,l=0,c,f;(c=n())!==i;){for(var h=[];c!==r&&c!==i;)h.push(c),c=n();e&&null==(h=e(h,l++))||o.push(h)}return o},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new g,i=[];return e.forEach((function(t){for(var e in t)r.has(e)||i.push(r.add(e))})),[i.map(a).join(t)].concat(e.map((function(e){return i.map((function(t){return a(e[t])})).join(t)}))).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},Xo.csv=Xo.dsv(",","text/csv"),Xo.tsv=Xo.dsv("\t","text/tab-separated-values");var Ja,Ga,Xa,Ya,Za,Qa=ta[m(ta,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Xo.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ga?Ga.n=o:Ja=o,Ga=o,Xa||(Ya=clearTimeout(Ya),Xa=1,Qa(Lt))},Xo.timer.flush=function(){Rt(),Dt()},Xo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ka=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pt);Xo.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=Xo.round(t,jt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ka[8+n/3]};var ts=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,es=Xo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Xo.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),ns=Xo.time={},rs=Date;$t.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){is.setUTCDate.apply(this._,arguments)},setDay:function(){is.setUTCDay.apply(this._,arguments)},setFullYear:function(){is.setUTCFullYear.apply(this._,arguments)},setHours:function(){is.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){is.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){is.setUTCMinutes.apply(this._,arguments)},setMonth:function(){is.setUTCMonth.apply(this._,arguments)},setSeconds:function(){is.setUTCSeconds.apply(this._,arguments)},setTime:function(){is.setTime.apply(this._,arguments)}};var is=Date.prototype;ns.year=Ft((function(t){return(t=ns.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),ns.years=ns.year.range,ns.years.utc=ns.year.utc.range,ns.day=Ft((function(t){var e=new rs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),ns.days=ns.day.range,ns.days.utc=ns.day.utc.range,ns.dayOfYear=function(t){var e=ns.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=ns[t]=Ft((function(t){return(t=ns.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));ns[t+"s"]=n.range,ns[t+"s"].utc=n.utc.range,ns[t+"OfYear"]=function(t){var n=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(n+e)%7)/7)}})),ns.week=ns.sunday,ns.weeks=ns.sunday.range,ns.weeks.utc=ns.sunday.utc.range,ns.weekOfYear=ns.sundayOfYear;var os={"-":"",_:" ",0:"0"},as=/^\s*\d+/,ss=/^%/;Xo.locale=function(t){return{numberFormat:It(t),timeFormat:zt(t)}};var us=Xo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Xo.format=us.numberFormat,Xo.geo={},ue.prototype={s:0,t:0,add:function(t){le(t,this.t,ls),le(ls.s,this.s,this),this.s?this.t+=ls.t:this.s=ls.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ls=new ue;Xo.geo.stream=function(t,e){t&&cs.hasOwnProperty(t.type)?cs[t.type](t,e):ce(t,e)};var cs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ce(n[r].geometry,e)}},fs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ce(n[r],e)}};Xo.geo.area=function(t){return hs=0,Xo.geo.stream(t,ps),hs};var hs,ds=new ue,ps={sphere:function(){hs+=4*Sa},point:y,lineStart:y,lineEnd:y,polygonStart:function(){ds.reset(),ps.lineStart=de},polygonEnd:function(){var t=2*ds;hs+=t<0?4*Sa+t:t,ps.lineStart=ps.lineEnd=ps.point=y}},gs,vs,ms,ys,xs,bs,ws,Ms,Cs,_s,Ss;Xo.geo.bounds=function(){function t(t,e){x.push(b=[c=t,h=t]),e<f&&(f=e),e>d&&(d=e)}function e(e,n){var r=pe([e*Aa,n*Aa]);if(m){var i=ve(m,r),o,a=ve([i[1],-i[0],0],i);xe(a),a=be(a);var u=e-p,l=u>0?1:-1,g=a[0]*La*l,v=sa(u)>180,y;if(v^(l*p<g&&g<l*e))(y=a[1]*La)>d&&(d=y);else if(v^(l*p<(g=(g+360)%360-180)&&g<l*e)){var y;(y=-a[1]*La)<f&&(f=y)}else n<f&&(f=n),n>d&&(d=n);v?e<p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(e<c&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);m=r,p=e}function n(){w.point=e}function r(){b[0]=c,b[1]=h,w.point=t,m=null}function i(t,n){if(m){var r=t-p;y+=sa(r)>180?r+(r>0?360:-360):r}else g=t,v=n;ps.point(t,n),e(t,n)}function o(){ps.lineStart()}function a(){i(g,v),ps.lineEnd(),sa(y)>Na&&(c=-(h=180)),b[0]=c,b[1]=h,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,d,p,g,v,m,y,x,b,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,ps.polygonStart()},polygonEnd:function(){ps.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,ds<0?(c=-(h=180),f=-(d=90)):y>Na?d=90:y<-Na&&(f=-90),b[0]=c,b[1]=h}};return function(t){var e;if(d=h=-(c=f=1/0),x=[],Xo.geo.stream(t,w),e=x.length){x.sort(u);for(var n=1,r,i,o=[r=x[0]];n<e;++n)l((i=x[n])[0],r)||l(i[1],r)?(s(r[0],i[1])>s(r[0],r[1])&&(r[1]=i[1]),s(i[0],r[1])>s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(var a=-1/0,p,e,n=0,r=o[e=o.length-1],i;n<=e;r=i,++n)i=o[n],(p=s(r[1],i[0]))>a&&(a=p,c=i[0],h=r[1])}return x=b=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,d]]}}(),Xo.geo.centroid=function(t){gs=vs=ms=ys=xs=bs=ws=Ms=Cs=_s=Ss=0,Xo.geo.stream(t,ks);var e=Cs,n=_s,r=Ss,i=e*e+n*n+r*r;return i<Ea&&(e=bs,n=ws,r=Ms,vs<Na&&(e=ms,n=ys,r=xs),(i=e*e+n*n+r*r)<Ea)?[NaN,NaN]:[Math.atan2(n,e)*La,tt(r/Math.sqrt(i))*La]};var ks={sphere:y,point:Me,lineStart:_e,lineEnd:Se,polygonStart:function(){ks.lineStart=ke},polygonEnd:function(){ks.lineStart=_e}},Ts=Le(Te,Pe,Oe,[-Sa,-Sa/2]),Ns=1e9;Xo.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Xo.geo.conicEqualArea=function(){return He(Be)}).raw=Be,Xo.geo.albers=function(){return Xo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xo.geo.albersUsa=function(){function t(t){var e=t[0],n=t[1];return i=null,a(e,n),i||(s(e,n),i)||u(e,n),i}var e=Xo.geo.albers(),n=Xo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=Xo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i,o={point:function(t,e){i=[t,e]}},a,s,u;return t.invert=function(t){var i=e.scale(),o=e.translate(),a=(t[0]-o[0])/i,s=(t[1]-o[1])/i;return(s>=.12&&s<.234&&a>=-.425&&a<-.214?n:s>=.166&&s<.234&&a>=-.214&&a<-.115?r:e).invert(t)},t.stream=function(t){var i=e.stream(t),o=n.stream(t),a=r.stream(t);return{point:function(t,e){i.point(t,e),o.point(t,e),a.point(t,e)},sphere:function(){i.sphere(),o.sphere(),a.sphere()},lineStart:function(){i.lineStart(),o.lineStart(),a.lineStart()},lineEnd:function(){i.lineEnd(),o.lineEnd(),a.lineEnd()},polygonStart:function(){i.polygonStart(),o.polygonStart(),a.polygonStart()},polygonEnd:function(){i.polygonEnd(),o.polygonEnd(),a.polygonEnd()}}},t.precision=function(i){return arguments.length?(e.precision(i),n.precision(i),r.precision(i),t):e.precision()},t.scale=function(i){return arguments.length?(e.scale(i),n.scale(.35*i),r.scale(i),t.translate(e.translate())):e.scale()},t.translate=function(i){if(!arguments.length)return e.translate();var l=e.scale(),c=+i[0],f=+i[1];return a=e.translate(i).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(o).point,s=n.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Na,f+.12*l+Na],[c-.214*l-Na,f+.234*l-Na]]).stream(o).point,u=r.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Na,f+.166*l+Na],[c-.115*l-Na,f+.234*l-Na]]).stream(o).point,t},t.scale(1070)};var Es,As,Ls={point:y,lineStart:y,lineEnd:y,polygonStart:function(){As=0,Ls.lineStart=Ve},polygonEnd:function(){Ls.lineStart=Ls.lineEnd=Ls.point=y,Es+=sa(As/2)}},Rs,Ds,js,Ps,Is={point:We,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Os={point:Xe,lineStart:Ye,lineEnd:Ze,polygonStart:function(){Os.lineStart=Qe},polygonEnd:function(){Os.point=Xe,Os.lineStart=Ye,Os.lineEnd=Ze}},$s;Xo.geo.path=function(){function t(t){return t&&("function"==typeof n&&a.pointRadius(+n.apply(this,arguments)),s&&s.valid||(s=o(a)),Xo.geo.stream(t,s)),a.result()}function e(){return s=null,t}var n=4.5,r,i,o,a,s;return t.area=function(t){return Es=0,Xo.geo.stream(t,o(Ls)),Es},t.centroid=function(t){return ms=ys=xs=bs=ws=Ms=Cs=_s=Ss=0,Xo.geo.stream(t,o(Os)),Ss?[Cs/Ss,_s/Ss]:Ms?[bs/Ms,ws/Ms]:xs?[ms/xs,ys/xs]:[NaN,NaN]},t.bounds=function(t){return js=Ps=-(Rs=Ds=1/0),Xo.geo.stream(t,o(Is)),[[Rs,Ds],[js,Ps]]},t.projection=function(t){return arguments.length?(o=(r=t)?t.stream||en(t):kt,e()):r},t.context=function(t){return arguments.length?(a=null==(i=t)?new Je:new Ke(t),"function"!=typeof n&&a.pointRadius(n),e()):i},t.pointRadius=function(e){return arguments.length?(n="function"==typeof e?e:(a.pointRadius(+e),+e),t):n},t.projection(Xo.geo.albersUsa()).context(null)},Xo.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var r in t)n[r]=t[r];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xo.geo.projection=on,Xo.geo.projectionMutator=an,(Xo.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,Xo.geo.rotation=function(t){function e(e){return(e=t(e[0]*Aa,e[1]*Aa))[0]*=La,e[1]*=La,e}return t=cn(t[0]%360*Aa,t[1]*Aa,t.length>2?t[2]*Aa:0),e.invert=function(e){return(e=t.invert(e[0]*Aa,e[1]*Aa))[0]*=La,e[1]*=La,e},e},ln.invert=un,Xo.geo.circle=function(){function t(){var t="function"==typeof e?e.apply(this,arguments):e,n=cn(-t[0]*Aa,-t[1]*Aa,0).invert,r=[];return i(null,null,1,{point:function(t,e){r.push(t=n(t,e)),t[0]*=La,t[1]*=La}}),{type:"Polygon",coordinates:[r]}}var e=[0,0],n,r=6,i;return t.origin=function(n){return arguments.length?(e=n,t):e},t.angle=function(e){return arguments.length?(i=pn((n=+e)*Aa,r*Aa),t):n},t.precision=function(e){return arguments.length?(i=pn(n*Aa,(r=+e)*Aa),t):r},t.angle(90)},Xo.geo.distance=function(t,e){var n=(e[0]-t[0])*Aa,r=t[1]*Aa,i=e[1]*Aa,o=Math.sin(n),a=Math.cos(n),s=Math.sin(r),u=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f;return Math.atan2(Math.sqrt((f=c*o)*f+(f=u*l-s*c*a)*f),s*l+u*c*a)},Xo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Xo.range(Math.ceil(o/h)*h,i,h).map(v).concat(Xo.range(Math.ceil(l/d)*d,u,d).map(m)).concat(Xo.range(Math.ceil(r/c)*c,n,c).filter((function(t){return sa(t%h)>Na})).map(p)).concat(Xo.range(Math.ceil(s/f)*f,a,f).filter((function(t){return sa(t%d)>Na})).map(g))}var n,r,i,o,a,s,u,l,c=10,f=c,h=90,d=360,p,g,v,m,y=2.5;return t.lines=function(){return e().map((function(t){return{type:"LineString",coordinates:t}}))},t.outline=function(){return{type:"Polygon",coordinates:[v(o).concat(m(u).slice(1),v(i).reverse().slice(1),m(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(h=+e[0],d=+e[1],t):[h,d]},t.minorStep=function(e){return arguments.length?(c=+e[0],f=+e[1],t):[c,f]},t.precision=function(e){return arguments.length?(y=+e,p=vn(s,a,90),g=mn(r,n,y),v=vn(l,u,90),m=mn(o,i,y),t):y},t.majorExtent([[-180,-90+Na],[180,90-Na]]).minorExtent([[-180,-80-Na],[180,80+Na]])},Xo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||e.apply(this,arguments),i||r.apply(this,arguments)]}}var e=yn,n,r=xn,i;return t.distance=function(){return Xo.geo.distance(n||e.apply(this,arguments),i||r.apply(this,arguments))},t.source=function(r){return arguments.length?(e=r,n="function"==typeof r?null:r,t):e},t.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},Xo.geo.interpolate=function(t,e){return bn(t[0]*Aa,t[1]*Aa,e[0]*Aa,e[1]*Aa)},Xo.geo.length=function(t){return $s=0,Xo.geo.stream(t,Fs),$s};var Fs={sphere:y,point:y,lineStart:wn,lineEnd:y,polygonStart:y,polygonEnd:y},qs=Mn((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(Xo.geo.azimuthalEqualArea=function(){return on(qs)}).raw=qs;var zs=Mn((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),kt);(Xo.geo.azimuthalEquidistant=function(){return on(zs)}).raw=zs,(Xo.geo.conicConformal=function(){return He(Cn)}).raw=Cn,(Xo.geo.conicEquidistant=function(){return He(_n)}).raw=_n;var Us=Mn((function(t){return 1/t}),Math.atan);(Xo.geo.gnomonic=function(){return on(Us)}).raw=Us,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ta]},(Xo.geo.mercator=function(){return kn(Sn)}).raw=Sn;var Hs=Mn((function(){return 1}),Math.asin);(Xo.geo.orthographic=function(){return on(Hs)}).raw=Hs;var Bs=Mn((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));(Xo.geo.stereographic=function(){return on(Bs)}).raw=Bs,Tn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ta]},(Xo.geo.transverseMercator=function(){var t=kn(Tn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Tn,Xo.geom={},Xo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e=St(n),i=St(r),o,a=t.length,s=[],u=[];for(o=0;o<a;o++)s.push([+e.call(this,t[o],o),+i.call(this,t[o],o),o]);for(s.sort(Ln),o=0;o<a;o++)u.push([s[o][0],-s[o][1]]);var l=An(s),c=An(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(o=l.length-1;o>=0;--o)d.push(t[s[l[o]][2]]);for(o=+f;o<c.length-h;++o)d.push(t[s[c[o]][2]]);return d}var n=Nn,r=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Xo.geom.polygon=function(t){return ha(t,Vs),t};var Vs=Xo.geom.polygon.prototype=[];Vs.area=function(){for(var t=-1,e=this.length,n,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},Vs.centroid=function(t){var e=-1,n=this.length,r=0,i=0,o,a=this[n-1],s;for(arguments.length||(t=-1/(6*this.area()));++e<n;)o=a,a=this[e],s=o[0]*a[1]-a[0]*o[1],r+=(o[0]+a[0])*s,i+=(o[1]+a[1])*s;return[r*t,i*t]},Vs.clip=function(t){for(var e,n=jn(t),r=-1,i=this.length-jn(this),o,a,s=this[i-1],u,l,c;++r<i;){for(e=t.slice(),t.length=0,u=this[r],l=e[(a=e.length-n)-1],o=-1;++o<a;)Rn(c=e[o],s,u)?(Rn(l,s,u)||t.push(Dn(l,c,s,u)),t.push(c)):Rn(l,s,u)&&t.push(Dn(l,c,s,u)),l=c;n&&t.push(t[0]),s=u}return t};var Ws,Js,Gs,Xs=[],Ys,Zs,Qs=[];Un.prototype.prepare=function(){for(var t=this.edges,e=t.length,n;e--;)(n=t[e].edge).b&&n.a||t.splice(e,1);return t.sort(Bn),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(rr(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,rr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,o,a;if(o=r?i?or(i):r:i,e?e.L===t?e.L=o:e.R=o:this._=o,r&&i?(a=o.C,o.C=t.C,o.L=r,r.U=o,o!==i?(e=o.U,o.U=t.U,t=o.R,e.L=t,o.R=i,i.U=o):(o.U=e,e=o,t=o.R)):(a=t.C,t=o),t&&(t.U=e),!a)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===e.L){if((n=e.R).C&&(n.C=!1,e.C=!0,rr(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ir(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,rr(this,e),t=this._;break}}else if((n=e.L).C&&(n.C=!1,e.C=!0,ir(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,rr(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,ir(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}},Xo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ar(n(t),s).cells.forEach((function(n,s){var u=n.edges,l=n.site,c;(e[s]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=t[s]})),e}function n(t){return t.map((function(t,e){return{x:Math.round(o(t,e)/Na)*Na,y:Math.round(a(t,e)/Na)*Na,i:e}}))}var r=Nn,i=En,o=r,a=i,s=Ks;return t?e(t):(e.links=function(t){return ar(n(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},e.triangles=function(t){var e=[];return ar(n(t)).cells.forEach((function(n,r){for(var i=n.site,o=n.edges.sort(Bn),a=-1,s=o.length,u,l,c=o[s-1].edge,f=c.l===i?c.r:c.l;++a<s;)u=c,l=f,f=(c=o[a].edge).l===i?c.r:c.l,r<l.i&&r<f.i&&ur(i,l,f)<0&&e.push([t[r],t[l.i],t[f.i]])})),e},e.x=function(t){return arguments.length?(o=St(r=t),e):r},e.y=function(t){return arguments.length?(a=St(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?Ks:t,e):s===Ks?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Ks?null:s&&s[1]},e)};var Ks=[[-1e6,-1e6],[1e6,1e6]];Xo.geom.delaunay=function(t){return Xo.geom.voronoi().triangles(t)},Xo.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(sa(u-n)+sa(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),f=n>=l,h=r>=c,d=(h<<1)+f;t.leaf=!1,f?i=l:s=l,h?a=c:u=c,o(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,s,u)}var c,f=St(a),h=St(s),d,p,g,v,m,y,x,b;if(null!=e)m=e,y=n,x=r,b=i;else if(x=b=-(m=y=1/0),d=[],p=[],v=t.length,u)for(g=0;g<v;++g)(c=t[g]).x<m&&(m=c.x),c.y<y&&(y=c.y),c.x>x&&(x=c.x),c.y>b&&(b=c.y),d.push(c.x),p.push(c.y);else for(g=0;g<v;++g){var w=+f(c=t[g],g),M=+h(c,g);w<m&&(m=w),M<y&&(y=M),w>x&&(x=w),M>b&&(b=M),d.push(w),p.push(M)}var C=x-m,_=b-y;C>_?b=y+C:x=m+_;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){o(S,t,+f(t,++g),+h(t,g),m,y,x,b)},visit:function(t){hr(t,S,m,y,x,b)}};if(g=-1,null==e){for(;++g<v;)o(S,t[g],d[g],p[g],m,y,x,b);--g}else t.forEach(S.add);return d=p=t=c=null,S}var a=Nn,s=En,u;return(u=arguments.length)?(a=lr,s=cr,3===u&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(s=t,o):s},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},Xo.interpolateRgb=dr,Xo.interpolateObject=pr,Xo.interpolateNumber=gr,Xo.interpolateString=vr;var tu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eu=new RegExp(tu.source,"g");Xo.interpolate=mr,Xo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Wa.has(e)||/^(#|rgb\(|hsl\()/.test(e)?dr:vr:e instanceof ot?dr:Array.isArray(e)?yr:"object"===n&&isNaN(e)?pr:gr)(t,e)}],Xo.interpolateArray=yr;var nu=function(){return kt},ru=Xo.map({linear:nu,poly:Sr,quad:function(){return Mr},cubic:function(){return Cr},sin:function(){return kr},exp:function(){return Tr},circle:function(){return Nr},elastic:Er,back:Ar,bounce:function(){return Lr}}),iu=Xo.map({in:kt,out:br,"in-out":wr,"out-in":function(t){return wr(br(t))}});Xo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ru.get(n)||nu,xr((r=iu.get(r)||kt)(n.apply(null,Yo.call(arguments,1))))},Xo.interpolateHcl=Rr,Xo.interpolateHsl=Dr,Xo.interpolateLab=jr,Xo.interpolateRound=Pr,Xo.transform=function(t){var e=Qo.createElementNS(Xo.ns.prefix.svg,"g");return(Xo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ir(n?n.matrix:ou)})(t)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ou={a:1,b:0,c:0,d:1,e:0,f:0};Xo.interpolateTransform=qr,Xo.layout={},Xo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Hr(t[n]));return e}},Xo.layout.chord=function(){function t(){var t={},n=[],f=Xo.range(a),h=[],d,p,g,v,m;for(r=[],i=[],d=0,v=-1;++v<a;){for(p=0,m=-1;++m<a;)p+=o[v][m];n.push(p),h.push(Xo.range(a)),d+=p}for(u&&f.sort((function(t,e){return u(n[t],n[e])})),l&&h.forEach((function(t,e){t.sort((function(t,n){return l(o[e][t],o[e][n])}))})),d=(ka-s*a)/d,p=0,v=-1;++v<a;){for(g=p,m=-1;++m<a;){var y=f[v],x=h[y][m],b=o[y][x],w=p,M=p+=b*d;t[y+"-"+x]={index:y,subindex:x,startAngle:w,endAngle:M,value:b}}i[y]={index:y,startAngle:g,endAngle:p,value:(p-g)/d},p+=s}for(v=-1;++v<a;)for(m=v-1;++m<a;){var C=t[v+"-"+m],_=t[m+"-"+v];(C.value||_.value)&&r.push(C.value<_.value?{source:_,target:C}:{source:C,target:_})}c&&e()}function e(){r.sort((function(t,e){return c((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}var n={},r,i,o,a,s=0,u,l,c;return n.matrix=function(t){return arguments.length?(a=(o=t)&&o.length,r=i=null,n):o},n.padding=function(t){return arguments.length?(s=t,r=i=null,n):s},n.sortGroups=function(t){return arguments.length?(u=t,r=i=null,n):u},n.sortSubgroups=function(t){return arguments.length?(l=t,r=null,n):l},n.sortChords=function(t){return arguments.length?(c=t,r&&e(),n):c},n.chords=function(){return r||t(),r},n.groups=function(){return i||t(),i},n},Xo.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(s*s/d<u){if(u<f){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<f){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=Xo.event.x,t.py=Xo.event.y,n.resume()}var n={},r=Xo.dispatch("start","tick","end"),i=[1,1],o,a,s=.9,u=au,l=su,c=-30,f=uu,h=.1,d=.64,p=[],g=[],v,m,y;return n.tick=function(){if((a*=.99)<.005)return r.end({type:"end",alpha:a=0}),!0;var e=p.length,n=g.length,o,u,l,f,d,x,b,w,M;for(u=0;u<n;++u)f=(l=g[u]).source,(x=(w=(d=l.target).x-f.x)*w+(M=d.y-f.y)*M)&&(w*=x=a*m[u]*((x=Math.sqrt(x))-v[u])/x,M*=x,d.x-=w*(b=f.weight/(d.weight+f.weight)),d.y-=M*b,f.x+=w*(b=1-b),f.y+=M*b);if((b=a*h)&&(w=i[0]/2,M=i[1]/2,u=-1,b))for(;++u<e;)(l=p[u]).x+=(w-l.x)*b,l.y+=(M-l.y)*b;if(c)for(Yr(o=Xo.geom.quadtree(p),a,y),u=-1;++u<e;)(l=p[u]).fixed||o.visit(t(l));for(u=-1;++u<e;)(l=p[u]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);r.tick({type:"tick",alpha:a})},n.nodes=function(t){return arguments.length?(p=t,n):p},n.links=function(t){return arguments.length?(g=t,n):g},n.size=function(t){return arguments.length?(i=t,n):i},n.linkDistance=function(t){return arguments.length?(u="function"==typeof t?t:+t,n):u},n.distance=n.linkDistance,n.linkStrength=function(t){return arguments.length?(l="function"==typeof t?t:+t,n):l},n.friction=function(t){return arguments.length?(s=+t,n):s},n.charge=function(t){return arguments.length?(c="function"==typeof t?t:+t,n):c},n.chargeDistance=function(t){return arguments.length?(f=t*t,n):Math.sqrt(f)},n.gravity=function(t){return arguments.length?(h=+t,n):h},n.theta=function(t){return arguments.length?(d=t*t,n):Math.sqrt(d)},n.alpha=function(t){return arguments.length?(t=+t,a?a=t>0?t:0:t>0&&(r.start({type:"start",alpha:a=t}),Xo.timer(n.tick)),n):a},n.start=function(){function t(t,n){if(!f){for(f=new Array(r),a=0;a<r;++a)f[a]=[];for(a=0;a<s;++a){var i=g[a];f[i.source.index].push(i.target),f[i.target.index].push(i.source)}}for(var o=f[e],a=-1,s=o.length,u;++a<s;)if(!isNaN(u=o[a][t]))return u;return Math.random()*n}var e,r=p.length,o=g.length,a=i[0],s=i[1],f,h;for(e=0;e<r;++e)(h=p[e]).index=e,h.weight=0;for(e=0;e<o;++e)"number"==typeof(h=g[e]).source&&(h.source=p[h.source]),"number"==typeof h.target&&(h.target=p[h.target]),++h.source.weight,++h.target.weight;for(e=0;e<r;++e)h=p[e],isNaN(h.x)&&(h.x=t("x",a)),isNaN(h.y)&&(h.y=t("y",s)),isNaN(h.px)&&(h.px=h.x),isNaN(h.py)&&(h.py=h.y);if(v=[],"function"==typeof u)for(e=0;e<o;++e)v[e]=+u.call(this,g[e],e);else for(e=0;e<o;++e)v[e]=u;if(m=[],"function"==typeof l)for(e=0;e<o;++e)m[e]=+l.call(this,g[e],e);else for(e=0;e<o;++e)m[e]=l;if(y=[],"function"==typeof c)for(e=0;e<r;++e)y[e]=+c.call(this,p[e],e);else for(e=0;e<r;++e)y[e]=c;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){if(o||(o=Xo.behavior.drag().origin(kt).on("dragstart.force",Wr).on("drag.force",e).on("dragend.force",Jr)),!arguments.length)return o;this.on("mouseover.force",Gr).on("mouseout.force",Xr).call(o)},Xo.rebind(n,r,"on")};var au=20,su=1,uu=1/0;Xo.layout.hierarchy=function(){function t(i){var o=[i],a=[],s;for(i.depth=0;null!=(s=o.pop());)if(a.push(s),(l=n.call(t,s,s.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)o.push(c=l[u]),c.parent=s,c.depth=s.depth+1;r&&(s.value=0),s.children=l}else r&&(s.value=+r.call(t,s,s.depth)||0),delete s.children;return Kr(i,(function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)})),a}var e=ni,n=ti,r=ei;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Qr(e,(function(t){t.children&&(t.value=0)})),Kr(e,(function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)}))),e},t},Xo.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(s=o.length)){var a=-1,s,u,l;for(r=e.value?r/e.value:0;++a<s;)t(u=o[a],n,l=u.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var i=-1,o;++i<o;)r=Math.max(r,e(n[i]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=Xo.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Zr(n,r)},Xo.layout.pie=function(){function t(o){var a=o.map((function(n,r){return+e.call(t,n,r)})),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Xo.sum(a),l=Xo.range(o.length);null!=n&&l.sort(n===lu?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return l.forEach((function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}})),c}var e=Number,n=lu,r=0,i=ka;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var lu={};Xo.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var l=s.map((function(n,r){return e.call(t,n,r)})),c=l.map((function(e){return e.map((function(e,n){return[o.call(t,e,n),a.call(t,e,n)]}))})),f=n.call(t,c,u);l=Xo.permute(l,f),c=Xo.permute(c,f);var h=r.call(t,c,u),d=l[0].length,p,g,v,m;for(v=0;v<d;++v)for(i.call(t,l[0][v],m=h[v],c[0][v][1]),g=1;g<p;++g)i.call(t,l[g][v],m+=c[g-1][v][1],c[g][v][1]);return s}var e=kt,n=si,r=ui,i=ai,o=ii,a=oi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:cu.get(e)||si,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:fu.get(e)||ui,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var cu=Xo.map({"inside-out":function(t){var e=t.length,n,r,i=t.map(li),o=t.map(ci),a=Xo.range(e).sort((function(t,e){return i[t]-i[e]})),s=0,u=0,l=[],c=[];for(n=0;n<e;++n)r=a[n],s<u?(s+=o[r],l.push(r)):(u+=o[r],c.push(r));return c.reverse().concat(l)},reverse:function(t){return Xo.range(t.length).reverse()},default:si}),fu=Xo.map({silhouette:function(t){var e=t.length,n=t[0].length,r=[],i=0,o,a,s,u=[];for(a=0;a<n;++a){for(o=0,s=0;o<e;o++)s+=t[o][a][1];s>i&&(i=s),r.push(s)}for(a=0;a<n;++a)u[a]=(i-r[a])/2;return u},wiggle:function(t){var e=t.length,n=t[0],r=n.length,i,o,a,s,u,l,c,f,h,d=[];for(d[0]=f=h=0,o=1;o<r;++o){for(i=0,s=0;i<e;++i)s+=t[i][o][1];for(i=0,u=0,c=n[o][0]-n[o-1][0];i<e;++i){for(a=0,l=(t[i][o][1]-t[i][o-1][1])/(2*c);a<i;++a)l+=(t[a][o][1]-t[a][o-1][1])/c;u+=l*t[i][o][1]}d[o]=f-=s?u/s*c:0,f<h&&(h=f)}for(o=0;o<r;++o)d[o]-=h;return d},expand:function(t){var e=t.length,n=t[0].length,r=1/e,i,o,a,s=[];for(o=0;o<n;++o){for(i=0,
a=0;i<e;i++)a+=t[i][o][1];if(a)for(i=0;i<e;i++)t[i][o][1]/=a;else for(i=0;i<e;i++)t[i][o][1]=r}for(o=0;o<n;++o)s[o]=0;return s},zero:ui});Xo.layout.histogram=function(){function t(t,o){for(var a=[],s=t.map(n,this),u=r.call(this,s,o),l=i.call(this,u,s,o),c,o=-1,f=s.length,h=l.length-1,d=e?1:1/f,p;++o<h;)(c=a[o]=[]).dx=l[o+1]-(c.x=l[o]),c.y=0;if(h>0)for(o=-1;++o<f;)(p=s[o])>=u[0]&&p<=u[1]&&((c=a[Xo.bisect(l,p,1,h)-1]).y+=d,c.push(t[o]));return a}var e=!0,n=Number,r=pi,i=hi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=St(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return di(t,e)}:St(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Xo.layout.pack=function(){function t(t,o){var a=e.call(this,t,o),s=a[0],u=r[0],l=r[1],c=null==i?Math.sqrt:"function"==typeof i?i:function(){return i};if(s.x=s.y=0,Kr(s,(function(t){t.r=+c(t.value)})),Kr(s,xi),n){var f=n*(i?1:Math.max(2*s.r/u,2*s.r/l))/2;Kr(s,(function(t){t.r+=f})),Kr(s,xi),Kr(s,(function(t){t.r-=f}))}return Mi(s,u/2,l/2,i?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e=Xo.layout.hierarchy().sort(gi),n=0,r=[1,1],i;return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(e){return arguments.length?(i=null==e||"function"==typeof e?e:+e,t):i},t.padding=function(e){return arguments.length?(n=+e,t):n},Zr(t,e)},Xo.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),f=c[0],h=e(f);if(Kr(h,n),h.parent.m=-h.z,Qr(h,r),l)Qr(f,o);else{var d=f,p=f,g=f;Qr(f,(function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)}));var v=s(d,p)/2-d.x,m=u[0]/(p.x+s(p,d)/2+v),y=u[1]/(g.depth||1);Qr(f,(function(t){t.x=(t.x+v)*m,t.y=t.depth*y}))}return c}function e(t){for(var e={A:null,children:[t]},n=[e],r;null!=(r=n.pop());)for(var i=r.children,o,a=0,s=i.length;a<s;++a)n.push((i[a]=o={_:i[a],parent:r,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return e.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ni(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r=t,i=t,o=e,a=r.parent.children[0],u=r.m,l=i.m,c=o.m,f=a.m,h;o=ki(o),r=Si(r),o&&r;)a=Si(a),(i=ki(i)).a=t,(h=o.z+c-r.z-u+s(o._,r._))>0&&(Ti(Ei(o,t,n),t,h),u+=h,l+=h),c+=o.m,u+=r.m,f+=a.m,l+=i.m;o&&!ki(i)&&(i.t=o,i.m+=c-l),r&&!Si(a)&&(a.t=r,a.m+=u-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=Xo.layout.hierarchy().sort(null).value(null),s=_i,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Zr(t,a)},Xo.layout.cluster=function(){function t(t,o){var a=e.call(this,t,o),s=a[0],u,l=0;Kr(s,(function(t){var e=t.children;e&&e.length?(t.x=Li(e),t.y=Ai(e)):(t.x=u?l+=n(t,u):0,t.y=0,u=t)}));var c=Ri(s),f=Di(s),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return Kr(s,i?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(d-h)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var e=Xo.layout.hierarchy().sort(null).value(null),n=_i,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Zr(t,e)},Xo.layout.treemap=function(){function t(t,e){for(var n=-1,r=t.length,i,o;++n<r;)o=(i=t[n]).value*(e<0?0:e),i.area=isNaN(o)||o<=0?0:o}function e(n){var o=n.children;if(o&&o.length){var a=c(n),s=[],u=o.slice(),l,f=1/0,h,p="slice"===d?a.dx:"dice"===d?a.dy:"slice-dice"===d?1&n.depth?a.dy:a.dx:Math.min(a.dx,a.dy),g;for(t(u,a.dx*a.dy/n.value),s.area=0;(g=u.length)>0;)s.push(l=u[g-1]),s.area+=l.area,"squarify"!==d||(h=r(s,p))<=f?(u.pop(),f=h):(s.area-=s.pop().area,i(s,p,a,!1),p=Math.min(a.dx,a.dy),s.length=s.area=0,f=1/0);s.length&&(i(s,p,a,!0),s.length=s.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o=c(e),a=r.slice(),s,u=[];for(t(a,o.dx*o.dy/e.value),u.area=0;s=a.pop();)u.push(s),u.area+=s.area,null!=s.z&&(i(u,s.z?o.dx:o.dy,o,!a.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n=t.area,r,i=0,o=1/0,a=-1,s=t.length;++a<s;)(r=t[a].area)&&(r<o&&(o=r),r>i&&(i=r));return e*=e,(n*=n)?Math.max(e*i*p/n,n/(e*o*p)):1/0}function i(t,e,n,r){var i=-1,o=t.length,a=n.x,u=n.y,l=e?s(t.area/e):0,c;if(e==n.dx){for((r||l>n.dy)&&(l=n.dy);++i<o;)(c=t[i]).x=a,c.y=u,c.dy=l,a+=c.dx=Math.min(n.x+n.dx-a,l?s(c.area/l):0);c.z=!0,c.dx+=n.x+n.dx-a,n.y+=l,n.dy-=l}else{for((r||l>n.dx)&&(l=n.dx);++i<o;)(c=t[i]).x=a,c.y=u,c.dx=l,u+=c.dy=Math.min(n.y+n.dy-u,l?s(c.area/l):0);c.z=!1,c.dy+=n.y+n.dy-u,n.x+=l,n.dx-=l}}function o(r){var i=h||a(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],h&&a.revalue(o),t([o],o.dx*o.dy/o.value),(h?n:e)(o),f&&(h=i),i}var a=Xo.layout.hierarchy(),s=Math.round,u=[1,1],l=null,c=ji,f=!1,h,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?ji(e):Pi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Pi(e,t)}return arguments.length?(c=null==(l=t)?ji:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o):l;var r},o.round=function(t){return arguments.length?(s=t?Math.round:Number,o):s!=Number},o.sticky=function(t){return arguments.length?(f=t,h=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Zr(o,a)},Xo.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Xo.random.normal.apply(Xo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Xo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},Xo.scale={};var hu={floor:kt,ceil:kt};Xo.scale.linear=function(){return Ui([0,1],[0,1],mr,!1)};var du={s:1,g:1,p:1,r:1,e:1};Xo.scale.log=function(){return Yi(Xo.scale.linear().domain([0,1]),10,!0,[1,10])};var pu=Xo.format(".0e"),gu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Xo.scale.pow=function(){return Zi(Xo.scale.linear(),1,[0,1])},Xo.scale.sqrt=function(){return Xo.scale.pow().exponent(.5)},Xo.scale.ordinal=function(){return Ki([],{t:"range",a:[[]]})},Xo.scale.category10=function(){return Xo.scale.ordinal().range(vu)},Xo.scale.category20=function(){return Xo.scale.ordinal().range(mu)},Xo.scale.category20b=function(){return Xo.scale.ordinal().range(yu)},Xo.scale.category20c=function(){return Xo.scale.ordinal().range(xu)};var vu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),yu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),xu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);Xo.scale.quantile=function(){return to([],[])},Xo.scale.quantize=function(){return eo(0,1,[0,1])},Xo.scale.threshold=function(){return no([.5],[0,1])},Xo.scale.identity=function(){return ro([0,1])},Xo.svg={},Xo.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+bu,s=i.apply(this,arguments)+bu,u=(s<a&&(u=a,a=s,s=u),s-a),l=u<Sa?"0":"1",c=Math.cos(a),f=Math.sin(a),h=Math.cos(s),d=Math.sin(s);return u>=wu?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*d+"L"+t*h+","+t*d+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*f+"Z":"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*d+"L0,0Z"}var e=io,n=oo,r=ao,i=so;return t.innerRadius=function(n){return arguments.length?(e=St(n),t):e},t.outerRadius=function(e){return arguments.length?(n=St(e),t):n},t.startAngle=function(e){return arguments.length?(r=St(e),t):r},t.endAngle=function(e){return arguments.length?(i=St(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+bu;return[Math.cos(o)*t,Math.sin(o)*t]},t};var bu=-Ta,wu=ka-Na;Xo.svg.line=function(){return uo(kt)};var Mu=Xo.map({linear:lo,"linear-closed":co,step:fo,"step-before":ho,"step-after":po,basis:bo,"basis-open":wo,"basis-closed":Mo,bundle:Co,cardinal:mo,"cardinal-open":go,"cardinal-closed":vo,monotone:Eo});Mu.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var Cu=[0,2/3,1/3,0],_u=[0,1/3,2/3,0],Su=[0,1/6,2/3,1/6];Xo.svg.line.radial=function(){var t=uo(Ao);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ho.reverse=po,po.reverse=ho,Xo.svg.area=function(){return Lo(kt)},Xo.svg.area.radial=function(){var t=Lo(Ao);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Xo.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+bu,c=l.call(t,i,r)+bu;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Sa)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=yn,a=xn,s=Ro,u=ao,l=so;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(o=St(e),t):o},t.target=function(e){return arguments.length?(a=St(e),t):a},t.startAngle=function(e){return arguments.length?(u=St(e),t):u},t.endAngle=function(e){return arguments.length?(l=St(e),t):l},t},Xo.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(r))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yn,n=xn,r=Do;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Xo.svg.diagonal.radial=function(){var t=Xo.svg.diagonal(),e=Do,n=t.projection;return t.projection=function(t){return arguments.length?n(jo(e=t)):e},t},Xo.svg.symbol=function(){function t(t,r){return(ku.get(e.call(this,t,r))||Oo)(n.call(this,t,r))}var e=Io,n=Po;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var ku=Xo.map({circle:Oo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Nu)),n=e*Nu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Tu),n=e*Tu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Tu),n=e*Tu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Xo.svg.symbolTypes=ku.keys();var Tu=Math.sqrt(3),Nu=Math.tan(30*Aa),Eu=[],Au=0,Lu,Ru;Eu.call=ma.call,Eu.empty=ma.empty,Eu.node=ma.node,Eu.size=ma.size,Xo.transition=function(t){return arguments.length?Lu?t.transition():t:ba.transition()},Xo.transition.prototype=Eu,Eu.select=function(t){var e=this.id,n=[],r,i,o;t=S(t);for(var a=-1,s=this.length;++a<s;){n.push(r=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(o=u[l])&&(i=t.call(o,o.__data__,l,a))?("__data__"in o&&(i.__data__=o.__data__),zo(i,l,e,o.__transition__[e]),r.push(i)):r.push(null)}return $o(n,e)},Eu.selectAll=function(t){var e=this.id,n=[],r,i,o,a,s;t=k(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],f=-1,h=c.length;++f<h;)if(o=c[f]){s=o.__transition__[e],i=t.call(o,o.__data__,f,u),n.push(r=[]);for(var d=-1,p=i.length;++d<p;)(a=i[d])&&zo(a,d,e,s),r.push(a)}return $o(n,e)},Eu.filter=function(t){var e=[],n,r,i;"function"!=typeof t&&(t=O(t));for(var o=0,a=this.length;o<a;o++){e.push(n=[]);for(var r,s=0,u=(r=this[o]).length;s<u;s++)(i=r[s])&&t.call(i,i.__data__,s,o)&&n.push(i)}return $o(e,this.id)},Eu.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):F(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Eu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e=this.getAttribute(s),n;return e!==t&&(n=a(e,t),function(t){this.setAttribute(s,n(t))})})}function o(t){return null==t?r:(t+="",function(){var e=this.getAttributeNS(s.space,s.local),n;return e!==t&&(n=a(e,t),function(t){this.setAttributeNS(s.space,s.local,n(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?qr:mr,s=Xo.ns.qualify(t);return Fo(this,"attr."+t,e,s.local?o:i)},Eu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Xo.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Eu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r=ta.getComputedStyle(this,null).getPropertyValue(t),i;return r!==e&&(i=mr(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){for(n in o<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}return Fo(this,"style."+t,e,i)},Eu.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,ta.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Eu.text=function(t){return Fo(this,"text",t,qo)},Eu.remove=function(){return this.each("end.transition",(function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Eu.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Xo.ease.apply(Xo,arguments)),F(this,(function(n){n.__transition__[e].ease=t})))},Eu.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:F(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Eu.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:F(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Eu.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Ru,i=Lu;Lu=n,F(this,(function(e,r,i){Ru=e.__transition__[n],t.call(e,e.__data__,r,i)})),Ru=r,Lu=i}else F(this,(function(r){var i=r.__transition__[n];(i.event||(i.event=Xo.dispatch("start","end"))).on(t,e)}));return this},Eu.transition=function(){for(var t=this.id,e=++Au,n=[],r,i,o,a,s=0,u=this.length;s<u;s++){n.push(r=[]);for(var i,l=0,c=(i=this[s]).length;l<c;l++)(o=i[l])&&((a=Object.create(o.__transition__[t])).delay+=a.duration,zo(o,l,e,a)),r.push(o)}return $o(n,e)},Xo.svg.axis=function(){function t(t){t.each((function(){var t=Xo.select(this),l=this.__chart__||e,c=this.__chart__=e.copy(),f=null==s?c.ticks?c.ticks.apply(c,a):c.domain():s,h=null==u?c.tickFormat?c.tickFormat.apply(c,a):kt:u,d=t.selectAll(".tick").data(f,c),p=d.enter().insert("g",".domain").attr("class","tick").style("opacity",Na),g=Xo.transition(d.exit()).style("opacity",Na).remove(),v=Xo.transition(d.order()).style("opacity",1),m=Math.max(r,0)+o,y,x=Oi(c),b=t.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Xo.transition(b));p.append("line"),p.append("text");var M=p.select("line"),C=v.select("line"),_=d.select("text").text(h),S=p.select("text"),k=v.select("text"),T="top"===n||"left"===n?-1:1,N,E,A,L;if("bottom"===n||"top"===n?(y=Uo,N="x",A="y",E="x2",L="y2",_.attr("dy",T<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+T*i+"V0H"+x[1]+"V"+T*i)):(y=Ho,N="y",A="x",E="y2",L="x2",_.attr("dy",".32em").style("text-anchor",T<0?"end":"start"),w.attr("d","M"+T*i+","+x[0]+"H0V"+x[1]+"H"+T*i)),M.attr(L,T*r),S.attr(A,T*m),C.attr(E,0).attr(L,T*r),k.attr(N,0).attr(A,T*m),c.rangeBand){var R=c,D=R.rangeBand()/2;l=c=function(t){return R(t)+D}}else l.rangeBand?l=c:g.call(y,c,l);p.call(y,l,c),v.call(y,c,c)}))}var e=Xo.scale.linear(),n=Du,r=6,i=6,o=3,a=[10],s=null,u;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(e){return arguments.length?(n=e in ju?e+"":Du,t):n},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(e){return arguments.length?(s=e,t):s},t.tickFormat=function(e){return arguments.length?(u=e,t):u},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,i=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Du="bottom",ju={top:1,right:1,bottom:1,left:1};Xo.svg.brush=function(){function t(o){o.each((function(){var o=Xo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),u=o.selectAll(".background").data([0]);u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=o.selectAll(".resize").data(p,kt);l.exit().remove(),l.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Pu[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",t.empty()?"none":null);var c=Xo.transition(o),f=Xo.transition(u),h;a&&(h=Oi(a),f.attr("x",h[0]).attr("width",h[1]-h[0]),n(c)),s&&(h=Oi(s),f.attr("y",h[0]).attr("height",h[1]-h[0]),r(c)),e(c)}))}function e(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+u[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function n(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function i(){function i(){32==Xo.event.keyCode&&(k||(N=null,E[0]-=u[1],E[1]-=l[1],k=2),w())}function p(){32==Xo.event.keyCode&&2==k&&(E[0]+=u[1],E[1]+=l[1],k=0,w())}function g(){var t=Xo.mouse(y),i=!1;A&&(t[0]+=A[0],t[1]+=A[1]),k||(Xo.event.altKey?(N||(N=[(u[0]+u[1])/2,(l[0]+l[1])/2]),E[0]=u[+(t[0]<N[0])],E[1]=l[+(t[1]<N[1])]):N=null),_&&v(t,a,0)&&(n(M),i=!0),S&&v(t,s,1)&&(r(M),i=!0),i&&(e(M),b({type:"brush",mode:k?"move":"resize"}))}function v(t,e,n){var r=Oi(e),i=r[0],o=r[1],a=E[n],s=n?l:u,p=s[1]-s[0],g,v;if(k&&(i-=a,o-=p+a),g=(n?d:h)?Math.max(i,Math.min(o,t[n])):t[n],k?v=(g+=a)+p:(N&&(a=Math.max(i,Math.min(o,2*N[n]-g))),a<g?(v=g,g=a):v=a),s[0]!=g||s[1]!=v)return n?f=null:c=null,s[0]=g,s[1]=v,!0}function m(){g(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Xo.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}var y=this,x=Xo.select(Xo.event.target),b=o.of(y,arguments),M=Xo.select(y),C=x.datum(),_=!/^(n|s)$/.test(C)&&a,S=!/^(e|w)$/.test(C)&&s,k=x.classed("extent"),T=W(),N,E=Xo.mouse(y),A,L=Xo.select(ta).on("keydown.brush",i).on("keyup.brush",p);if(Xo.event.changedTouches?L.on("touchmove.brush",g).on("touchend.brush",m):L.on("mousemove.brush",g).on("mouseup.brush",m),M.interrupt().selectAll("*").interrupt(),k)E[0]=u[0]-E[0],E[1]=l[0]-E[1];else if(C){var R=+/w$/.test(C),D=+/^n/.test(C);A=[u[1-R]-E[0],l[1-D]-E[1]],E[0]=u[R],E[1]=l[D]}else Xo.event.altKey&&(N=E.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),Xo.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),g()}var o=C(t,"brushstart","brush","brushend"),a=null,s=null,u=[0,0],l=[0,0],c,f,h=!0,d=!0,p=Iu[0];return t.event=function(t){t.each((function(){var t=o.of(this,arguments),e={x:u,y:l,i:c,j:f},n=this.__chart__||e;this.__chart__=e,Lu?Xo.select(this).transition().each("start.brush",(function(){c=n.i,f=n.j,u=n.x,l=n.y,t({type:"brushstart"})})).tween("brush:brush",(function(){var n=yr(u,e.x),r=yr(l,e.y);return c=f=null,function(i){u=e.x=n(i),l=e.y=r(i),t({type:"brush",mode:"resize"})}})).each("end.brush",(function(){c=e.i,f=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})})):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))}))},t.x=function(e){return arguments.length?(p=Iu[!(a=e)<<1|!s],t):a},t.y=function(e){return arguments.length?(p=Iu[!a<<1|!(s=e)],t):s},t.clamp=function(e){return arguments.length?(a&&s?(h=!!e[0],d=!!e[1]):a?h=!!e:s&&(d=!!e),t):a&&s?[h,d]:a?h:s?d:null},t.extent=function(e){var n,r,i,o,h;return arguments.length?(a&&(n=e[0],r=e[1],s&&(n=n[0],r=r[0]),c=[n,r],a.invert&&(n=a(n),r=a(r)),r<n&&(h=n,n=r,r=h),n==u[0]&&r==u[1]||(u=[n,r])),s&&(i=e[0],o=e[1],a&&(i=i[1],o=o[1]),f=[i,o],s.invert&&(i=s(i),o=s(o)),o<i&&(h=i,i=o,o=h),i==l[0]&&o==l[1]||(l=[i,o])),t):(a&&(c?(n=c[0],r=c[1]):(n=u[0],r=u[1],a.invert&&(n=a.invert(n),r=a.invert(r)),r<n&&(h=n,n=r,r=h))),s&&(f?(i=f[0],o=f[1]):(i=l[0],o=l[1],s.invert&&(i=s.invert(i),o=s.invert(o)),o<i&&(h=i,i=o,o=h))),a&&s?[[n,i],[r,o]]:a?[n,r]:s&&[i,o])},t.clear=function(){return t.empty()||(u=[0,0],l=[0,0],c=f=null),t},t.empty=function(){return!!a&&u[0]==u[1]||!!s&&l[0]==l[1]},Xo.rebind(t,o,"on")};var Pu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Iu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ou=ns.format=us.timeFormat,$u=Ou.utc,Fu=$u("%Y-%m-%dT%H:%M:%S.%LZ");Ou.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Bo:Fu,Bo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Bo.toString=Fu.toString,ns.second=Ft((function(t){return new rs(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),ns.seconds=ns.second.range,ns.seconds.utc=ns.second.utc.range,ns.minute=Ft((function(t){return new rs(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),ns.minutes=ns.minute.range,ns.minutes.utc=ns.minute.utc.range,ns.hour=Ft((function(t){var e=t.getTimezoneOffset()/60;return new rs(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),ns.hours=ns.hour.range,ns.hours.utc=ns.hour.utc.range,ns.month=Ft((function(t){return(t=ns.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),ns.months=ns.month.range,ns.months.utc=ns.month.utc.range;var qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],zu=[[ns.second,1],[ns.second,5],[ns.second,15],[ns.second,30],[ns.minute,1],[ns.minute,5],[ns.minute,15],[ns.minute,30],[ns.hour,1],[ns.hour,3],[ns.hour,6],[ns.hour,12],[ns.day,1],[ns.day,2],[ns.week,1],[ns.month,1],[ns.month,3],[ns.year,1]],Uu=Ou.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Te]]),Hu={range:function(t,e,n){return Xo.range(Math.ceil(t/n)*n,+e,n).map(Wo)},floor:kt,ceil:kt};zu.year=ns.year,ns.scale=function(){return Vo(Xo.scale.linear(),zu,Uu)};var Bu=zu.map((function(t){return[t[0].utc,t[1]]})),Vu=$u.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Te]]);Bu.year=ns.year.utc,ns.scale.utc=function(){return Vo(Xo.scale.linear(),Bu,Vu)},Xo.text=Tt((function(t){return t.responseText})),Xo.json=function(t,e){return Nt(t,"application/json",Jo,e)},Xo.html=function(t,e){return Nt(t,"text/html",Go,e)},Xo.xml=Tt((function(t){return t.responseXML})),"function"==typeof define&&define.amd?define(Xo):"object"==typeof module&&module.exports&&(module.exports=Xo),this.d3=Xo}(),$((function(){$("select#sortBy").change((function(t){var e=$("#ticketTableSortingForm");$("input#sortDesc").attr("value","False"),e.submit()})),$("button#sortDescendingButton").bind("click",(function(t){var e=$("#ticketTableSortingForm");$("input#sortDesc").attr("value","True"),e.submit()})),$("button#sortAscendingButton").bind("click",(function(t){var e=$("#ticketTableSortingForm");$("input#sortDesc").attr("value","False"),e.submit()}))})),$((function(){$(document.body).on("click","a.changePriorityLink",(function(){var t=$(this).closest("div.singleTicket"),e=t.attr("class"),n=$(this).text(),r;$(this).closest(".dropdown-menu").find("li.hidden").toggleClass("hidden"),$(this).closest("li").toggleClass("hidden"),e.indexOf("border-red")>=0?(t.toggleClass("border-red"),t.find(".priorityLabel").toggleClass("red")):e.indexOf("border-yellow")>=0?(t.toggleClass("border-yellow"),t.find(".priorityLabel").toggleClass("yellow")):e.indexOf("border-green")>=0?(t.toggleClass("border-green"),t.find(".priorityLabel").toggleClass("green")):e.indexOf("border-blue")>=0&&(t.toggleClass("border-blue"),t.find(".priorityLabel").toggleClass("blue")),n.indexOf("critical")>=0?(t.toggleClass("border-green"),t.find(".priorityLabel").toggleClass("green"),t.find(".priorityLabel").html("<strong>CRITICAL</strong>")):n.indexOf("important")>=0?(t.toggleClass("border-yellow"),t.find(".priorityLabel").toggleClass("yellow"),t.find(".priorityLabel").html("<strong>IMPORTANT</strong>")):n.indexOf("useful")>=0?(t.toggleClass("border-red"),t.find(".priorityLabel").toggleClass("red"),t.find(".priorityLabel").html("<strong>USEFUL</strong>")):n.indexOf("high")>=0?(t.toggleClass("border-green"),t.find(".priorityLabel").toggleClass("green"),t.find(".priorityLabel").html("<strong>HIGH</strong>")):n.indexOf("medium")>=0?(t.toggleClass("border-yellow"),t.find(".priorityLabel").toggleClass("yellow"),t.find(".priorityLabel").html("<strong>MEDIUM</strong>")):n.indexOf("low")>=0?(t.toggleClass("border-red"),t.find(".priorityLabel").toggleClass("red"),t.find(".priorityLabel").html("<strong>LOW</strong>")):n.indexOf("none")>=0&&(t.toggleClass("border-blue"),t.find(".priorityLabel").toggleClass("blue"),t.find(".priorityLabel").html("NONE"))}))})),$((function(){$(document.body).on("focusout","input[name='currentMag']",(function(){var t;if($(this).val()>20.5)return alert("current magnitude must brighter than 20.5 mag"),$(this).val(20.5),!1})),$(document.body).on("click","button.generateOBSubmitButton",(function(){var t=$(this).attr("id");setTimeout((function(){t="#"+t,$(t).modal("hide"),$(this).off()}),500)}))})),$((function(){$(".classificationForm").on("change","select#clsClassificationWRTMax",(function(){var t=$(this).val(),e,n=(e=$(this).closest("form").find("#clsClassificationPhase")).closest("div.input-prepend").find("span.add-on"),e;"post-max"==t||"pre-max"==t?(e.removeAttr("disabled"),"post-max"==t?n.html("+"):n.html("-")):((e=$(this).closest("form").find("#clsClassificationPhase")).attr("disabled",!0),n.html("?"))}))})),$((function(){$(".classificationForm").on("change","select[name='clsClassificationWRTMax']",(function(){var t=$(this).val(),e=$(this).closest("form").find("input[name='clsClassificationPhase']"),n=e.closest("div.input-prepend").find("span.add-on");"post-max"==t||"pre-max"==t?(e.removeAttr("disabled"),"post-max"==t?n.html("+"):n.html("-")):(e.attr("disabled",!0),"at-max"==t?n.html(""):n.html("?"))}))})),$((function(){$(".classificationForm").on("change","select[name='clsType']",(function(){var t=$(this).val(),e=$(this).closest("form").find("select[name='clsSnClassification']"),n=$(this).closest("form").find("input[name='clsPeculiar']");"supernova"==t?(e.removeAttr("disabled"),n.removeAttr("disabled")):(e.attr("disabled",!0),n.attr("disabled",!0))}))}));var _pessto_create_new_ticket_form=function(){var t=$("input[name='objectRa']");t.blur((function(){var e=t.val();e.indexOf(":")>=0&&(e=ra_sex2degrees(e)),$.isNumeric(e)&&t.val(e)}));var e=$("input[name='objectDec']");e.blur((function(){var t=e.val();t.indexOf(":")>=0&&(t=dec_sex2degrees(t)),$.isNumeric(t)&&e.val(t)}))}();$((function(){document.URL.indexOf("/transients")>-1&&$.post("/marshall/actions/refresh_sidebar_list_counts?method=put")})),$((function(){$("a.ticketMoveToLink").bind("click",(function(t){var e=$(this).attr("notification"),e=decodeURIComponent(e),n;$("span#dynamicNotification").html(e);var r=$(this).closest("div.singleTicket");fade_and_hide(r),$.post("/marshall/actions/refresh_sidebar_list_counts?method=put")})),$(document.body).on("click","a.ticketMoveToLinkUndo",(function(t){var e=$(this).attr("id"),n=$("div#"+e);show_and_unfade(n);var r=$("span#dynamicNotification");setTimeout((function(){r.show().html("")}),200),$.post("/marshall/actions/refresh_sidebar_list_counts?method=put")}))})),$((function(){$("a[data-toggle='tab']").bind("click",(function(t){if($(this).text().indexOf("context")>=0){var e;reset_all_tickets();var n=$(this).attr("href"),r=$("div"+n).find("div.aladin-hide");r.attr("class","aladin"),dryxAladin(r)}}))}));var cds=cds||{},A=A||{};"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,a=gap,s,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)s[n]=str(n,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",
gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&s.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&s.push(quote(r)+(gap?": ":":")+i);return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),Logger={},Logger.log=function(t,e){try{var n="http://alasky.u-strasbg.fr/cgi/AladinLiteLogger/log.py",r="";e&&(r=JSON.stringify(e)),$.ajax({url:n,data:{action:t,params:r,pageUrl:window.location.href,referer:document.referrer?document.referrer:""},method:"GET",dataType:"json"})}catch(t){window.console&&console.log("Exception: "+t)}},
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.4
 *
 * Requires: 1.2.2+
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}((function(t){function e(e){var n=e||window.event,r=[].slice.call(arguments,1),a=0,s=0,u=0,l=0,c=0,f;return(e=t.event.fix(n)).type="mousewheel",n.wheelDelta&&(a=n.wheelDelta),n.detail&&(a=-1*n.detail),u=a,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(u=0,s=-1*a),n.deltaY&&(a=u=-1*n.deltaY),n.deltaX&&(a=-1*(s=n.deltaX)),void 0!==n.wheelDeltaY&&(u=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(s=-1*n.wheelDeltaX),l=Math.abs(a),(!i||l<i)&&(i=l),c=Math.max(Math.abs(u),Math.abs(s)),(!o||c<o)&&(o=c),f=a>0?"floor":"ceil",a=Math[f](a/i),s=Math[f](s/o),u=Math[f](u/o),r.unshift(e,a,s,u),(t.event.dispatch||t.event.handle).apply(this,r)}var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i,o;if(t.event.fixHooks)for(var a=n.length;a;)t.event.fixHooks[n[--a]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)};var Stats=function(){function t(t,e,n){var r,i,o;for(i=0;i<30;i++)for(r=0;r<73;r++)t[o=4*(r+74*i)]=t[o+4],t[o+1]=t[o+5],t[o+2]=t[o+6];for(i=0;i<30;i++)o=4*(73+74*i),i<e?(t[o]=A[n].bg.r,t[o+1]=A[n].bg.g,t[o+2]=A[n].bg.b):(t[o]=A[n].fg.r,t[o+1]=A[n].fg.g,t[o+2]=A[n].fg.b)}var e=0,n=2,r,i=0,o=(new Date).getTime(),a=o,s=o,u=0,l=1e3,c=0,f,h,d,p,g,v=0,m=1e3,y=0,x,b,w,M,C=0,_=1e3,S=0,k,T,N,E,A={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mb:{bg:{r:48,g:16,b:26},fg:{r:255,g:0,b:128}}};(r=document.createElement("div")).style.cursor="pointer",r.style.width="80px",r.style.opacity="0.9",r.style.zIndex="10001",r.addEventListener("click",(function(){switch(++e==n&&(e=0),f.style.display="none",x.style.display="none",k.style.display="none",e){case 0:f.style.display="block";break;case 1:x.style.display="block";break;case 2:k.style.display="block"}}),!1),(f=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(A.fps.bg.r/2)+","+Math.floor(A.fps.bg.g/2)+","+Math.floor(A.fps.bg.b/2)+")",f.style.padding="2px 0px 3px 0px",r.appendChild(f),(h=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",h.style.textAlign="left",h.style.fontSize="9px",h.style.color="rgb("+A.fps.fg.r+","+A.fps.fg.g+","+A.fps.fg.b+")",h.style.margin="0px 0px 1px 3px",h.innerHTML='<span style="font-weight:bold">FPS</span>',f.appendChild(h),(d=document.createElement("canvas")).width=74,d.height=30,d.style.display="block",d.style.marginLeft="3px",f.appendChild(d),(p=d.getContext("2d")).fillStyle="rgb("+A.fps.bg.r+","+A.fps.bg.g+","+A.fps.bg.b+")",p.fillRect(0,0,d.width,d.height),g=p.getImageData(0,0,d.width,d.height),(x=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(A.ms.bg.r/2)+","+Math.floor(A.ms.bg.g/2)+","+Math.floor(A.ms.bg.b/2)+")",x.style.padding="2px 0px 3px 0px",x.style.display="none",r.appendChild(x),(b=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",b.style.textAlign="left",b.style.fontSize="9px",b.style.color="rgb("+A.ms.fg.r+","+A.ms.fg.g+","+A.ms.fg.b+")",b.style.margin="0px 0px 1px 3px",b.innerHTML='<span style="font-weight:bold">MS</span>',x.appendChild(b),(d=document.createElement("canvas")).width=74,d.height=30,d.style.display="block",d.style.marginLeft="3px",x.appendChild(d),(w=d.getContext("2d")).fillStyle="rgb("+A.ms.bg.r+","+A.ms.bg.g+","+A.ms.bg.b+")",w.fillRect(0,0,d.width,d.height),M=w.getImageData(0,0,d.width,d.height);try{performance&&performance.memory&&performance.memory.totalJSHeapSize&&(n=3)}catch(t){}return(k=document.createElement("div")).style.backgroundColor="rgb("+Math.floor(A.mb.bg.r/2)+","+Math.floor(A.mb.bg.g/2)+","+Math.floor(A.mb.bg.b/2)+")",k.style.padding="2px 0px 3px 0px",k.style.display="none",r.appendChild(k),(T=document.createElement("div")).style.fontFamily="Helvetica, Arial, sans-serif",T.style.textAlign="left",T.style.fontSize="9px",T.style.color="rgb("+A.mb.fg.r+","+A.mb.fg.g+","+A.mb.fg.b+")",T.style.margin="0px 0px 1px 3px",T.innerHTML='<span style="font-weight:bold">MB</span>',k.appendChild(T),(d=document.createElement("canvas")).width=74,d.height=30,d.style.display="block",d.style.marginLeft="3px",k.appendChild(d),(N=d.getContext("2d")).fillStyle="#301010",N.fillRect(0,0,d.width,d.height),E=N.getImageData(0,0,d.width,d.height),{domElement:r,update:function(){i++,o=(new Date).getTime(),v=o-a,m=Math.min(m,v),y=Math.max(y,v),t(M.data,Math.min(30,30-v/200*30),"ms"),b.innerHTML='<span style="font-weight:bold">'+v+" MS</span> ("+m+"-"+y+")",w.putImageData(M,0,0),a=o,o>s+1e3&&(u=Math.round(1e3*i/(o-s)),l=Math.min(l,u),c=Math.max(c,u),t(g.data,Math.min(30,30-u/100*30),"fps"),h.innerHTML='<span style="font-weight:bold">'+u+" FPS</span> ("+l+"-"+c+")",p.putImageData(g,0,0),3==n&&(C=954e-9*performance.memory.usedJSHeapSize,_=Math.min(_,C),S=Math.max(S,C),t(E.data,Math.min(30,30-C/2),"mb"),T.innerHTML='<span style="font-weight:bold">'+Math.round(C)+" MB</span> ("+Math.round(_)+"-"+Math.round(S)+")",N.putImageData(E,0,0)),s=o,i=0)}}};Constants={},Constants.PI=Math.PI,Constants.C_PR=Math.PI/180,Constants.VLEV=2,Constants.EPS=1e-7,Constants.c=.105,Constants.LN10=Math.log(10),Constants.PIOVER2=Math.PI/2,Constants.TWOPI=2*Math.PI,Constants.TWOTHIRD=2/3,Constants.ARCSECOND_RADIAN=484813681109536e-20,SpatialVector=function(){function t(t,e,n){"use strict";this.x=t,this.y=e,this.z=n,this.ra_=0,this.dec_=0,this.okRaDec_=!1}return t.prototype.setXYZ=function(t,e,n){this.x=t,this.y=e,this.z=n,this.okRaDec_=!1},t.prototype.length=function(){"use strict";return Math.sqrt(this.lengthSquared())},t.prototype.lengthSquared=function(){"use strict";return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.normalized=function(){"use strict";var t=this.length();this.x/=t,this.y/=t,this.z/=t},t.prototype.set=function(t,e){"use strict";this.ra_=t,this.dec_=e,this.okRaDec_=!0,this.updateXYZ()},t.prototype.angle=function(t){"use strict";var e=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,r=this.x*t.y-this.y*t.x,i=Math.sqrt(e*e+n*n+r*r);return Math.abs(Math.atan2(i,dot(t)))},t.prototype.get=function(){"use strict";return[x,y,z]},t.prototype.toString=function(){"use strict";return"SpatialVector["+this.x+", "+this.y+", "+this.z+"]"},t.prototype.cross=function(e){"use strict";return new t(this.y*e.z-e.y*this.z,this.z*e.x-e.z*this.x,this.x*e.y-e.x()*this.y)},t.prototype.equal=function(t){"use strict";return this.x==t.x&&this.y==t.y&&this.z==t.z()},t.prototype.mult=function(e){"use strict";return new t(e*this.x,e*this.y,e*this.z)},t.prototype.dot=function(t){"use strict";return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.add=function(e){"use strict";return new t(this.x+e.x,this.y+e.y,this.z+e.z)},t.prototype.sub=function(e){"use strict";return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.dec=function(){"use strict";return this.okRaDec_||(this.normalized(),this.updateRaDec()),this.dec_},t.prototype.ra=function(){"use strict";return this.okRaDec_||(this.normalized(),this.updateRaDec()),this.ra_},t.prototype.updateXYZ=function(){"use strict";var t=Math.cos(this.dec_*Constants.C_PR);this.x=Math.cos(this.ra_*Constants.C_PR)*t,this.y=Math.sin(this.ra_*Constants.C_PR)*t,this.z=Math.sin(this.dec_*Constants.C_PR)},t.prototype.updateRaDec=function(){"use strict";this.dec_=Math.asin(this.z)/Constants.C_PR;var t=Math.cos(this.dec_*Constants.C_PR);this.ra_=t>Constants.EPS||-Constants.EPS>t?this.y>Constants.EPS||this.y<-Constants.EPS?0>this.y?360-Math.acos(this.x/t)/Constants.C_PR:Math.acos(this.x/t)/Constants.C_PR:0>this.x?180:0:0,this.okRaDec_=!0},t.prototype.toRaRadians=function(){"use strict";var t=0;return(0!=this.x||0!=this.y)&&(t=Math.atan2(this.y,this.x)),0>t&&(t+=2*Math.PI),t},t.prototype.toDeRadians=function(){var t=z/this.length(),e=Math.acos(t);return Math.PI/2-e},t}(),AngularPosition=(AngularPosition=function(t,e){"use strict";this.theta=t,this.phi=e},AngularPosition.prototype.toString=function(){"use strict";return"theta: "+this.theta+", phi: "+this.phi},AngularPosition),LongRangeSetBuilder=function(){function t(){this.items=[]}return t.prototype.appendRange=function(t,e){for(var n=t;e>=n;n++)n in this.items||this.items.push(n)},t}(),HealpixIndex=function(){function t(t){"use strict";this.nside=t}return t.NS_MAX=8192,t.ORDER_MAX=13,t.NSIDELIST=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192],t.JRLL=[2,2,2,2,3,3,3,3,4,4,4,4],t.JPLL=[1,3,5,7,0,2,4,6,1,3,5,7],t.XOFFSET=[-1,-1,0,1,1,1,0,-1],t.YOFFSET=[0,1,1,1,0,-1,-1,-1],t.FACEARRAY=[[8,9,10,11,-1,-1,-1,-1,10,11,8,9],[5,6,7,4,8,9,10,11,9,10,11,8],[-1,-1,-1,-1,5,6,7,4,-1,-1,-1,-1],[4,5,6,7,11,8,9,10,11,8,9,10],[0,1,2,3,4,5,6,7,8,9,10,11],[1,2,3,0,0,1,2,3,5,6,7,4],[-1,-1,-1,-1,7,4,5,6,-1,-1,-1,-1],[3,0,1,2,3,0,1,2,4,5,6,7],[2,3,0,1,-1,-1,-1,-1,0,1,2,3]],t.SWAPARRAY=[[0,0,0,0,0,0,0,0,3,3,3,3],[0,0,0,0,0,0,0,0,6,6,6,6],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,5,5,5,5],[0,0,0,0,0,0,0,0,0,0,0,0],[5,5,5,5,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[6,6,6,6,0,0,0,0,0,0,0,0],[3,3,3,3,0,0,0,0,0,0,0,0]],t.Z0=Constants.TWOTHIRD,t.prototype.init=function(){"use strict";var e=256;this.ctab=Array(e),this.utab=Array(e);for(var n=0;256>n;++n)this.ctab[n]=1&n|(2&n)<<7|(4&n)>>1|(8&n)<<6|(16&n)>>2|(32&n)<<5|(64&n)>>3|(128&n)<<4,this.utab[n]=1&n|(2&n)<<1|(4&n)<<2|(8&n)<<3|(16&n)<<4|(32&n)<<5|(64&n)<<6|(128&n)<<7;this.nl2=2*this.nside,this.nl3=3*this.nside,this.nl4=4*this.nside,this.npface=this.nside*this.nside,this.ncap=2*this.nside*(this.nside-1),this.npix=12*this.npface,this.fact2=4/this.npix,this.fact1=(this.nside<<1)*this.fact2,this.order=t.nside2order(this.nside)},t.calculateNSide=function(e){for(var n=0,r=e*e,i=180/Constants.PI,o=5184e4*Constants.PI*i*i,a,s=Utils.castToInt(o/r)/12,u=Math.sqrt(s),l=t.NS_MAX,c=0,f=0;t.NSIDELIST.length>f;f++)if(l>=Math.abs(u-t.NSIDELIST[f])&&(l=Math.abs(u-t.NSIDELIST[f]),n=t.NSIDELIST[f],c=f),u>n&&t.NS_MAX>u&&(n=t.NSIDELIST[c+1]),u>t.NS_MAX)return console.log("nside cannot be bigger than "+t.NS_MAX),t.NS_MAX;return n},t.nside2order=function(e){"use strict";return(e&e-1)>0?-1:Utils.castToInt(t.log2(e))},t.log2=function(t){"use strict";return Math.log(t)/Math.log(2)},t.prototype.ang2pix_nest=function(e,n){"use strict";var r,i,o,a,s,u,l,c,f,h,d,p,g;if(n>=Constants.TWOPI&&(n-=Constants.TWOPI),0>n&&(n+=Constants.TWOPI),e>Constants.PI||0>e)throw{name:"Illegal argument",message:"theta must be between 0 and "+Constants.PI};if(n>Constants.TWOPI||0>n)throw{name:"Illegal argument",message:"phi must be between 0 and "+Constants.TWOPI};if(i=Math.cos(e),o=Math.abs(i),a=n/Constants.PIOVER2,t.Z0>=o){var v=this.nside*(.5+a),m=.75*this.nside*i,c,f=v+m;d=(u=(c=v-m)>>this.order)==(l=f>>this.order)?4==u?4:u+4:l>u?u:l+8,p=Utils.castToInt(f&this.nside-1),g=Utils.castToInt(this.nside-(c&this.nside-1)-1)}else{(h=Utils.castToInt(a))>=4&&(h=3),s=a-h;var y=this.nside*Math.sqrt(3*(1-o));c=Utils.castToInt(s*y),f=Utils.castToInt((1-s)*y),c=Math.min(t.NS_MAX-1,c),f=Math.min(t.NS_MAX-1,f),i>=0?(d=h,p=Utils.castToInt(this.nside-f-1),g=Utils.castToInt(this.nside-c-1)):(d=h+8,p=c,g=f)}return r=this.xyf2nest(p,g,d)},t.prototype.xyf2nest=function(t,e,n){"use strict";return(n<<2*this.order)+(this.utab[255&t]|this.utab[255&t>>8]<<16|this.utab[255&t>>16]<<32|this.utab[255&t>>24]<<48|this.utab[255&e]<<1|this.utab[255&e>>8]<<17|this.utab[255&e>>16]<<33|this.utab[255&e>>24]<<49)},t.prototype.nest2xyf=function(t){"use strict";var e={};e.face_num=t>>2*this.order;var n=t&this.npface-1,r=(93823560581120&n)>>16|(614882086624428e4&n)>>31|21845&n|(1431633920&n)>>15;return e.ix=this.ctab[255&r]|this.ctab[255&r>>8]<<4|this.ctab[255&r>>16]<<16|this.ctab[255&r>>24]<<20,r=(93823560581120&(n>>=1))>>16|(614882086624428e4&n)>>31|21845&n|(1431633920&n)>>15,e.iy=this.ctab[255&r]|this.ctab[255&r>>8]<<4|this.ctab[255&r>>16]<<16|this.ctab[255&r>>24]<<20,e},t.prototype.pix2ang_nest=function(e){"use strict";if(0>e||e>this.npix-1)throw{name:"Illegal argument",message:"ipix out of range"};var n,r,i,o=this.nest2xyf(e),a=o.ix,s=o.iy,u=o.face_num,l=(t.JRLL[u]<<this.order)-a-s-1;this.nside>l?(r=1-(n=l)*n*this.fact2,i=0):l>this.nl3?(r=(n=this.nl4-l)*n*this.fact2-1,i=0):(n=this.nside,r=(this.nl2-l)*this.fact1,i=1&l-this.nside);var c=Math.acos(r),f=(t.JPLL[u]*n+a-s+1+i)/2,h;return f>this.nl4&&(f-=this.nl4),1>f&&(f+=this.nl4),{theta:c,phi:(f-.5*(i+1))*(Constants.PIOVER2/n)}},t.nside2Npix=function(e){"use strict";if(0>e||(e&-e)!=e||e>t.NS_MAX)throw{name:"Illegal argument",message:"nside should be >0, power of 2, <"+t.NS_MAX};var n;return 12*e*e},t.prototype.xyf2ring=function(e,n,r){"use strict";var i,o,a,s=t.JRLL[r]*this.nside-e-n-1;this.nside>s?(a=2*(i=s)*(i-1),o=0):s>3*this.nside?(i=this.nl4-s,a=this.npix-2*(i+1)*i,o=0):(i=this.nside,a=this.ncap+(s-this.nside)*this.nl4,o=1&s-this.nside);var u=(t.JPLL[r]*i+e-n+1+o)/2;return u>this.nl4?u-=this.nl4:1>u&&(u+=this.nl4),a+u-1},t.prototype.nest2ring=function(t){"use strict";var e=this.nest2xyf(t),n;return this.xyf2ring(e.ix,e.iy,e.face_num)},t.prototype.corners_nest=function(t,e){"use strict";var n=this.nest2ring(t);return this.corners_ring(n,e)},t.prototype.pix2ang_ring=function(t){"use strict";var e,n,r,i,o,a,s,u,l;if(0>t||t>this.npix-1)throw{name:"Illegal argument",message:"ipix out of range"};return a=t+1,this.ncap>=a?(u=a/2,l=Utils.castToInt(u),i=a-2*(r=Utils.castToInt(Math.sqrt(u-Math.sqrt(l)))+1)*(r-1),e=Math.acos(1-r*r*this.fact2),n=(i-.5)*Constants.PI/(2*r)):this.npix-this.ncap>t?(r=(o=t-this.ncap)/this.nl4+this.nside,i=o%this.nl4+1,s=(1&r+this.nside)>0?1:.5,e=Math.acos((this.nl2-r)*this.fact1),n=(i-s)*Constants.PI/this.nl2):(o=this.npix-t,i=4*(r=Utils.castToInt(.5*(1+Math.sqrt(2*o-1))))+1-(o-2*r*(r-1)),e=Math.acos(Math.pow(r,2)*this.fact2-1),n=(i-.5)*Constants.PI/(2*r)),[e,n]},t.prototype.ring=function(t){"use strict";var e,n,r=0,i=t+1,o=0;return this.ncap>=i?(n=i/2,o=Utils.castToInt(n),r=Utils.castToInt(Math.sqrt(n-Math.sqrt(o)))+1):this.nl2*(5*this.nside+1)>=i?(e=Utils.castToInt(i-this.ncap-1),r=Utils.castToInt(e/this.nl4+this.nside)):(n=(e=this.npix-i+1)/2,o=Utils.castToInt(n),r=Utils.castToInt(Math.sqrt(n-Math.sqrt(o)))+1,r=this.nl4-r),r},t.prototype.integration_limits_in_costh=function(t){"use strict";var e,n,r,i;return i=1*this.nside,this.nside>=t?(n=1-Math.pow(t,2)/3/this.npface,r=1-Math.pow(t-1,2)/3/this.npface,e=t==this.nside?2*(this.nside-1)/3/i:1-Math.pow(t+1,2)/3/this.npface):this.nl3>t?(n=2*(2*this.nside-t)/3/i,r=2*(2*this.nside-t+1)/3/i,e=2*(2*this.nside-t-1)/3/i):(r=t==this.nl3?2*(1-this.nside)/3/i:Math.pow(4*this.nside-t+1,2)/3/this.npface-1,e=Math.pow(this.nl4-t-1,2)/3/this.npface-1,n=Math.pow(this.nl4-t,2)/3/this.npface-1),[r,n,e]},t.prototype.pixel_boundaries=function(t,e,n,r){var i,o,a,s,u,l,c,f,h=1*this.nside;if(Math.abs(r)>=1-1/3/this.npface)return[c=n*Constants.PIOVER2,f=(n+1)*Constants.PIOVER2];if(1.5*r>=1)o=1/h/(i=Math.sqrt(3*(1-r))),s=(a=e)-1,l=(u=t-e)+1,c=Constants.PIOVER2*(Math.max(s*o,1-l*o)+n),f=Constants.PIOVER2*(Math.min(1-u*o,a*o)+n);else if(1.5*r>-1){var d=.5*(1-1.5*r),p=d+1,g=this.nside+t%2;s=(a=e-(g-t)/2)-1,l=(u=(g+t)/2-e)+1,c=Constants.PIOVER2*(Math.max(p-l/h,s/h-d)+n),f=Constants.PIOVER2*(Math.min(p-u/h,a/h-d)+n)}else{o=1/h/(i=Math.sqrt(3*(1+r)));var v=2*this.nside;s=(a=t-v+e)-1,l=(u=v-e)+1,c=Constants.PIOVER2*(Math.max(1-(v-s)*o,(v-l)*o)+n),f=Constants.PIOVER2*(Math.min(1-(v-a)*o,(v-u)*o)+n)}return[c,f]},t.vector=function(t,e){"use strict";var n=1*Math.sin(t)*Math.cos(e),r=1*Math.sin(t)*Math.sin(e),i=1*Math.cos(t);return new SpatialVector(n,r,i)},t.prototype.corners_ring=function(e,n){"use strict";var r=2*n+2,i=Array(r),o=this.pix2ang_ring(e),a=Math.cos(o[0]),s=o[0],u=o[1],l=Utils.castToInt(u/Constants.PIOVER2),c=this.ring(e),f=Math.min(c,Math.min(this.nside,this.nl4-c)),h=0,d=Constants.PIOVER2/f;h=c>=this.nside&&this.nl3>=c?Utils.castToInt(u/d+c%2/2)+1:Utils.castToInt(u/d)+1,h-=l*f;var p=r/2,g=this.integration_limits_in_costh(c),v=Math.acos(g[0]),m=Math.acos(g[2]),y=this.pixel_boundaries(c,h,l,g[0]);if(i[0]=h>f/2?t.vector(v,y[1]):t.vector(v,y[0]),y=this.pixel_boundaries(c,h,l,g[2]),i[p]=h>f/2?t.vector(m,y[1]):t.vector(m,y[0]),1==n){var x=Math.acos(g[1]);y=this.pixel_boundaries(c,h,l,g[1]),i[1]=t.vector(x,y[0]),i[3]=t.vector(x,y[1])}else for(var b,w=(g[2]-g[0])/(n+1),M=1;n>=M;M++)a=g[0]+w*M,s=Math.acos(a),y=this.pixel_boundaries(c,h,l,a),i[M]=t.vector(s,y[0]),i[r-M]=t.vector(s,y[1]);return i},t.vec2Ang=function(t){"use strict";var e=t.z/t.length(),n=Math.acos(e),r=0;return(0!=t.x||0!=t.y)&&(r=Math.atan2(t.y,t.x)),0>r&&(r+=2*Math.PI),[n,r]},t.prototype.queryDisc=function(e,n,r,i){"use strict";if(0>n||n>Constants.PI)throw{name:"Illegal argument",message:"angular radius is in RADIAN and should be in [0,pi]"};var o,a,s,u,l,c,f,h,d,p,g,v,m,y,x,b,w,M,C,_=new LongRangeSetBuilder,S=null,l=n,k;if(i&&(l+=Constants.PI/this.nl4),c=(S=t.vec2Ang(e))[0],f=S[1],g=this.fact2,v=this.fact1,u=Math.cos(c),C=1/Math.sqrt((1-u)*(1+u)),y=c-l,x=c+l,h=Math.cos(l),w=Math.cos(y),o=this.ringAbove(w)+1,b=Math.cos(x),o>(a=this.ringAbove(b))&&0==a&&(a=o),0>=y)for(var T=1;o>T;++T)this.inRing(T,0,Math.PI,_);for(s=o;a>=s;++s)p=1-(M=this.nside>s?1-s*s*g:this.nl3>=s?(this.nl2-s)*v:(this.nl4-s)*(this.nl4-s)*g-1)*M-(d=(h-M*u)*C)*d,m=Math.atan2(Math.sqrt(p),d),isNaN(m)&&(m=l),this.inRing(s,f,m,_);if(x>=Math.PI)for(var T=a+1;this.nl4>T;++T)this.inRing(T,0,Math.PI,_,!1);if(r){for(var N=_.items,E=[],A=0;N.length>A;A++){var L=this.ring2nest(N[A]);E.indexOf(L)>=0||E.push(L)}k=E}else k=_.items;return k},t.prototype.inRing=function(t,e,n,r,i){"use strict";var o,a,s,u,l=!1,c=!1,f=1e-12,h=0,d=0,p=0,g=0,v=(e-n)%Constants.TWOPI-f,m=e+n+f,y=(e+n)%Constants.TWOPI+f;if(f>Math.abs(n-Constants.PI)&&(l=!0),t>=this.nside&&this.nl3>=t?(d=t-this.nside+1,u=(s=this.ncap+this.nl4*(d-1))+this.nl4-1,o=d%2,a=this.nl4):(this.nside>t?u=(s=2*(d=t)*(d-1))+4*d-1:(d=4*this.nside-t,u=(s=this.npix-2*d*(d+1))+4*d-1),a=4*d,o=1),l)r.appendRange(s,u);else{if(h=o/2,i)p=Math.round(a*v/Constants.TWOPI-h),p%=a,(g=Math.round(a*m/Constants.TWOPI-h))>a&&(g%=a);else{if((p=Math.ceil(a*v/Constants.TWOPI-h))>(g=Utils.castToInt(a*y/Constants.TWOPI-h))&&1==t&&(g=Utils.castToInt(a*m/Constants.TWOPI-h)),p==g+1&&(p=g),1==p-g&&Constants.PI>n*a)return void console.log("the interval is too small and avay from center");p=Math.min(p,a-1),g=Math.max(g,0)}if(p>g&&(c=!0),c)p+=s,g+=s,r.appendRange(s,g),r.appendRange(p,u);else{if(0>p)return p=Math.abs(p),r.appendRange(s,s+g),void r.appendRange(u-p+1,u);p+=s,g+=s,r.appendRange(p,g)}}},t.prototype.ringAbove=function(t){"use strict";var e=Math.abs(t);if(e>Constants.TWOTHIRD){var n=Utils.castToInt(this.nside*Math.sqrt(3*(1-e)));return t>0?n:4*this.nside-n-1}return Utils.castToInt(this.nside*(2-1.5*t))},t.prototype.ring2nest=function(t){"use strict";var e=this.ring2xyf(t);return this.xyf2nest(e.ix,e.iy,e.face_num)},t.prototype.ring2xyf=function(e){"use strict";var n,r,i,o,a={},s;if(this.ncap>e)r=e+1-2*(n=Utils.castToInt(.5*(1+Math.sqrt(1+2*e))))*(n-1),i=0,o=n,a.face_num=0,(s=r-1)>=2*n&&(a.face_num=2,s-=2*n),s>=n&&++a.face_num;else if(this.npix-this.ncap>e){var u=e-this.ncap;this.order>=0?(n=(u>>this.order+2)+this.nside,r=1+(u&this.nl4-1)):(n=u/this.nl4+this.nside,r=u%this.nl4+1),i=1&n+this.nside,o=this.nside;var l,c,f=n-this.nside+1,h=this.nl2+2-f;this.order>=0?(l=r-Utils.castToInt(f/2)+this.nside-1>>this.order,c=r-Utils.castToInt(h/2)+this.nside-1>>this.order):(l=(r-Utils.castToInt(f/2)+this.nside-1)/this.nside,c=(r-Utils.castToInt(h/2)+this.nside-1)/this.nside),a.face_num=c==l?4==c?4:Utils.castToInt(c)+4:l>c?Utils.castToInt(c):Utils.castToInt(l)+8}else{var u=this.npix-e,s;r=4*(n=Utils.castToInt(.5*(1+Math.sqrt(2*u-1))))+1-(u-2*n*(n-1)),i=0,o=n,n=2*this.nl2-n,a.face_num=8,(s=r-1)>=2*o&&(a.face_num=10,s-=2*o),s>=o&&++a.face_num}var d=n-t.JRLL[a.face_num]*this.nside+1,p=2*r-t.JPLL[a.face_num]*o-i-1;return p>=this.nl2&&(p-=8*this.nside),a.ix=p-d>>1,a.iy=-(p+d)>>1,a},t}(),Utils=function(){},Utils.radecToPolar=function(t,e){return{theta:Math.PI/2-e/180*Math.PI,phi:t/180*Math.PI}},Utils.polarToRadec=function(t,e){return{ra:180*e/Math.PI,dec:180*(Math.PI/2-t)/Math.PI}},Utils.castToInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},AstroMath.D2R=Math.PI/180,AstroMath.R2D=180/Math.PI,AstroMath.sign=function(t){return t>0?1:t<0?-1:0},AstroMath.cosd=function(t){var e;if(t%90==0)switch(Math.abs(Math.floor(t/90+.5))%4){case 0:return 1;case 1:return 0;case 2:return-1;case 3:return 0}return Math.cos(t*AstroMath.D2R)},AstroMath.sind=function(t){var e;if(t%90==0)switch(Math.abs(Math.floor(t/90-.5))%4){case 0:return 1;case 1:return 0;case 2:return-1;case 3:return 0}return Math.sin(t*AstroMath.D2R)},AstroMath.tand=function(t){var e;return 0==(e=t%360)||180==Math.abs(e)?0:45==e||225==e?1:-135==e||-315==e?-1:Math.tan(t*AstroMath.D2R)},AstroMath.asind=function(t){return Math.asin(t)*AstroMath.R2D},AstroMath.acosd=function(t){return Math.acos(t)*AstroMath.R2D},AstroMath.atand=function(t){return Math.atan(t)*AstroMath.R2D},AstroMath.atan2=function(t,e){if(0==t)return e>0?0:e<0?Math.PI:NaN;var n=AstroMath.sign(t);if(0==e)return Math.PI/2*n;var r=Math.atan(Math.abs(t/e));return e>0?r*n:e<0?(Math.PI-r)*n:void 0},AstroMath.atan2d=function(t,e){return AstroMath.atan2(t,e)*AstroMath.R2D},AstroMath.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2},AstroMath.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2},AstroMath.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},AstroMath.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))},AstroMath.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))},AstroMath.atanh=function(t){return.5*Math.log((1+t)/(1-t))},AstroMath.sinc=function(t){var e=Math.abs(t),n;return n=e<=.001?1-(e*=e)*(1-e/20)/6:Math.sin(e)/e},AstroMath.asinc=function(t){var e=Math.abs(t),n;return n=e<=.001?1+(e*=e)*(6+.45*e)/6:Math.asin(e)/e},AstroMath.hypot=function(t,e){return Math.sqrt(t*t+e*e)},AstroMath.eulerMatrix=function(t,e,n){var r=new Array(3);r[0]=new Array(3),r[1]=new Array(3),r[2]=new Array(3);var i=AstroMath.cosd(t),o=AstroMath.sind(t),a=AstroMath.cosd(e),s=AstroMath.sind(e),u=AstroMath.cosd(n),l=AstroMath.sind(n);return r[0][0]=u*a*i-l*o,r[0][1]=-l*a*i-u*o,r[0][2]=-s*i,r[1][0]=u*a*o+l*i,r[1][1]=-l*a*o+u*i,r[1][2]=-s*o,r[2][0]=-s*u,r[2][1]=-s*i,r[2][2]=a,r},AstroMath.displayMatrix=function(t){for(var e=t.length,n=0,r=0;r<e;r++)t[r].length>n&&(n=t[r].length);for(var i="<table>\n",r=0;r<e;r++){i+="<tr>";for(var o=0;o<e;o++)i+="<td>",r<t[r].length&&(i+=t[r][o].toString()),i+="</td>";i+="</td>\n"}return i+="</table>\n"},Projection.PROJ_TAN=1,Projection.PROJ_TAN2=2,Projection.PROJ_STG=2,Projection.PROJ_SIN=3,Projection.PROJ_SIN2=4,Projection.PROJ_ZEA=4,Projection.PROJ_ARC=5,Projection.PROJ_SCHMIDT=5,Projection.PROJ_AITOFF=6,Projection.PROJ_AIT=6,Projection.PROJ_GLS=7,Projection.PROJ_MERCATOR=8,Projection.PROJ_MER=8,Projection.PROJ_LAM=9,Projection.PROJ_LAMBERT=9,Projection.PROJ_TSC=10,Projection.PROJ_QSC=11,Projection.PROJ_LIST=["Mercator",Projection.PROJ_MERCATOR,"Gnomonic",Projection.PROJ_TAN,"Stereographic",Projection.PROJ_TAN2,"Orthographic",Projection.PROJ_SIN,"Zenithal",Projection.PROJ_ZEA,"Schmidt",Projection.PROJ_SCHMIDT,"Aitoff",Projection.PROJ_AITOFF,"Lambert",Projection.PROJ_LAMBERT],Projection.PROJ_NAME=["-","Gnomonic","Stereographic","Orthographic","Equal-area","Schmidt plates","Aitoff","Global sin","Mercator","Lambert"],Projection.prototype={setCenter:function(t,e){this.ROT=this.tr_oR(t,e)},setProjection:function(t){this.PROJECTION=t},project:function(t,e){var n=this.tr_ou(t,e),r=this.tr_uu(n,this.ROT),i=this.tr_up(this.PROJECTION,r);return null==i?null:{X:-i[0],Y:-i[1]}},unproject:function(t,e){t=-t,e=-e;var n=this.tr_pu(this.PROJECTION,t,e),r=this.tr_uu1(n,this.ROT),i=this.tr_uo(r);return{ra:i[0],dec:i[1]}},tr_up:function(t,e){var n=e[0],r=e[1],i=e[2],o,a,s,u,l;if(0==(o=AstroMath.hypot(n,r))&&0==i)return null;switch(t){default:s=null;break;case Projection.PROJ_AITOFF:a=Math.sqrt(o*(o+n)/2),u=Math.sqrt(2*o*(o-n)),u/=a=Math.sqrt((1+a)/2),r<0&&(u=-u),s=[u,l=i/a];break;case Projection.PROJ_GLS:l=Math.asin(i),s=[u=0!=o?Math.atan2(r,n)*o:0,l];break;case Projection.PROJ_MERCATOR:s=0!=o?[u=Math.atan2(r,n),l=AstroMath.atanh(i)]:null;break;case Projection.PROJ_TAN:s=n>0?[u=r/n,l=i/n]:null;break;case Projection.PROJ_TAN2:s=(a=(1+n)/2)>0?[u=r/a,l=i/a]:null;break;case Projection.PROJ_ARC:n<=-1?(u=Math.PI,l=0):(o=AstroMath.hypot(r,i),u=r*(a=n>0?AstroMath.asinc(o):Math.acos(n)/o),l=i*a),s=[u,l];break;case Projection.PROJ_SIN:s=n>=0?[u=r,l=i]:null;break;case Projection.PROJ_SIN2:0!=(a=Math.sqrt((1+n)/2))?(u=r/a,l=i/a):(u=2,l=0),s=[u,l];break;case Projection.PROJ_LAMBERT:l=i,u=0,0!=o&&(u=Math.atan2(r,n)),s=[u,l];break}return s},tr_pu:function(t,e,n){var r,i,o,a,s;switch(t){default:return null;case Projection.PROJ_AITOFF:if((r=e*e/8+n*n/2)>1)return null;o=1-r,a=e*(i=Math.sqrt(1-r/2))/2,s=n*i,0!=(r=AstroMath.hypot(o,a))&&(o=((i=o)*i-a*a)/r,a=2*i*a/r);break;case Projection.PROJ_GLS:if((r=1-(s=Math.sin(n))*s)<0)return null;i=0!=(r=Math.sqrt(r))?e/r:0,o=r*Math.cos(i),a=r*Math.sin(i);break;case Projection.PROJ_MERCATOR:s=AstroMath.tanh(n),o=(r=1/AstroMath.cosh(n))*Math.cos(e),a=r*Math.sin(e);break;case Projection.PROJ_LAMBERT:if((r=1-(s=n)*s)<0)return null;o=(r=Math.sqrt(r))*Math.cos(e),a=r*Math.sin(e);break;case Projection.PROJ_TAN:a=e*(o=1/Math.sqrt(1+e*e+n*n)),s=n*o;break;case Projection.PROJ_TAN2:o=(1-(r=(e*e+n*n)/4))/(i=1+r),a=e/i,s=n/i;break;case Projection.PROJ_ARC:if((r=AstroMath.hypot(e,n))>Math.PI)return null;i=AstroMath.sinc(r),o=Math.cos(r),a=i*e,s=i*n;break;case Projection.PROJ_SIN:if((i=1-e*e-n*n)<0)return null;o=Math.sqrt(i),a=e,s=n;break;case Projection.PROJ_SIN2:if((r=(e*e+n*n)/4)>1)return null;o=1-2*r,a=(i=Math.sqrt(1-r))*e,s=i*n;break}return[o,a,s]},tr_oR:function(t,e){var n=new Array(3);return n[0]=new Array(3),n[1]=new Array(3),n[2]=new Array(3),n[2][2]=AstroMath.cosd(e),n[0][2]=AstroMath.sind(e),n[1][1]=AstroMath.cosd(t),n[1][0]=-AstroMath.sind(t),n[1][2]=0,n[0][0]=n[2][2]*n[1][1],n[0][1]=-n[2][2]*n[1][0],n[2][0]=-n[0][2]*n[1][1],n[2][1]=n[0][2]*n[1][0],n},tr_ou:function(t,e){var n=new Array(3),r=AstroMath.cosd(e);return n[0]=r*AstroMath.cosd(t),n[1]=r*AstroMath.sind(t),n[2]=AstroMath.sind(e),n},tr_uu:function(t,e){var n=new Array(3),r=t[0],i=t[1],o=t[2];return n[0]=e[0][0]*r+e[0][1]*i+e[0][2]*o,n[1]=e[1][0]*r+e[1][1]*i+e[1][2]*o,n[2]=e[2][0]*r+e[2][1]*i+e[2][2]*o,n},tr_uu1:function(t,e){var n=new Array(3),r=t[0],i=t[1],o=t[2];return n[0]=e[0][0]*r+e[1][0]*i+e[2][0]*o,n[1]=e[0][1]*r+e[1][1]*i+e[2][1]*o,n[2]=e[0][2]*r+e[1][2]*i+e[2][2]*o,n},tr_uo:function(t){var e=t[0],n=t[1],r=t[2],i=e*e+n*n,o,a;if(0==i){if(0==r)return null;o=0,a=r>0?90:-90}else a=AstroMath.atand(r/Math.sqrt(i)),(o=AstroMath.atan2d(n,e))<0&&(o+=360);return[o,a]}},Coo.factor=[3600,60,1],Coo.prototype={setFrame:function(t){this.frame=t},computeDirCos:function(){var t=AstroMath.cosd(this.lat);this.x=t*AstroMath.cosd(this.lon),this.y=t*AstroMath.sind(this.lon),this.z=AstroMath.sind(this.lat)},computeLonLat:function(){var t=this.x*this.x+this.y*this.y;this.lon=0,0==t?0==this.z?(this.lon=NaN,this.lat=NaN):this.lat=this.z>0?90:-90:(this.lon=AstroMath.atan2d(this.y,this.x),this.lat=AstroMath.atan2d(this.z,Math.sqrt(t)),this.lon<0&&(this.lon+=360))},dist2:function(t){var e=t.x-this.x,n=e*e;return n+=(e=t.y-this.y)*e,n+=(e=t.z-this.z)*e},distance:function(t){return 0==t.x&&0==t.y&&0==t.z||0==this.x&&0==this.y&&0==this.z?NaN:2*AstroMath.asind(.5*Math.sqrt(this.dist2(t)))},convertTo:function(t){this.frame.equals(t)||(this.frame.toICRS(this.coo),t.fromICRS(this.coo),this.frame=t,this.lon=this.lat=NaN)},rotate:function(t){var e,n,r;t!=Umatrix3&&(e=t[0][0]*this.x+t[0][1]*this.y+t[0][2]*this.z,n=t[1][0]*this.x+t[1][1]*this.y+t[1][2]*this.z,r=t[2][0]*this.x+t[2][1]*this.y+t[2][2]*this.z,this.x=e,this.y=n,this.z=r,this.lon=this.lat=NaN)},rotate_1:function(t){var e,n,r;t!=Umatrix3&&(e=t[0][0]*this.x+t[1][0]*this.y+t[2][0]*this.z,n=t[0][1]*this.x+t[1][1]*this.y+t[2][1]*this.z,r=t[0][2]*this.x+t[1][2]*this.y+t[2][2]*this.z,this.x=e,this.y=n,this.z=r,this.lon=this.lat=NaN)},equals:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z},parse:function(t){var e=t.indexOf("+");if(e<0&&(e=t.indexOf("-")),e<0&&(e=t.indexOf(" ")),e<0)return this.lon=NaN,this.lat=NaN,this.prec=0,!1;var n=t.substring(0,e),r=t.substring(e);return this.lon=this.parseLon(n),this.lat=this.parseLat(r),!0},parseLon:function(t){var t;if((t=(t=t.trim()).replace(/:/g," ")).indexOf(" ")<0){var e=t.indexOf(".");return this.prec=e<0?0:t.length-e-1,parseFloat(t)}for(var n=new Tokenizer(t," "),r=0,i=0,o=0;n.hasMore();){var a=n.nextToken(),s=a.indexOf(".");switch(i+=parseFloat(a)*Coo.factor[r],r){case 0:o=s<0?1:2;break;case 1:o=s<0?3:4;break;case 2:o=s<0?5:4+a.length-s;default:break}r++}return this.prec=o,15*i/3600},parseLat:function(t){var t,e;if("-"==(t=(t=t.trim()).replace(/:/g," ")).charAt(0)?(e=-1,t=t.substring(1)):"-"==t.charAt(0)?(e=1,t=t.substring(1)):e=1,t.indexOf(" ")<0){var n=t.indexOf(".");return this.prec=n<0?0:t.length-n-1,parseFloat(t)*e}for(var r=new Tokenizer(t," "),i=0,o=0,a=0;r.hasMore();){var s=r.nextToken(),u=s.indexOf(".");switch(o+=parseFloat(s)*Coo.factor[i],i){case 0:a=u<0?1:2;break;case 1:a=u<0?3:4;break;case 2:a=u<0?5:4+s.length-u;default:break}i++}return this.prec=a,o*e/3600},format:function(t){isNaN(this.lon)&&this.computeLonLat();var e="",n="";if(t.indexOf("d")>=0)e=Numbers.format(this.lon,this.prec),n=Numbers.format(this.lat,this.prec);else var r=this.lon/15,e=Numbers.toSexagesimal(r,this.prec+1,!1),n=Numbers.toSexagesimal(this.lat,this.prec,!1);return this.lat>0&&(n="+"+n),t.indexOf("/")>=0?e+" "+n:t.indexOf("2")>=0?[e,n]:e+n}},Tokenizer.prototype={hasMore:function(){return this.pos<this.string.length},nextToken:function(){for(var t=this.pos;t<this.string.length&&this.string.charAt(t)==this.sep;)t++;for(var e=t;e<this.string.length&&this.string.charAt(e)!=this.sep;)e++;return this.pos=e,this.string.substring(t,e)}},Strings.trim=function(t,e){for(var n=0,r=t.length-1;n<t.length&&t.charAt(n)==e;)n++;if(n==t.length)return"";for(;r>n&&t.charAt(r)==e;)r--;return t.substring(n,r+1)},Numbers.pow10=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14],Numbers.rndval=[.5,.05,.005,5e-4,5e-5,5e-6,5e-7,5e-8,5e-9,5e-10,5e-11,5e-12,5e-13,5e-14,5e-14],Numbers.format=function(t,e){if(e<=0)return Math.round(t).toString();var n=t.toString(),r=n.indexOf("."),i=r>=0?n.length-r-1:0;if(e>=i){r<0&&(n+=".");for(var o=0;o<e-i;o++)n+="0";return n}return(n=(t+Numbers.rndval[e]).toString()).substr(0,r+e+1)},Numbers.toSexagesimal=function(t,e,n){var r="",i=t<0?"-":n?"+":"",o=Math.abs(t);switch(e){case 1:var a;return i+(a=Math.round(o)).toString();case 2:return i+Numbers.format(o,1);case 3:var a,s;return i+(a=Math.floor(o))+" "+(s=Math.round(60*(o-a)));case 4:var a,s=60*(o-(a=Math.floor(o)));return i+a+" "+Numbers.format(s,1);case 5:var a,s=60*(o-(a=Math.floor(o))),u,l;return i+a+" "+(u=Math.floor(s))+" "+(l=Math.round(60*(s-u)));case 6:case 7:case 8:var a;(a=Math.floor(o))<10&&(a="0"+a);var s=60*(o-a),u;(u=Math.floor(s))<10&&(u="0"+u);var l=60*(s-u);return i+a+" "+u+" "+Numbers.format(l,e-5);default:return i+Numbers.format(o,1)}},CooConversion=function(){var t={GALACTIC_TO_J2000:[-.0548755604024359,.4941094279435681,-.867666148981161,-.8734370902479237,-.4448296299195045,-.1980763734646737,-.4838350155267381,.7469822444763707,.4559837762325372],
J2000_TO_GALACTIC:[-.0548755604024359,-.873437090247923,-.4838350155267381,.4941094279435681,-.4448296299195045,.7469822444763707,-.867666148981161,-.1980763734646737,.4559837762325372],Transform:function(t,e){t[0]=t[0]*Math.PI/180,t[1]=t[1]*Math.PI/180;var n=new Array(Math.cos(t[0])*Math.cos(t[1]),Math.sin(t[0])*Math.cos(t[1]),Math.sin(t[1])),r=new Array(n[0]*e[0]+n[1]*e[1]+n[2]*e[2],n[0]*e[3]+n[1]*e[4]+n[2]*e[5],n[0]*e[6]+n[1]*e[7]+n[2]*e[8]),i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]),o=new Array(0,0);o[1]=Math.asin(r[2]/i);var a=r[0]/i/Math.cos(o[1]),s=r[1]/i/Math.cos(o[1]);return o[0]=Math.atan2(s,a),o[0]<0&&(o[0]=o[0]+2*Math.PI),o[0]=180*o[0]/Math.PI,o[1]=180*o[1]/Math.PI,o},GalacticToJ2000:function(e){return t.Transform(e,t.GALACTIC_TO_J2000)},J2000ToGalactic:function(e){return t.Transform(e,t.J2000_TO_GALACTIC)}};return t}(),Sesame=(Sesame={},Sesame.cache={},Sesame.resolve=function(t,e,n){var r="http://cds.u-strasbg.fr/cgi-bin/nph-sesame.jsonp?";$.ajax({url:r,data:{object:t},method:"GET",dataType:"jsonp",success:function(t){t.Target&&t.Target.Resolver&&t.Target.Resolver?e(t):n(t)},error:n})},Sesame),HealpixCache=function(){var t={staticCache:{corners:{nside8:[]}},dynamicCache:{},lastNside:8,hpxIdxCache:null,init:function(){var e=new HealpixIndex(8);e.init();for(var n=HealpixIndex.nside2Npix(8),r=0;r<n;r++)t.staticCache.corners.nside8[r]=e.corners_nest(r,1);t.hpxIdxCache=e},corners_nest:function(e,n){return 8==n?t.staticCache.corners.nside8[e]:(n!=t.lastNside&&(t.hpxIdxCache=new HealpixIndex(n),t.hpxIdxCache.init(),t.lastNside=n),t.hpxIdxCache.corners_nest(e,1))}};return t}(),Utils=Utils||{},Utils.cssScale=void 0,HTMLCanvasElement.prototype.relMouseCoords=relMouseCoords,Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=[].slice,n=e.call(arguments,1),r=this,i=function(){},o=function(){return r.apply(this instanceof i?this:t||{},n.concat(e.call(arguments)))};return o.prototype=this.prototype,o}),$=$||jQuery,$.urlParam=function(t,e){return void 0===e&&(e=location.search),decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||[,""])[1].replace(/\+/g,"%20"))||null},Utils.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},Utils.debounce=function(t,e){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(r,i)}),e)}},Utils.LRUCache=function(t){this._keys=[],this._items={},this._expires={},this._size=0,this._maxsize=t||1024},Utils.LRUCache.prototype={set:function(t,e){var n=this._keys,r=this._items,i=this._expires,o=this._size,a;o>=this._maxsize&&(n.sort((function(t,e){return i[t]>i[e]?-1:i[t]<i[e]?1:0})),o--,delete i[n[o]],delete r[n[o]]),n[o]=t,r[t]=e,i[t]=Date.now(),o++,this._keys=n,this._items=r,this._expires=i,this._size=o},get:function(t){var e=this._items[t];return e&&(this._expires[t]=Date.now()),e},keys:function(){return this._keys}},Color={},Color.curIdx=0,Color.colors=["#ff0000","#0000ff","#99cc00","#ffff00","#000066","#00ffff","#9900cc","#0099cc","#cc9900","#cc0099","#00cc99","#663333","#ffcc9a","#ff9acc","#ccff33","#660000","#ffcc33","#ff00ff","#00ff00","#ffffff"],Color.getNextColor=function(){var t=Color.colors[Color.curIdx%Color.colors.length];return Color.curIdx++,t},AladinUtils={xyToView:function(t,e,n,r,i,o,a){return null==a&&(a=!1),a?{vx:i/2*(1+o*t)-(i-n)/2,vy:i/2*(1+o*e)-(i-r)/2}:{vx:AladinUtils.myRound(i/2*(1+o*t)-(i-n)/2),vy:AladinUtils.myRound(i/2*(1+o*e)-(i-r)/2)}},viewToXy:function(t,e,n,r,i,o){return{x:((2*t+(i-n))/i-1)/o,y:((2*e+(i-r))/i-1)/o}},radecToViewXy:function(t,e,n,r,i,o,a,s){var u;if(r!=CooFrameEnum.J2000){var l=CooConversion.J2000ToGalactic([t,e]);u=n.project(l[0],l[1])}else u=n.project(t,e);return u?AladinUtils.xyToView(u.X,u.Y,i,o,a,s,!0):null},myRound:function(t){return t<0?-1*(0|-t):0|t},isHpxPixVisible:function(t,e,n){for(var r=0;r<t.length;r++)if(t[r].vx>=-20&&t[r].vx<e+20&&t[r].vy>=-20&&t[r].vy<n+20)return!0;return!1},ipixToIpix:function(t,e,n){var r=[]},getZoomFactorForAngle:function(t,e){var n=0,r=0,i={ra:t,dec:0},o=new Projection(t/2,0);o.setProjection(e);var a=o.project(n,r),s=o.project(i.ra,i.dec),u;return 1/(a.X-s.Y)}},ProjectionEnum={SIN:Projection.PROJ_SIN,AITOFF:Projection.PROJ_AITOFF},CooFrameEnum={J2000:"J2000",GAL:"Galactic"},CooFrameEnum.fromString=function(t,e){return t?0==(t=t.toLowerCase().replace(/^\s+|\s+$/g,"")).indexOf("j2000")||0==t.indexOf("icrs")?CooFrameEnum.J2000:0==t.indexOf("gal")?CooFrameEnum.GAL:e||null:e||null},CooFrameEnum.shortName=function(t){return t==CooFrameEnum.J2000?"J2000":t==CooFrameEnum.GAL?"GAL":null},Downloader=function(){var t=4,e=!1,n=700,r=function(t){this.view=t,this.nbDownloads=0,this.dlQueue=[],this.urlsInQueue={}};return r.prototype.requestDownload=function(t,e,n){e in this.urlsInQueue||(this.dlQueue.push({img:t,url:e,cors:n}),this.urlsInQueue[e]=1,this.tryDownload())},r.prototype.tryDownload=function(){for(;this.dlQueue.length>0&&this.nbDownloads<4;)this.startDownloadNext()},r.prototype.startDownloadNext=function(){var t=this.dlQueue.shift();if(t){this.nbDownloads++;var e=this;t.img.onload=function(){e.completeDownload(this,!0)},t.img.onerror=function(t){e.completeDownload(this,!1)},t.cors?t.img.crossOrigin="anonymous":void 0!==t.img.crossOrigin&&delete t.img.crossOrigin,t.img.src=t.url}},r.prototype.completeDownload=function(t,e){if(delete this.urlsInQueue[t.src],t.onerror=null,t.onload=null,this.nbDownloads--,e){if(0){var r=(new Date).getTime();t.fadingStart=r,t.fadingEnd=r+n}this.view.requestRedraw()}else t.dlError=!0;this.tryDownload()},r}(),CooGrid=function(){function t(t,e,n,r,i,o,a){var s=AladinUtils.viewToXy(e,n,r,i,o,a),u;try{u=t.unproject(s.x,s.y)}catch(t){return null}return{lon:u.ra,lat:u.dec}}var e=function(){},n=10,r=10;return e.prototype.redraw=function(e,n,r,i,o,a,s,u){if(!(u>60)){var l=0,c=359.9999,f=-90,h=90,d=t(n,0,0,i,o,a,s),p=t(n,i-1,o-1,i,o,a,s);c=Math.min(d.lon,p.lon),l=Math.max(d.lon,p.lon),h=Math.min(d.lat,p.lat),f=Math.max(d.lat,p.lat);var g=t(n,0,o-1,i,o,a,s);c=Math.min(c,g.lon),l=Math.max(l,g.lon),h=Math.min(h,g.lat),f=Math.max(f,g.lat);var v=t(n,i-1,0,i,o,a,s);c=Math.min(c,v.lon),l=Math.max(l,v.lon),h=Math.min(h,v.lat);var m=l-c,y=(f=Math.max(f,v.lat))-h,x,b;u>10?(x=4,b=4):u>1?(x=1,b=1):u>.1?(x=.1,b=.1):(x=.01,b=.01);var w=Math.round(c%x)*x,M=Math.round(h%b)*b;e.lineWidth=1,e.strokeStyle="rgb(120,120,255)";for(var C=M;C<f+b;C+=b){var _;if(e.beginPath(),_=AladinUtils.radecToViewXy(c,C,n,CooFrameEnum.J2000,i,o,a,s)){e.moveTo(_.vx,_.vy);for(var S=0,k=c;k<l+x;k+=m/10)S++,_=AladinUtils.radecToViewXy(k,C,n,CooFrameEnum.J2000,i,o,a,s),e.lineTo(_.vx,_.vy),3==S&&e.strokeText(C.toFixed(2),_.vx,_.vy-2);e.stroke()}}for(var k=w;k<l+x;k+=x){var _;if(e.beginPath(),_=AladinUtils.radecToViewXy(k,h,n,CooFrameEnum.J2000,i,o,a,s)){e.moveTo(_.vx,_.vy);for(var S=0,C=h;C<f+b;C+=y/10)S++,_=AladinUtils.radecToViewXy(k,C,n,CooFrameEnum.J2000,i,o,a,s),e.lineTo(_.vx,_.vy),3==S&&e.strokeText(k.toFixed(2),_.vx,_.vy-2);e.stroke()}}}},e}(),Footprint=(Footprint=function(t){this.polygons=t,this.overlay=null,this.isShowing=!0,this.isSelected=!1},Footprint.prototype.setOverlay=function(t){this.overlay=t},Footprint.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},Footprint.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},Footprint.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},Footprint.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},Footprint),Popup=(Popup=function(t){this.domEl=$('<div class="aladin-popup-container"><div class="aladin-popup"><div class="aladin-popupTitle"></div><div class="aladin-popupText"></div></div><div class="aladin-popup-arrow"></div></div>'),this.domEl.appendTo(t);var e=this;this.domEl.find(".aladin-closeBtn").click((function(){e.hide()}))},Popup.prototype.hide=function(){this.domEl.hide()},Popup.prototype.show=function(){this.domEl.show()},Popup.prototype.setTitle=function(t){this.domEl.find(".aladin-popupTitle").html(t)},Popup.prototype.setText=function(t){this.domEl.find(".aladin-popupText").html(t),this.w=this.domEl.outerWidth(),this.h=this.domEl.outerHeight()},Popup.prototype.setSource=function(t){this.source&&(this.source.popup=null),t.popup=this,this.source=t,this.setPosition(t.x,t.y)},Popup.prototype.setPosition=function(t,e){var n=t-this.w/2,r=e-this.h+this.source.catalog.sourceSize/2;this.domEl[0].style.left=n+"px",this.domEl[0].style.top=r+"px"},Popup),Circle=(Circle=function(t,e,n){n=n||{},this.color=n.color||void 0,this.fillOpacity=n.fillOpacity||void 0,this.setCenter(t),this.setRadius(e),this.overlay=null,this.isShowing=!0,this.isSelected=!1},Circle.prototype.setOverlay=function(t){this.overlay=t},Circle.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},Circle.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},Circle.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},Circle.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},Circle.prototype.setCenter=function(t){this.centerRaDec=t,this.overlay&&this.overlay.reportChange()},Circle.prototype.setRadius=function(t){this.radiusDegrees=t,this.overlay&&this.overlay.reportChange()},Circle.prototype.draw=function(t,e,n,r,i,o,a){if(this.isShowing){var s;if(n!=CooFrameEnum.J2000){var u=CooConversion.J2000ToGalactic([this.centerRaDec[0],this.centerRaDec[1]]);s=e.project(u[0],u[1])}else s=e.project(this.centerRaDec[0],this.centerRaDec[1]);if(s){var l=AladinUtils.xyToView(s.X,s.Y,r,i,o,a,!0),c,f=this.centerRaDec[0],h=this.centerRaDec[1]+(f>0?-this.radiusDegrees:this.radiusDegrees);if(n!=CooFrameEnum.J2000){var u=CooConversion.J2000ToGalactic([f,h]);c=e.project(u[0],u[1])}else c=e.project(f,h);if(c){var d=AladinUtils.xyToView(c.X,c.Y,r,i,o,a,!0),p=d.vx-l.vx,g=d.vy-l.vy,v=Math.sqrt(p*p+g*g);this.color&&(t.strokeStyle=this.color,this.fillOpacity&&(t.fillStyle=ColorOpacity(this.color,this.fillOpacity))),t.beginPath(),t.arc(l.vx,l.vy,v,0,2*Math.PI,!1),t.stroke(),this.fillOpacity&&t.fill()}}}},Circle),Polyline=(Polyline=function(t,e){e=e||{},this.color=e.color||void 0,this.radecArray=t,this.overlay=null,this.isShowing=!0,this.isSelected=!1},Polyline.prototype.setOverlay=function(t){this.overlay=t},Polyline.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},Polyline.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},Polyline.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},Polyline.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},Polyline.prototype.draw=function(t,e,n,r,i,o,a){if(this.isShowing&&this.radecArray&&!(this.radecArray.length<2)){this.color&&(t.strokeStyle=this.color);var s=AladinUtils.radecToViewXy(this.radecArray[0][0],this.radecArray[0][1],e,n,r,i,o,a);if(s){var u;t.moveTo(s.vx,s.vy);for(var l=1;l<this.radecArray.length&&(u=AladinUtils.radecToViewXy(this.radecArray[l][0],this.radecArray[l][1],e,n,r,i,o,a));l++)t.lineTo(u.vx,u.vy);t.stroke()}}},Polyline),Overlay=(Overlay=function(t){t=t||{},this.name=t.name||"overlay",this.color=t.color||Color.getNextColor(),this.lineWidth=t.lineWidth||2,this.overlays=[],this.overlay_items=[],this.isShowing=!0},Overlay.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},Overlay.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},Overlay.parseSTCS=function(t){for(var e=[],n=t.match(/\S+/g),r=0,i=n.length,o;r<i;){var a;if("polygon"==n[r].toLowerCase()&&(o=[],r++,frame=n[r].toLowerCase(),"icrs"==frame||"j2000"==frame)){for(;r+2<i;){var s=parseFloat(n[r+1]);if(isNaN(s))break;var u=parseFloat(n[r+2]);o.push([s,u]),r+=2}o.push(o[0]),e.push(o)}r++}return e},Overlay.prototype.addFootprints=function(t){this.overlays=this.overlays.concat(t);for(var e=0,n=t.length;e<n;e++)t[e].setOverlay(this);this.view.requestRedraw()},Overlay.prototype.add=function(t){this.overlay_items.push(t),t.setOverlay(this),this.view.requestRedraw()},Overlay.prototype.getFootprint=function(t){return t<this.footprints.length?this.footprints[t]:null},Overlay.prototype.setView=function(t){this.view=t},Overlay.prototype.removeAll=function(){this.overlays=[],this.overlay_items=[]},Overlay.prototype.draw=function(t,e,n,r,i,o,a){if(this.isShowing){t.strokeStyle=this.color,t.lineWidth=this.lineWidth,t.beginPath(),xyviews=[];for(var s=0,u=this.overlays.length;s<u;s++)xyviews.push(this.drawFootprint(this.overlays[s],t,e,n,r,i,o,a));t.stroke(),t.strokeStyle=Overlay.increase_brightness(this.color,80),t.beginPath();for(var s=0,u=this.overlays.length;s<u;s++)this.overlays[s].isSelected&&this.drawFootprintSelected(t,xyviews[s]);t.stroke();for(var s=0;s<this.overlay_items.length;s++)this.overlay_items[s].draw(t,e,n,r,i,o,a)}},Overlay.increase_brightness=function(t,e){3==(t=t.replace(/^\s*#|\s*$/g,"")).length&&(t=t.replace(/(.)/g,"$1$1"));var n=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16);return"#"+(0|256+n+(256-n)*e/100).toString(16).substr(1)+(0|256+r+(256-r)*e/100).toString(16).substr(1)+(0|256+i+(256-i)*e/100).toString(16).substr(1)},Overlay.prototype.drawFootprint=function(t,e,n,r,i,o,a,s){if(!t.isShowing)return null;for(var u=[],l=!1,c=t.polygons,f=0,h=c.length;f<h;f++){var d;if(r!=CooFrameEnum.J2000){var p=CooConversion.J2000ToGalactic([c[f][0],c[f][1]]);d=n.project(p[0],p[1])}else d=n.project(c[f][0],c[f][1]);if(!d)return null;var g=AladinUtils.xyToView(d.X,d.Y,i,o,a,s);u.push(g),!l&&g.vx<i&&g.vx>=0&&g.vy<=o&&g.vy>=0&&(l=!0)}if(l){e.moveTo(u[0].vx,u[0].vy);for(var f=1,h=u.length;f<h;f++)e.lineTo(u[f].vx,u[f].vy)}return u},Overlay.prototype.drawFootprintSelected=function(t,e){if(e){var n=e;t.moveTo(n[0].vx,n[0].vy);for(var r=1,i=n.length;r<i;r++)t.lineTo(n[r].vx,n[r].vy)}},Overlay.prototype.reportChange=function(){this.view.requestRedraw()},Overlay),cds.Source=(cds.Source=function(t,e,n,r){this.ra=t,this.dec=e,this.data=n,this.catalog=null,this.marker=r&&r.marker||!1,this.marker&&(this.popupTitle=r&&r.popupTitle?r.popupTitle:"",this.popupDesc=r&&r.popupDesc?r.popupDesc:""),this.isShowing=!0,this.isSelected=!1},cds.Source.prototype.setCatalog=function(t){this.catalog=t},cds.Source.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.catalog&&this.catalog.reportChange())},cds.Source),ProgressiveCat=function(){function t(t,e){var n=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],r=[],i=0;return t.keyRa=t.keyDec=null,$(e).find("FIELD").each((function(){for(var e={},o=0;o<n.length;o++){var a=n[o];$(this).attr(a)&&(e[a]=$(this).attr(a))}e.ID||(e.ID="col_"+i),t.keyRa||!e.ucd||0!=e.ucd.indexOf("pos.eq.ra")&&0!=e.ucd.indexOf("POS_EQ_RA")||(e.name?t.keyRa=e.name:t.keyRa=e.ID),t.keyDec||!e.ucd||0!=e.ucd.indexOf("pos.eq.dec")&&0!=e.ucd.indexOf("POS_EQ_DEC")||(e.name?t.keyDec=e.name:t.keyDec=e.ID),r.push(e),i++})),r}function e(t,e,n){if(!t.keyRa||!t.keyDec)return[];lines=e.split("\n");for(var r=[],i=0;i<n.length;i++)n[i].name?r.push(n[i].name):r.push(n[i].ID);for(var o=[],a=new Coo,s=2;s<lines.length;s++){var u={},l=lines[s].split("\t");if(!(l.length<r.length)){for(var c=0;c<r.length;c++)u[r[c]]=l[c];var f,h;Utils.isNumber(u[t.keyRa])&&Utils.isNumber(u[t.keyDec])?(f=parseFloat(u[t.keyRa]),h=parseFloat(u[t.keyDec])):(a.parse(u[t.keyRa]+" "+u[t.keyDec]),f=a.lon,h=a.lat),o.push(new cds.Source(f,h,u))}}return o}return ProgressiveCat=function(t,e,n,r){r=r||{},this.type="progressivecat",this.rootUrl=t,this.frame=CooFrameEnum.fromString(e)||CooFrameEnum.J2000,this.maxOrder=n,this.isShowing=!0,this.name=r.name||"progressive-cat",this.color=r.color||Color.getNextColor(),this.sourceSize=r.sourceSize||10,this.sourcesCache=new Utils.LRUCache(100),this.cacheCanvas=document.createElement("canvas"),this.cacheCanvas.width=this.sourceSize,this.cacheCanvas.height=this.sourceSize;var i=this.cacheCanvas.getContext("2d");i.beginPath(),i.strokeStyle=this.color,i.lineWidth=2,i.moveTo(0,0),i.lineTo(0,this.sourceSize),i.lineTo(this.sourceSize,this.sourceSize),i.lineTo(this.sourceSize,0),i.lineTo(0,0),i.stroke()},ProgressiveCat.prototype={init:function(t){this.view=t,this.level3Sources||this.loadLevel2Sources()},loadLevel2Sources:function(){var n=this;$.ajax({url:n.rootUrl+"/Norder2/Allsky.xml",method:"GET",success:function(r){n.fields=t(n,r),n.level2Sources=e(n,$(r).find("CSV").text(),n.fields),n.loadLevel3Sources()},error:function(t){console.log("Something went wrong: "+t)}})},loadLevel3Sources:function(){var t=this;$.ajax({url:t.rootUrl+"/Norder3/Allsky.xml",method:"GET",success:function(n){t.level3Sources=e(t,$(n).find("CSV").text(),t.fields),t.view.requestRedraw()},error:function(t){console.log("Something went wrong: "+t)}})},draw:function(t,e,n,r,i,o,a){if(this.isShowing&&this.level3Sources&&(this.drawSources(this.level2Sources,t,e,n,r,i,o,a),this.drawSources(this.level3Sources,t,e,n,r,i,o,a),this.tilesInView))for(var s,u,l,c=0;c<this.tilesInView.length;c++)u=(l=this.tilesInView[c])[0]+"-"+l[1],(s=this.sourcesCache.get(u))&&this.drawSources(s,t,e,n,r,i,o,a)},drawSources:function(t,e,n,r,i,o,a,s){for(var u=0,l=t.length;u<l;u++)this.drawSource(t[u],e,n,r,i,o,a,s)},getSources:function(){var t=[];if(this.level2Sources&&(t=t.concat(this.level2Sources)),this.level3Sources&&(t=t.concat(this.level3Sources)),this.tilesInView)for(var e,n,r,i=0;i<this.tilesInView.length;i++)n=(r=this.tilesInView[i])[0]+"-"+r[1],(e=this.sourcesCache.get(n))&&(t=t.concat(e));return t},drawSource:function(t,e,n,r,i,o,a,s){if(t.isShowing){var u=this.sourceSize,l;if(r!=CooFrameEnum.J2000){var c=CooConversion.J2000ToGalactic([t.ra,t.dec]);l=n.project(c[0],c[1])}else l=n.project(t.ra,t.dec);if(l){var f=AladinUtils.xyToView(l.X,l.Y,i,o,a,s);if(f){if(f.vx>i+u||f.vx<0-u||f.vy>o+u||f.vy<0-u)return void(t.x=t.y=void 0);t.x=f.vx,t.y=f.vy,e.drawImage(this.cacheCanvas,t.x-u/2,t.y-u/2)}}}},deselectAll:function(){for(var t=0;t<this.level2Sources.length;t++)this.level2Sources[t].deselect();for(var t=0;t<this.level3Sources.length;t++)this.level3Sources[t].deselect();var e=this.sourcesCache.keys();for(key in e)if(this.sourcesCache[key])for(var n=this.sourcesCache[key],t=0;t<n.length;t++)n[t].deselect()},show:function(){this.isShowing||(this.isShowing=!0,this.reportChange())},hide:function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},reportChange:function(){this.view.requestRedraw()},getTileURL:function(t,e){var n=1e4*Math.floor(e/1e4);return this.rootUrl+"/Norder"+t+"/Dir"+n+"/Npix"+e+".tsv"},loadNeededTiles:function(){this.tilesInView=[],this.otherSources=[];var t=this.view.realNorder;if(t>this.maxOrder&&(t=this.maxOrder),!(t<=3)){for(var n=this.view.getVisibleCells(t,this.frame),r,i,o=4,a,s;o<=t;o++){r=[];for(var u=0;u<n.length;u++)i=Math.floor(n[u].ipix/Math.pow(4,t-o)),r.indexOf(i)<0&&r.push(i);for(var l=0;l<r.length;l++)this.tilesInView.push([o,r[l]])}for(var c=this,u=0;u<this.tilesInView.length;u++)s=(a=this.tilesInView[u])[0]+"-"+a[1],this.sourcesCache.get(s)||function(t,n,r){var i=n+"-"+r;$.ajax({url:t.getTileURL(n,r),method:"GET",success:function(n){t.sourcesCache.set(i,e(t,n,t.fields)),t.view.requestRedraw()},error:function(){t.sourcesCache.set(i,[])}})}(this,a[0],a[1])}}},ProgressiveCat}(),cds.Catalog=(cds.Catalog=function(t){t=t||{},this.type="catalog",this.name=t.name||"catalog",this.color=t.color||Color.getNextColor(),this.sourceSize=t.sourceSize||6,this.markerSize=t.sourceSize||12,this.shape=t.shape||"square",this.displayLabel=t.displayLabel||!1,this.labelColor=t.labelColor||this.color,this.labelFont=t.labelFont||"10px sans-serif",this.displayLabel&&(this.labelColumn=t.labelColumn,this.labelColumn||(this.displayLabel=!1)),this.selectSize=this.sourceSize+2,this.isShowing=!0,this.indexationNorder=5,this.sources=[],this.hpxIdx=new HealpixIndex(this.indexationNorder),this.hpxIdx.init(),this.selectionColor="#00ff00",this.cacheCanvas=cds.Catalog.createShape(this.shape,this.color,this.sourceSize),this.cacheMarkerCanvas=document.createElement("canvas"),this.cacheMarkerCanvas.width=this.markerSize,this.cacheMarkerCanvas.height=this.markerSize;var e=this.cacheMarkerCanvas.getContext("2d");e.fillStyle=this.color,e.beginPath();var n=this.markerSize/2;e.arc(n,n,n-2,0,2*Math.PI,!1),e.fill(),e.lineWidth=2,e.strokeStyle="#ccc",e.stroke(),this.cacheSelectCanvas=document.createElement("canvas"),this.cacheSelectCanvas.width=this.selectSize,this.cacheSelectCanvas.height=this.selectSize;var r=this.cacheSelectCanvas.getContext("2d");r.beginPath(),r.strokeStyle=this.selectionColor,r.lineWidth=2,r.moveTo(0,0),r.lineTo(0,this.selectSize),r.lineTo(this.selectSize,this.selectSize),r.lineTo(this.selectSize,0),r.lineTo(0,0),r.stroke()},cds.Catalog.createShape=function(t,e,n){var r=document.createElement("canvas");r.width=r.height=n;var i=r.getContext("2d");return i.beginPath(),i.strokeStyle=e,i.lineWidth=2,"plus"==t?(i.moveTo(n/2,0),i.lineTo(n/2,n),i.stroke(),i.moveTo(0,n/2),i.lineTo(n,n/2),i.stroke()):"cross"==t?(i.moveTo(0,0),i.lineTo(n-1,n-1),i.stroke(),i.moveTo(n-1,0),i.lineTo(0,n-1),i.stroke()):"rhomb"==t?(i.moveTo(n/2,0),i.lineTo(0,n/2),i.lineTo(n/2,n),i.lineTo(n,n/2),i.lineTo(n/2,0),i.stroke()):"triangle"==t?(i.moveTo(n/2,0),i.lineTo(0,n-1),i.lineTo(n-1,n-1),i.lineTo(n/2,0),i.stroke()):(i.moveTo(0,0),i.lineTo(0,n),i.lineTo(n,n),i.lineTo(n,0),i.lineTo(0,0),i.stroke()),r},cds.Catalog.parseVOTable=function(t,e){function n(t,e){t=t.replace(/^\s+/g,"");var n=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],r=[],i=0,o,a;$(t).find("FIELD").each((function(){for(var t={},e=0;e<n.length;e++){var o=n[e];$(this).attr(o)&&(t[o]=$(this).attr(o))}t.ID||(t.ID="col_"+i),r.push(t),i++})),o=a=null;for(var s=0,u=r.length;s<u;s++){var l=r[s],c,c;!o&&l.ucd&&((c=l.ucd.toLowerCase()).indexOf("pos.eq.ra")>=0||c.indexOf("pos_eq_ra")>=0)?o=s:!a&&l.ucd&&((c=l.ucd.toLowerCase()).indexOf("pos.eq.dec")>=0||c.indexOf("pos_eq_dec")>=0)&&(a=s)}var f=[],h=new Coo,d,p;$(t).find("TR").each((function(){var t={},e=0;$(this).find("TD").each((function(){var n=r[e].name?r[e].name:r[e].id;t[n]=$(this).text(),e++}));var n=r[o].name?r[o].name:r[o].id,i=r[a].name?r[a].name:r[a].id;Utils.isNumber(t[n])&&Utils.isNumber(t[i])?(d=parseFloat(t[n]),p=parseFloat(t[i])):(h.parse(t[n]+" "+t[i]),d=h.lon,p=h.lat),f.push(new cds.Source(d,p,t))})),e&&e(f)}$.ajax({url:Aladin.JSONP_PROXY,data:{url:t},method:"GET",dataType:"jsonp",success:function(t){n(t,e)}})},cds.Catalog.prototype.addSources=function(t){this.sources=this.sources.concat(t);for(var e=0,n=t.length;e<n;e++)t[e].setCatalog(this);this.view.requestRedraw()},cds.Catalog.prototype.getSources=function(){return this.sources},cds.Catalog.prototype.selectAll=function(){if(this.sources)for(var t=0;t<this.sources.length;t++)this.sources[t].select()},cds.Catalog.prototype.deselectAll=function(){if(this.sources)for(var t=0;t<this.sources.length;t++)this.sources[t].deselect()},cds.Catalog.prototype.getSource=function(t){return t<this.sources.length?this.sources[t]:null},cds.Catalog.prototype.setView=function(t){this.view=t},cds.Catalog.prototype.removeAll=cds.Catalog.prototype.clear=function(){this.sources=[]},cds.Catalog.prototype.draw=function(t,e,n,r,i,o,a){if(this.isShowing){for(var s=0,u=this.sources.length;s<u;s++)this.drawSource(this.sources[s],t,e,n,r,i,o,a);t.strokeStyle=this.selectionColor;for(var s=0,u=this.sources.length;s<u;s++)this.sources[s].isSelected&&this.drawSourceSelection(this.sources[s],t);if(this.displayLabel){t.fillStyle=this.labelColor,t.font=this.labelFont;for(var s=0,u=this.sources.length;s<u;s++)this.drawSourceLabel(this.sources[s],t)}}},cds.Catalog.prototype.drawSource=function(t,e,n,r,i,o,a,s){if(t.isShowing){var u=this.sourceSize,l;if(r!=CooFrameEnum.J2000){var c=CooConversion.J2000ToGalactic([t.ra,t.dec]);l=n.project(c[0],c[1])}else l=n.project(t.ra,t.dec);if(l){var f=AladinUtils.xyToView(l.X,l.Y,i,o,a,s),h=t.popup?100:t.sourceSize;if(f){if(f.vx>i+h||f.vx<0-h||f.vy>o+h||f.vy<0-h)return void(t.x=t.y=void 0);t.x=f.vx,t.y=f.vy,t.marker?e.drawImage(this.cacheMarkerCanvas,t.x-u/2,t.y-u/2):e.drawImage(this.cacheCanvas,t.x-u/2,t.y-u/2),t.popup&&t.popup.setPosition(t.x,t.y)}}}},cds.Catalog.prototype.drawSourceSelection=function(t,e){if(t&&t.isShowing&&t.x&&t.y){var n=this.selectSize;e.drawImage(this.cacheSelectCanvas,t.x-n/2,t.y-n/2)}},cds.Catalog.prototype.drawSourceLabel=function(t,e){if(t&&t.isShowing&&t.x&&t.y){var n=t.data[this.labelColumn];n&&e.fillText(n,t.x,t.y)}},cds.Catalog.prototype.reportChange=function(){this.view.requestRedraw()},cds.Catalog.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},cds.Catalog.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.view&&this.view.popup&&this.view.popup.source&&this.view.popup.source.catalog==this&&this.view.popup.hide(),this.reportChange())},cds.Catalog),Tile=function(){function t(t,e){this.img=t,this.url=e}return t.isImageOk=function(t){return!!t.allSkyTexture||!!t.src&&(!!t.complete&&(void 0===t.naturalWidth||0!=t.naturalWidth))},t}(),TileBuffer=function(){function t(){this.pointer=0,this.tilesMap={},this.tilesArray=new Array(e);for(var t=0;t<e;t++)this.tilesArray[t]=new Tile(new Image,null)}var e=800;return t.prototype.addTile=function(t){if(this.getTile(t))return null;var n=this.tilesArray[this.pointer];return null!=n.url&&(n.img.src=null,delete this.tilesMap[n.url]),this.tilesArray[this.pointer].url=t,this.tilesMap[t]=this.tilesArray[this.pointer],this.pointer++,this.pointer>=e&&(this.pointer=0),this.tilesMap[t]},t.prototype.getTile=function(t){return this.tilesMap[t]},t}(),ColorMap=(ColorMap=function(t){this.view=t,this.reversed=!1,this.map="native",this.sig=this.signature()},ColorMap.MAPS={},ColorMap.MAPS.eosb={name:"Eos B",r:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,18,27,36,45,49,57,72,81,91,100,109,118,127,136,131,139,163,173,182,191,200,209,218,227,213,221,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,253,251,249,247,245,243,241,215,214,235,234,232,230,228,226,224,222,198,196,216,215,213,211,209,207,205,203,181,179,197,196,194,192,190,188,186,184,164,162,178,176,175,173,171,169,167,165,147,145,159,157,156,154,152,150,148,146,130,128,140,138,137,135,133,131,129,127,113,111,121,119,117,117],g:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,23,31,39,47,55,57,64,79,87,95,103,111,119,127,135,129,136,159,167,175,183,191,199,207,215,200,207,239,247,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,250,246,242,238,233,229,225,198,195,212,208,204,199,195,191,187,182,160,156,169,165,161,157,153,148,144,140,122,118,127,125,123,121,119,116,114,112,99,97,106,104,102,99,97,95,93,91,80,78,84,82,80,78,76,74,72,70,61,59,63,61,59,57,55,53,50,48,42,40,42,40,38,36,33,31,29,27,22,21,21,19,16,14,12,13,8,6,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b:[116,121,127,131,136,140,144,148,153,157,145,149,170,174,178,182,187,191,195,199,183,187,212,216,221,225,229,233,238,242,221,225,255,247,239,231,223,215,207,199,172,164,175,167,159,151,143,135,127,119,100,93,95,87,79,71,63,55,47,39,28,21,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},ColorMap.MAPS.rainbow={name:"Rainbow",r:[0,4,9,13,18,22,27,31,36,40,45,50,54,58,61,64,68,69,72,74,77,79,80,82,83,85,84,86,87,88,86,87,87,87,85,84,84,84,83,79,78,77,76,71,70,68,66,60,58,55,53,46,43,40,36,33,25,21,16,12,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,21,25,29,33,42,46,51,55,63,67,72,76,80,89,93,97,101,110,114,119,123,131,135,140,144,153,157,161,165,169,178,182,187,191,199,203,208,212,221,225,229,233,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],g:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,16,21,25,29,38,42,46,51,55,63,67,72,76,84,89,93,97,106,110,114,119,127,131,135,140,144,152,157,161,165,174,178,182,187,195,199,203,208,216,220,225,229,233,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,242,238,233,229,221,216,212,208,199,195,191,187,178,174,170,165,161,153,148,144,140,131,127,123,119,110,106,102,97,89,85,80,76,72,63,59,55,51,42,38,34,29,21,17,12,8,0],b:[0,3,7,10,14,19,23,28,32,38,43,48,53,59,63,68,72,77,81,86,91,95,100,104,109,113,118,122,127,132,136,141,145,150,154,159,163,168,173,177,182,186,191,195,200,204,209,214,218,223,227,232,236,241,245,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,246,242,238,233,225,220,216,212,203,199,195,191,187,178,174,170,165,157,152,148,144,135,131,127,123,114,110,106,102,97,89,84,80,76,67,63,59,55,46,42,38,34,25,21,16,12,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},ColorMap.MAPS_CUSTOM=["rainbow","eosb"],ColorMap.MAPS_NAMES=["native","grayscale"].concat(ColorMap.MAPS_CUSTOM),ColorMap.prototype.reverse=function(t){this.reversed=t||!this.reversed,this.sig=this.signature(),this.view.requestRedraw()},ColorMap.prototype.signature=function(){var t=this.map;return this.reversed&&(t+=" reversed"),t},ColorMap.prototype.update=function(t){this.map=t,this.sig=this.signature(),this.view.requestRedraw()},ColorMap.prototype.apply=function(t){if("native"==this.sig)return t;if(t.cmSig==this.sig)return t.cmImg;var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0);var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=i.length,a,s,u,l=3
;"grayscale"==this.map?l=1:ColorMap.MAPS_CUSTOM.indexOf(this.map)>=0&&(l=2);for(var c=0;c<o;c+=4){switch(l){case 1:a=s=u=AladinUtils.myRound((i[c]+i[c+1]+i[c+2])/3);break;case 2:this.reversed?(a=ColorMap.MAPS[this.map].r[255-i[c]],s=ColorMap.MAPS[this.map].g[255-i[c+1]],u=ColorMap.MAPS[this.map].b[255-i[c+2]]):(a=ColorMap.MAPS[this.map].r[i[c]],s=ColorMap.MAPS[this.map].g[i[c+1]],u=ColorMap.MAPS[this.map].b[i[c+2]]);break;default:a=i[c],s=i[c+1],u=i[c+2]}2!=l&&this.reversed&&(a=255-a,s=255-s,u=255-u),i[c]=a,i[c+1]=s,i[c+2]=u}return r.data=i,n.putImageData(r,0,0),t.cmSig=this.sig,t.cmImg=e,t.cmImg},ColorMap),HpxImageSurvey=function(){function t(t,e,n,r){return Math.pow(n-t,2)+Math.pow(r-e,2)}function e(t,e,n,r,i,o,a,s,u,l,c,f,h,d,p,g,v,m){m||(m=!1),u+=g=g||0,c+=g,h+=g,l+=v=v||0,f+=v,d+=v;var y=(n+i+a)/3,x=(r+o+s)/3,y=(n+i+a)/3,x=(r+o+s)/3;t.save(),p&&(t.globalAlpha=p);var b=.01;m&&(b=.01),t.beginPath(),t.moveTo((1+b)*n-y*b,(1+b)*r-x*b),t.lineTo((1+b)*i-y*b,(1+b)*o-x*b),t.lineTo((1+b)*a-y*b,(1+b)*s-x*b),t.closePath(),t.clip(),m&&(n=(1+(b=.03))*n-y*b,r=(1+b)*r-x*b,i=(1+b)*i-y*b,o=(1+b)*o-x*b,a=(1+b)*a-y*b,s=(1+b)*s-x*b);var w=1/(u*(d-f)-c*d+h*f+(c-h)*l);t.transform(-(l*(a-i)-f*a+d*i+(f-d)*n)*w,(f*s+l*(o-s)-d*o+(d-f)*r)*w,(u*(a-i)-c*a+h*i+(c-h)*n)*w,-(c*s+u*(o-s)-h*o+(h-c)*r)*w,(u*(d*i-f*a)+l*(c*a-h*i)+(h*f-c*d)*n)*w,(u*(d*o-f*s)+l*(c*s-h*o)+(h*f-c*d)*r)*w),t.drawImage(e,0,0),t.restore()}function n(t,e){for(var n=new Array(t.length),r=0;r<4;r++)n[r]={vx:t[r].vx,vy:t[r].vy};for(var r=0;r<2;r++){var i=1==r?1:0,o=1==r?2:3,a=Math.atan2(n[o].vy-n[i].vy,n[o].vx-n[i].vx),s=e*Math.cos(a);n[i].vx-=s,n[o].vx+=s,s=e*Math.sin(a),n[i].vy-=s,n[o].vy+=s}return n}var r=function(t,e,n,i,o,a){this.id=t,this.name=e,"/"===n.slice(-1)?this.rootUrl=n.substr(0,n.length-1):this.rootUrl=n,a=a||{},this.imgFormat=a.imgFormat||"jpg",this.minOrder=a.minOrder||null,this.cooFrame=CooFrameEnum.fromString(i,CooFrameEnum.J2000),this.rootUrl.indexOf("/glimpse360/aladin/data")>=0&&(this.cooFrame=CooFrameEnum.J2000),this.maxOrder=o,this.allskyTexture=null,this.alpha=0,this.allskyTextureSize=0,this.lastUpdateDateNeededTiles=0;for(var s=!1,u=0;u<r.SURVEYS.length;u++)r.SURVEYS[u].id==this.id&&(s=!0);s||r.SURVEYS.push({id:this.id,url:this.rootUrl,name:this.name,maxOrder:this.maxOrder,frame:this.cooFrame}),r.SURVEYS_OBJECTS[this.id]=this};r.UPDATE_NEEDED_TILES_DELAY=1e3,r.prototype.init=function(t,e){this.view=t,this.cm||(this.cm=new ColorMap(this.view)),this.tileBuffer=this.view.tileBuffer,this.useCors=!1;var n=this;$.support.cors?$.ajax({type:"GET",url:this.rootUrl+"/properties",contentType:"text/plain",xhrFields:{},headers:{},success:function(){n.useCors=!0,n.retrieveAllskyTextures(),e&&e()},error:function(){n.retrieveAllskyTextures(),e&&e()}}):(this.retrieveAllskyTextures(),e())},r.DEFAULT_SURVEY_ID="P/DSS2/color",r.SURVEYS_OBJECTS={},r.SURVEYS=[{id:"P/2MASS/color",url:"http://alasky.u-strasbg.fr/2MASS/Color",name:"2MASS colored",maxOrder:9,frame:"equatorial",format:"jpeg"},{id:"P/DSS2/color",url:"http://alasky.u-strasbg.fr/DSS/DSSColor",name:"DSS colored",maxOrder:9,frame:"equatorial",format:"jpeg"},{id:"P/DSS2/red",url:"http://alasky.u-strasbg.fr/DSS/DSS2Merged",name:"DSS2 Red (F+R)",maxOrder:9,frame:"equatorial",format:"jpeg fits"},{id:"P/Fermi/color",url:"http://alasky.u-strasbg.fr/Fermi/Color",name:"Fermi color",maxOrder:3,frame:"equatorial",format:"jpeg"},{id:"P/Finkbeiner",url:"http://alasky.u-strasbg.fr/FinkbeinerHalpha",maxOrder:3,frame:"galactic",format:"jpeg fits",name:"Halpha"},{id:"P/GALEXGR6/AIS/color",url:"http://alasky.u-strasbg.fr/GALEX/GR6-02-Color",name:"GALEX Allsky Imaging Survey colored",maxOrder:8,frame:"equatorial",format:"jpeg"},{id:"P/IRIS/color",url:"http://alasky.u-strasbg.fr/IRISColor",name:"IRIS colored",maxOrder:3,frame:"galactic",format:"jpeg"},{id:"P/Mellinger/color",url:"http://alasky.u-strasbg.fr/MellingerRGB",name:"Mellinger colored",maxOrder:4,frame:"galactic",format:"jpeg"},{id:"P/SDSS9/color",url:"http://alasky.u-strasbg.fr/SDSS/DR9/color",name:"SDSS9 colored",maxOrder:10,frame:"equatorial",format:"jpeg"},{id:"P/SPITZER/color",url:"http://alasky.u-strasbg.fr/SpitzerI1I2I4color",name:"IRAC color I1,I2,I4 - (GLIMPSE, SAGE, SAGE-SMC, SINGS)",maxOrder:9,frame:"galactic",format:"jpeg"},{id:"P/VTSS/Ha",url:"http://alasky.u-strasbg.fr/VTSS/Ha",maxOrder:3,frame:"galactic",format:"png jpeg fits",name:"VTSS-Ha"},{id:"P/XMM/EPIC",url:"http://saada.u-strasbg.fr/xmmallsky",name:"XMM-Newton stacked EPIC images (no phot. normalization)",maxOrder:7,frame:"equatorial",format:"png jpeg fits"},{id:"P/XMM/PN/color",url:"http://saada.unistra.fr/xmmpnsky",name:"XMM PN colored",maxOrder:7,frame:"equatorial",format:"png jpeg"},{id:"P/allWISE/color",url:"http://alasky.u-strasbg.fr/AllWISE/RGB-W4-W2-W1/",name:"AllWISE color",maxOrder:8,frame:"equatorial",format:"jpeg"},{id:"P/GLIMPSE360",url:"http://www.spitzer.caltech.edu/glimpse360/aladin/data",name:"GLIMPSE360",maxOrder:9,frame:"equatorial",format:"jpeg"}],r.getAvailableSurveys=function(){return r.SURVEYS},r.getSurveyInfoFromId=function(t){for(var e=r.getAvailableSurveys(),n=0;n<e.length;n++)if(e[n].id==t)return e[n];return null},r.getSurveyFromId=function(t){if(r.SURVEYS_OBJECTS[t])return r.SURVEYS_OBJECTS[t];var e=r.getSurveyInfoFromId(t);return e?new r(e.id,e.name,e.url,e.frame,e.maxOrder):null},r.prototype.getTileURL=function(t,e){var n=1e4*Math.floor(e/1e4);return this.rootUrl+"/Norder"+t+"/Dir"+n+"/Npix"+e+"."+this.imgFormat},r.prototype.retrieveAllskyTextures=function(){var t=new Image;this.useCors&&(t.crossOrigin="anonymous");var e=this;t.onload=function(){e.allskyTextureSize=t.width/27,e.allskyTexture=t,e.view.requestRedraw()},t.src=this.rootUrl+"/Norder3/Allsky."+this.imgFormat},r.prototype.redrawAllsky=function(t,e,n,r){if(!(this.view.curNorder>6)&&this.allskyTexture)for(var i,o=0,a,s,u=0,l=e.length;u<l;u++)if(s=(i=e[u]).ipix,this.allskyTexture&&Tile.isImageOk(this.allskyTexture)){var c=this.allskyTextureSize*Math.floor(s/27),f=this.allskyTextureSize*(s-27*Math.floor(s/27));if(n>40){o=.02,o=0,a={x:(i[0].vx+i[2].vx)/2,y:(i[0].vy+i[2].vy)/2};for(var h=0;h<4;h++){var d={x:i[h].vx-a.x,y:i[h].vy-a.y};i[h].vx+=o*d.x,i[h].vy+=o*d.y}}this.drawOneTile(t,this.allskyTexture,i,this.allskyTextureSize,null,f,c,!0)}},r.prototype.getColorMap=function(){return this.cm};var i=!0;return r.prototype.redrawHighres=function(t,e,n){if(0!=e.length){i=!i;var o=(new Date).getTime(),a=o-this.lastUpdateDateNeededTiles>r.UPDATE_NEEDED_TILES_DELAY,s,u,l,c,f=n-1,h,d,p=[],g=[],v={},m=!1,y=[],x=[],b,w;if(a){var M=[(e[0][0].vx+e[0][1].vx)/2,(e[0][0].vy+e[0][1].vy)/2],C=e.sort((function(t,e){var n=[(t[0].vx+t[2].vx)/2,(t[0].vy+t[2].vy)/2],r=[(e[0].vx+e[2].vx)/2,(e[0].vy+e[2].vy)/2],i,o;return(n[0]-M[0])*(n[0]-M[0])+(n[1]-M[1])*(n[1]-M[1])-((r[0]-M[0])*(r[0]-M[0])+(r[1]-M[1])*(r[1]-M[1]))}));e=C}for(var _=0,S=e.length;_<S;_++){var s;if(b=~~((w=(h=e[_]).ipix)/4),c=this.getTileURL(f,b),a&&f>=3&&(l=this.tileBuffer.addTile(c))&&x.push({img:l.img,url:c}),u=this.getTileURL(n,w),s=this.tileBuffer.getTile(u))Tile.isImageOk(s.img)?p.push({img:s.img,corners:h}):(m=!0,a&&!s.img.dlError&&y.push({img:s.img,url:u}),f>=3&&!v[b]&&((l=this.tileBuffer.getTile(c))&&Tile.isImageOk(l.img)&&(d=this.view.getPositionsInView(b,f))&&g.push({img:l.img,corners:d,ipix:b}),v[b]=1));else m=!0,a&&(s=this.tileBuffer.addTile(u))&&y.push({img:s.img,url:u}),f>=3&&!v[b]&&((l=this.tileBuffer.getTile(c))&&Tile.isImageOk(l.img)&&(d=this.view.getPositionsInView(b,f))&&g.push({img:l.img,corners:d,ipix:b}),v[b]=1)}for(var _=0,S=g.length;_<S;_++)this.drawOneTile(t,g[_].img,g[_].corners,g[_].img.width);for(var _=0,S=p.length;_<S;_++){var k=null,T=p[_].img;T.fadingStart&&T.fadingEnd&&o<T.fadingEnd&&(k=.2+(o-T.fadingStart)/(T.fadingEnd-T.fadingStart)*.8),this.drawOneTile(t,T,p[_].corners,T.width,k)}if(a){for(var _=0,S=y.length;_<S;_++)this.view.downloader.requestDownload(y[_].img,y[_].url,this.useCors);for(var _=0,S=x.length;_<S;_++)this.view.downloader.requestDownload(x[_].img,x[_].url,this.useCors);this.lastUpdateDateNeededTiles=o}m&&this.view.requestRedrawAtDate(o+r.UPDATE_NEEDED_TILES_DELAY+10)}},r.prototype.drawOneTile=function(t,n,r,i,o,a,s,u){var l=this.useCors?this.cm.apply(n):n;e(t,l,r[0].vx,r[0].vy,r[1].vx,r[1].vy,r[3].vx,r[3].vy,i-1,i-1,i-1,0,0,i-1,o,a,s,u),e(t,l,r[1].vx,r[1].vy,r[3].vx,r[3].vy,r[2].vx,r[2].vy,i-1,0,0,i-1,0,0,o,a,s,u)},r.prototype.setAlpha=function(t){t=+t,this.alpha=Math.max(0,Math.min(t,1)),this.view.requestRedraw()},r.prototype.getAlpha=function(){return this.alpha},r}(),HealpixGrid=function(){var t=function(){};return t.prototype.redraw=function(t,e,n,r){var i;t.lineWidth=1,t.strokeStyle="rgb(150,150,220)",t.beginPath();for(var o=0,a=e.length;o<a;o++)i=e[o],ipix=i.ipix,t.moveTo(i[0].vx,i[0].vy),t.lineTo(i[1].vx,i[1].vy),t.lineTo(i[2].vx,i[2].vy);t.stroke(),t.strokeStyle="#FFDDDD",t.beginPath();for(var o=0,a=e.length;o<a;o++)i=e[o],ipix=i.ipix,t.strokeText(r+"/"+ipix,(i[0].vx+i[2].vx)/2,(i[0].vy+i[2].vy)/2);t.stroke()},t}(),Location=(Location=function(t){this.div=$(t)},Location.prototype.update=function(t,e,n){var r=new Coo(t,e,7);n==CooFrameEnum.J2000?this.div.html(r.format("s/")):this.div.html(r.format("d/"))},Location),View=function(){function t(e,n,r,i,o){var a,s;this.aladin=e,this.options=e.options,this.aladinDiv=this.aladin.aladinDiv,this.popup=new Popup(this.aladinDiv),this.createCanvases(),this.location=n,this.fovDiv=r,this.mustClearCatalog=!0,this.mustRedrawReticle=!0,this.mode=t.PAN,this.minFOV=this.maxFOV=null,this.healpixGrid=new HealpixGrid(this.imageCanvas),this.cooFrame=i||CooFrameEnum.GAL,a=s=0,this.projectionMethod=ProjectionEnum.SIN,this.projection=new Projection(a,0),this.projection.setProjection(this.projectionMethod),this.zoomLevel=0,this.zoomFactor=this.computeZoomFactor(this.zoomLevel),this.viewCenter={lon:a,lat:0},o&&this.setZoom(o),this.imageSurvey=null,this.catalogs=[],this.overlays=[],this.tileBuffer=new TileBuffer,this.fixLayoutDimensions(),this.curNorder=1,this.realNorder=1,this.curOverlayNorder=1,this.dragging=!1,this.dragx=null,this.dragy=null,this.needRedraw=!0,this.downloader=new Downloader(this),this.flagForceRedraw=!1,this.fadingLatestUpdate=null,this.dateRequestRedraw=null,this.showGrid=!1,init(this),this.resizeTimer=null;var u=this;$(window).resize((function(){clearTimeout(u.resizeTimer),u.resizeTimer=setTimeout((function(){u.fixLayoutDimensions(u)}),100)}))}function e(t,e,n,r){if(t.projection){var i=AladinUtils.viewToXy(e,n,t.width,t.height,t.largestDim,t.zoomFactor),o;try{o=t.projection.unproject(i.x,i.y)}catch(t){}o&&t.location.update(o.ra,o.dec,t.cooFrame,r)}}t.PAN=0,t.SELECT=1,t.DRAW_SOURCES_WHILE_DRAGGING=!0,t.prototype.createCanvases=function(){var t=$(this.aladinDiv);t.find(".aladin-imageCanvas").remove(),t.find(".aladin-catalogCanvas").remove(),t.find(".aladin-reticleCanvas").remove(),this.imageCanvas=$("<canvas class='aladin-imageCanvas'></canvas>").appendTo(this.aladinDiv)[0],this.catalogCanvas=$("<canvas class='aladin-catalogCanvas'></canvas>").appendTo(this.aladinDiv)[0],this.reticleCanvas=$("<canvas class='aladin-reticleCanvas'></canvas>").appendTo(this.aladinDiv)[0]},t.prototype.fixLayoutDimensions=function(){Utils.cssScale=void 0,this.width=$(this.aladinDiv).width(),this.height=$(this.aladinDiv).height(),this.width=Math.max(this.width,1),this.height=Math.max(this.height,1),this.cx=this.width/2,this.cy=this.height/2,this.largestDim=Math.max(this.width,this.height),this.smallestDim=Math.min(this.width,this.height),this.ratio=this.largestDim/this.smallestDim,this.mouseMoveIncrement=160/this.largestDim,this.imageCtx=this.imageCanvas.getContext("2d"),this.catalogCtx=this.catalogCanvas.getContext("2d"),this.reticleCtx=this.reticleCanvas.getContext("2d"),this.imageCtx.canvas.width=this.width,this.catalogCtx.canvas.width=this.width,this.reticleCtx.canvas.width=this.width,this.imageCtx.canvas.height=this.height,this.catalogCtx.canvas.height=this.height,this.reticleCtx.canvas.height=this.height,this.computeNorder(),this.requestRedraw()},t.prototype.setMode=function(e){this.mode=e,this.mode==t.SELECT?this.setCursor("crosshair"):this.setCursor("default")},t.prototype.setCursor=function(t){this.reticleCanvas.style.cursor!=t&&(this.reticleCanvas.style.cursor=t)},t.prototype.getCanvasDataURL=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var e=t.getContext("2d");return e.drawImage(this.imageCanvas,0,0),e.drawImage(this.catalogCanvas,0,0),e.drawImage(this.reticleCanvas,0,0),t.toDataURL("image/png")},computeFov=function(t){var e=doComputeFov(t,t.zoomFactor);return t.mouseMoveIncrement=e/t.imageCanvas.width,e},doComputeFov=function(t,e){if(t.zoomFactor<1)fov=180;else{var n=AladinUtils.viewToXy(0,t.cy,t.width,t.height,t.largestDim,e),r=t.projection.unproject(n.x,n.y),i=AladinUtils.viewToXy(t.imageCanvas.width-1,t.cy,t.width,t.height,t.largestDim,e),o=t.projection.unproject(i.x,i.y);fov=new Coo(r.ra,r.dec).distance(new Coo(o.ra,o.dec))}return fov},updateFovDiv=function(t){var e;isNaN(t.fov)?t.fovDiv.html("FoV:"):(e=t.fov>1?Math.round(100*t.fov)/100+"°":60*t.fov>1?Math.round(60*t.fov*100)/100+"'":Math.round(3600*t.fov*100)/100+'"',t.fovDiv.html("FoV: "+e))},createListeners=function(n){var r=!1,i,o;"ontouchstart"in window&&(r=!0),onDblClick=function(t){var e=n.imageCanvas.relMouseCoords(t),r=AladinUtils.viewToXy(e.x,e.y,n.width,n.height,n.largestDim,n.zoomFactor);try{var i=n.projection.unproject(r.x,r.y)}catch(t){return}radec=[],n.cooFrame==CooFrameEnum.GAL?radec=CooConversion.GalacticToJ2000([i.ra,i.dec]):radec=[i.ra,i.dec],n.pointTo(radec[0],radec[1])},r||$(n.reticleCanvas).dblclick(onDblClick),$(n.reticleCanvas).bind("mousedown touchstart",(function(e){var r=n.imageCanvas.relMouseCoords(e);return e.originalEvent&&e.originalEvent.targetTouches?(n.dragx=e.originalEvent.targetTouches[0].clientX,n.dragy=e.originalEvent.targetTouches[0].clientY):(n.dragx=r.x,n.dragy=r.y),n.dragging=!0,n.mode==t.PAN?n.setCursor("move"):n.mode==t.SELECT&&(n.selectStartCoo={x:n.dragx,y:n.dragy}),!1})),$(n.reticleCanvas).bind("mouseup mouseout touchend",(function(e){if(n.mode==t.SELECT&&n.dragging&&n.aladin.fire("selectend",n.getObjectsInBBox(n.selectStartCoo.x,n.selectStartCoo.y,n.dragx-n.selectStartCoo.x,n.dragy-n.selectStartCoo.y)),n.dragging&&(n.setCursor("default"),n.dragging=!1),n.mustClearCatalog=!0,n.mustRedrawReticle=!0,n.dragx=n.dragy=null,"mouseout"!==e.type){var r=n.imageCanvas.relMouseCoords(e),o=n.closestObjects(r.x,r.y,5);if(o){for(var a=o[0],s=1;!a.marker&&o.length>=s;){var a=o[s];s++}if(a.marker)n.popup.setTitle(a.popupTitle),n.popup.setText(a.popupDesc),n.popup.setSource(a),n.popup.show();else{if(n.aladin.objClickedFunction)var u=n.aladin.objClickedFunction(a);i=a}}else if(n.aladin.objClickedFunction&&i){i=null;var u=n.aladin.objClickedFunction(null)}n.refreshProgressiveCats(),n.requestRedraw()}else n.requestRedraw()})),$(n.reticleCanvas).bind("mousemove touchmove",(function(i){i.preventDefault();var a=n.imageCanvas.relMouseCoords(i),s,u,l,c;if(!n.dragging||r){if(e(n,a.x,a.y,!0),!n.dragging&&!n.mode==t.SELECT){var f=n.closestObjects(a.x,a.y,5);if(f){if(n.setCursor("pointer"),n.aladin.objHoveredFunction&&f[0]!=o)var h=n.aladin.objHoveredFunction(f[0]);o=f[0];for(var d=f[0],p=1;!d.marker&&f.length>=p;){var d=f[p];o=f[p],p++}d.marker?(n.popup.setTitle(d.popupTitle),n.popup.setText(d.popupDesc),n.popup.setSource(d),n.popup.show()):o&&o.marker&&(n.popup.setSource(o),n.popup.hide())}else if(n.setCursor("default"),o&&o.marker&&(n.popup.setSource(o),n.popup.hide()),n.aladin.objHoveredFunction&&o){o=null;var h=n.aladin.objHoveredFunction(null)}}if(!r)return}if(i.originalEvent&&i.originalEvent.targetTouches){s=i.originalEvent.targetTouches[0].clientX-n.dragx,u=i.originalEvent.targetTouches[0].clientY-n.dragy;var g=AladinUtils.viewToXy(i.originalEvent.targetTouches[0].clientX,i.originalEvent.targetTouches[0].clientY,n.width,n.height,n.largestDim,n.zoomFactor),v=AladinUtils.viewToXy(n.dragx,n.dragy,n.width,n.height,n.largestDim,n.zoomFactor);l=n.projection.unproject(g.x,g.y),c=n.projection.unproject(v.x,v.y)}else{s=a.x-n.dragx,u=a.y-n.dragy;var g=AladinUtils.viewToXy(a.x,a.y,n.width,n.height,n.largestDim,n.zoomFactor),v=AladinUtils.viewToXy(n.dragx,n.dragy,n.width,n.height,n.largestDim,n.zoomFactor);l=n.projection.unproject(g.x,g.y),c=n.projection.unproject(v.x,v.y)}i.originalEvent&&i.originalEvent.targetTouches?(n.dragx=i.originalEvent.targetTouches[0].clientX,n.dragy=i.originalEvent.targetTouches[0].clientY):(n.dragx=a.x,n.dragy=a.y),n.mode!=t.SELECT?(n.viewCenter.lon+=c.ra-l.ra,n.viewCenter.lat+=c.dec-l.dec,n.viewCenter.lat>90?n.viewCenter.lat=90:n.viewCenter.lat<-90&&(n.viewCenter.lat=-90),n.viewCenter.lon<0?n.viewCenter.lon=360+n.viewCenter.lon:n.viewCenter.lon>360&&(n.viewCenter.lon=n.viewCenter.lon%360),n.requestRedraw()):n.requestRedraw()})),$(n.aladinDiv).onselectstart=function(){return!1},$(n.reticleCanvas).bind("mousewheel",(function(t,e){t.preventDefault(),t.stopPropagation();var r=n.zoomLevel;return e>0?r+=1:r-=1,n.setZoomLevel(r),!1}))},init=function(t){var e=new Stats;e.domElement.style.top="50px",$("#aladin-statsDiv").length>0&&$("#aladin-statsDiv")[0].appendChild(e.domElement),t.stats=e,createListeners(t),t.displayHpxGrid=!1,t.displaySurvey=!0,t.displayCatalog=!1,t.displayReticle=!0,t.fov=computeFov(t),updateFovDiv(t),t.redraw()},t.prototype.requestRedrawAtDate=function(t){this.dateRequestDraw=t},t.prototype.redraw=function(){var e=this.needRedraw;requestAnimFrame(this.redraw.bind(this));var n=(new Date).getTime();if(this.dateRequestDraw&&n>this.dateRequestDraw)this.dateRequestDraw=null;else if(!this.needRedraw){if(!this.flagForceRedraw)return;this.flagForceRedraw=!1}this.stats.update();var r=this.imageCtx;r.clearRect(0,0,this.imageCanvas.width,this.imageCanvas.height),this.projectionMethod==ProjectionEnum.SIN&&(this.fov>80?(r.fillStyle="rgb(0,0,0)",r.beginPath(),r.arc(this.cx,this.cy,this.cx*this.zoomFactor,0,2*Math.PI,!0),r.fill()):this.fov<60&&(r.fillStyle="rgb(0,0,0)",r.fillRect(0,0,this.imageCanvas.width,this.imageCanvas.height))),this.projection?this.projection.setCenter(this.viewCenter.lon,this.viewCenter.lat):this.projection=new Projection(this.viewCenter.lon,this.viewCenter.lat),this.projection.setProjection(this.projectionMethod);var i=this.getVisibleCells(3),o=null;if(this.curNorder>=3&&(o=3==this.curNorder?i:this.getVisibleCells(this.curNorder)),this.imageSurvey&&this.imageSurvey.isReady&&this.displaySurvey&&(this.imageSurvey.redrawAllsky(r,i,this.fov,this.curNorder),this.curNorder>=3&&this.imageSurvey.redrawHighres(r,o,this.curNorder)),this.overlayImageSurvey&&this.overlayImageSurvey.isReady){if(r.globalAlpha=this.overlayImageSurvey.getAlpha(),this.fov>50&&this.overlayImageSurvey.redrawAllsky(r,i,this.fov,this.curOverlayNorder),this.curOverlayNorder>=3){var a=Math.min(this.curOverlayNorder,this.overlayImageSurvey.maxOrder);a!=this.curNorder&&(o=this.getVisibleCells(a)),this.overlayImageSurvey.redrawHighres(r,o,a)}r.globalAlpha=1}this.displayHpxGrid&&(o&&this.curNorder>3?this.healpixGrid.redraw(r,o,this.fov,this.curNorder):this.healpixGrid.redraw(r,i,this.fov,3)),this.showGrid&&(null==this.cooGrid&&(this.cooGrid=new CooGrid),this.cooGrid.redraw(r,this.projection,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,this.fov));var s=this.catalogCtx,u=!1;this.mustClearCatalog&&(s.clearRect(0,0,this.width,this.height),u=!0,this.mustClearCatalog=!1);var l=this.catalogCtx;if(this.overlays&&this.overlays.length>0&&(!this.dragging||t.DRAW_SOURCES_WHILE_DRAGGING)){u||(s.clearRect(0,0,this.width,this.height),u=!0);for(var c=0;c<this.overlays.length;c++)this.overlays[c].draw(l,this.projection,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,this.cooFrame)}if(this.catalogs&&this.catalogs.length>0&&this.displayCatalog&&(!this.dragging||t.DRAW_SOURCES_WHILE_DRAGGING)){u||(s.clearRect(0,0,this.width,this.height),u=!0);for(var c=0;c<this.catalogs.length;c++)this.catalogs[c].draw(s,this.projection,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,this.cooFrame)}this.mode==t.SELECT&&(mustRedrawReticle=!0);var f=this.reticleCtx;if((this.mustRedrawReticle||this.mode==t.SELECT)&&f.clearRect(0,0,this.width,this.height),this.displayReticle){if(!this.reticleCache){var h=document.createElement("canvas"),d=this.options.reticleSize;h.width=d,h.height=d;var p=h.getContext("2d");p.lineWidth=2,p.strokeStyle=this.options.reticleColor,p.beginPath(),p.moveTo(d/2,d/2+(d/2-1)),p.lineTo(d/2,d/2+2),p.moveTo(d/2,d/2-(d/2-1)),p.lineTo(d/2,d/2-2),p.moveTo(d/2+(d/2-1),d/2),p.lineTo(d/2+2,d/2),p.moveTo(d/2-(d/2-1),d/2),p.lineTo(d/2-2,d/2),p.stroke(),this.reticleCache=h}f.drawImage(this.reticleCache,this.width/2-this.reticleCache.width/2,this.height/2-this.reticleCache.height/2),this.mustRedrawReticle=!1}if(this.mode==t.SELECT&&this.dragging){f.fillStyle="rgba(100, 240, 110, 0.25)";var g=this.dragx-this.selectStartCoo.x,v=this.dragy-this.selectStartCoo.y;f.fillRect(this.selectStartCoo.x,this.selectStartCoo.y,g,v)}e==this.needRedraw&&(this.needRedraw=!1),this.dragging||this.updateObjectsLookup()},t.prototype.forceRedraw=function(){this.flagForceRedraw=!0},t.prototype.refreshProgressiveCats=function(){if(this.catalogs)for(var t=0;t<this.catalogs.length;t++)"progressivecat"==this.catalogs[t].type&&this.catalogs[t].loadNeededTiles()},t.prototype.getVisibleCells=function(t,e){!e&&this.imageSurvey&&(e=this.imageSurvey.cooFrame);var n=[],r=[],i=new SpatialVector,o=Math.pow(2,t),a=HealpixIndex.nside2Npix(o),s=null,u,l,c,f;if(this.fov>80){u=[];for(var l=0;l<a;l++)u.push(l)}else{var h=new HealpixIndex(o);h.init();var d=new SpatialVector,p=AladinUtils.viewToXy(this.cx,this.cy,this.width,this.height,this.largestDim,this.zoomFactor),g=this.projection.unproject(p.x,p.y),v=[];e&&e!=this.cooFrame?e==CooFrameEnum.J2000?v=CooConversion.GalacticToJ2000([g.ra,g.dec]):e==CooFrameEnum.GAL&&(v=CooConversion.J2000ToGalactic([g.ra,g.dec])):v=[g.ra,g.dec],d.set(v[0],v[1]);var m=.5*this.fov*this.ratio;this.fov>60?m*=1.6:this.fov>12?m*=1.45:m*=1.1,u=h.queryDisc(d,m*Math.PI/180,!0,!0);var y=Utils.radecToPolar(v[0],v[1]);s=h.ang2pix_nest(y.theta,y.phi),u.unshift(s)}for(var x=0,b=u.length;x<b;x++)if(!((l=u[x])==s&&x>0)){var w=[];corners=HealpixCache.corners_nest(l,o);for(var M=0;M<4;M++){var g;if(i.setXYZ(corners[M].x,corners[M].y,corners[M].z),e&&e!=this.cooFrame){if(e==CooFrameEnum.J2000)c=(g=CooConversion.J2000ToGalactic([i.ra(),i.dec()]))[0],f=g[1];else if(e==CooFrameEnum.GAL){var g;c=(g=CooConversion.GalacticToJ2000([i.ra(),i.dec()]))[0],f=g[1]}}else c=i.ra(),f=i.dec();r[M]=this.projection.project(c,f)}if(null!=r[0]&&null!=r[1]&&null!=r[2]&&null!=r[3]){for(var M=0;M<4;M++)w[M]=AladinUtils.xyToView(r[M].X,r[M].Y,this.width,this.height,this.largestDim,this.zoomFactor);var C=10;if(!(w[0].vx<0&&w[1].vx<0&&w[2].vx<0&&w[3].vx<0||w[0].vy<0&&w[1].vy<0&&w[2].vy<0&&w[3].vy<0||w[0].vx>=this.width&&w[1].vx>=this.width&&w[2].vx>=this.width&&w[3].vx>=this.width||w[0].vy>=this.height&&w[1].vy>=this.height&&w[2].vy>=this.height&&w[3].vy>=this.height)){if(this.projection.PROJECTION==ProjectionEnum.AITOFF){var _=w[0].vx-w[2].vx,S=w[0].vy-w[2].vy,k=Math.sqrt(_*_+S*S);if(k>this.largestDim/5)continue;if(_=w[1].vx-w[3].vx,S=w[1].vy-w[3].vy,(k=Math.sqrt(_*_+S*S))>this.largestDim/5)continue}w.ipix=l,n.push(w)}}}return n},t.prototype.getPositionsInView=function(t,e){for(var n=[],r,i,o=new SpatialVector,a=Math.pow(2,e),s=[],u=HealpixCache.corners_nest(t,a),l=0;l<4;l++){var c;if(o.setXYZ(u[l].x,u[l].y,u[l].z),this.imageSurvey&&this.imageSurvey.cooFrame!=this.cooFrame){if(this.imageSurvey.cooFrame==CooFrameEnum.J2000)r=(c=CooConversion.J2000ToGalactic([o.ra(),o.dec()]))[0],i=c[1];else if(this.imageSurvey.cooFrame==CooFrameEnum.GAL){var c;r=(c=CooConversion.GalacticToJ2000([o.ra(),o.dec()]))[0],i=c[1]}}else r=o.ra(),i=o.dec();n[l]=this.projection.project(r,i)}if(null==n[0]||null==n[1]||null==n[2]||null==n[3])return null;for(var l=0;l<4;l++)s[l]=AladinUtils.xyToView(n[l].X,n[l].Y,this.width,this.height,this.largestDim,this.zoomFactor);return s},t.prototype.computeZoomFactor=function(t){return t>0?AladinUtils.getZoomFactorForAngle(180/Math.pow(1.15,t),this.projectionMethod):1+.1*t},t.prototype.setZoom=function(t){if(!(t<0||t>180)){var e=Math.log(180/t)/Math.log(1.15);this.setZoomLevel(e)}},t.prototype.setShowGrid=function(t){this.showGrid=t,this.requestRedraw()},t.prototype.setZoomLevel=function(t){if(this.minFOV||this.maxFOV){var e=doComputeFov(this,this.computeZoomFactor(Math.max(-2,t)));if(this.maxFOV&&e>this.maxFOV||this.minFOV&&e<this.minFOV)return}if(this.projectionMethod==ProjectionEnum.SIN?this.zoomLevel=Math.max(-2,t):this.zoomLevel=Math.max(-7,t),this.zoomFactor=this.computeZoomFactor(this.zoomLevel),this.fov=computeFov(this),updateFovDiv(this),this.computeNorder(),this.forceRedraw(),this.requestRedraw(),!this.debounceProgCatOnZoom){var n=this;this.debounceProgCatOnZoom=Utils.debounce((function(){n.refreshProgressiveCats()}),300)}this.debounceProgCatOnZoom()},t.prototype.computeNorder=function(){var t=this.fov/this.largestDim,e=512,n=HealpixIndex.calculateNSide(1843200*t),r=Math.log(n)/Math.log(2);r=Math.max(r,1),this.realNorder=r,this.fov<=50&&r<=2&&(r=3),this.imageSurvey&&r<=2&&this.imageSurvey.minOrder>2&&(r=this.imageSurvey.minOrder);var i=r;this.imageSurvey&&r>this.imageSurvey.maxOrder&&(r=this.imageSurvey.maxOrder),this.overlayImageSurvey&&i>this.overlayImageSurvey.maxOrder&&(i=this.overlayImageSurvey.maxOrder),r>HealpixIndex.ORDER_MAX&&(r=HealpixIndex.ORDER_MAX),i>HealpixIndex.ORDER_MAX&&(i=HealpixIndex.ORDER_MAX),this.curNorder=r,this.curOverlayNorder=i},t.prototype.untaintCanvases=function(){this.createCanvases(),createListeners(this),this.fixLayoutDimensions()},t.prototype.setOverlayImageSurvey=function(t,e){if(!t)return this.overlayImageSurvey=null,void this.requestRedraw();var n;$.support.cors&&this.overlayImageSurvey&&!this.overlayImageSurvey.useCors&&this.untaintCanvases(),"string"==typeof t?(n=HpxImageSurvey.getSurveyFromId(t))||(n=HpxImageSurvey.getSurveyFromId(HpxImageSurvey.DEFAULT_SURVEY_ID)):n=t,n.isReady=!1,this.overlayImageSurvey=n;var r=this;n.init(this,(function(){r.computeNorder(),n.isReady=!0,r.requestRedraw(),r.updateObjectsLookup(),e&&e()}))},t.prototype.setUnknownSurveyIfNeeded=function(){n&&(this.setImageSurvey(n),n=void 0)};var n=void 0;return t.prototype.setImageSurvey=function(t,e){if(t){var r;$.support.cors&&this.imageSurvey&&!this.imageSurvey.useCors&&this.untaintCanvases(),"string"==typeof t?(r=HpxImageSurvey.getSurveyFromId(t))||(r=HpxImageSurvey.getSurveyFromId(HpxImageSurvey.DEFAULT_SURVEY_ID),n=t,console.log(n)):r=t,this.tileBuffer=new TileBuffer,r.isReady=!1,this.imageSurvey=r;var i=this;r.init(this,(function(){i.computeNorder(),r.isReady=!0,i.requestRedraw(),i.updateObjectsLookup(),e&&e()}))}},t.prototype.requestRedraw=function(){this.needRedraw=!0},t.prototype.changeProjection=function(t){this.projectionMethod=t,this.requestRedraw()},t.prototype.changeFrame=function(t){if(this.cooFrame=t,this.cooFrame==CooFrameEnum.GAL){var e=CooConversion.J2000ToGalactic([this.viewCenter.lon,this.viewCenter.lat]);this.viewCenter.lon=e[0],this.viewCenter.lat=e[1]}else if(this.cooFrame==CooFrameEnum.J2000){var n=CooConversion.GalacticToJ2000([this.viewCenter.lon,this.viewCenter.lat]);this.viewCenter.lon=n[0],this.viewCenter.lat=n[1]}this.requestRedraw()},t.prototype.showHealpixGrid=function(t){this.displayHpxGrid=t,this.requestRedraw()},t.prototype.showSurvey=function(t){this.displaySurvey=t,this.requestRedraw()},t.prototype.showCatalog=function(t){this.displayCatalog=t,this.displayCatalog||(this.mustClearCatalog=!0),this.requestRedraw()},t.prototype.showReticle=function(t){this.displayReticle=t,this.mustRedrawReticle=!0,this.requestRedraw()},t.prototype.pointTo=function(t,e){if(t=parseFloat(t),e=parseFloat(e),!isNaN(t)&&!isNaN(e)){if(this.cooFrame==CooFrameEnum.J2000)this.viewCenter.lon=t,this.viewCenter.lat=e;else if(this.cooFrame==CooFrameEnum.GAL){var n=CooConversion.J2000ToGalactic([t,e]);this.viewCenter.lon=n[0],this.viewCenter.lat=n[1]}this.forceRedraw(),this.requestRedraw();var r=this;setTimeout((function(){r.refreshProgressiveCats()}),1e3)}},t.prototype.makeUniqLayerName=function(t){if(!this.layerNameExists(t))return t;for(var e=1;;++e){var n=t+"_"+e;if(!this.layerNameExists(n))return n}},t.prototype.layerNameExists=function(t){for(var e=this.catalogs,n=0;n<e.length;n++)if(t==e[n].name)return!0;return!1},t.prototype.removeLayers=function(){this.catalogs=[],this.overlays=[],this.requestRedraw()},t.prototype.addCatalog=function(t){t.name=this.makeUniqLayerName(t.name),this.catalogs.push(t),"catalog"==t.type?t.setView(this):"progressivecat"==t.type&&t.init(this)},t.prototype.addOverlay=function(t){this.overlays.push(t),t.setView(this)},t.prototype.getObjectsInBBox=function(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r);var i=[],o,a,s;if(this.catalogs)for(var u=0;u<this.catalogs.length;u++)if((o=this.catalogs[u]).isShowing){a=o.getSources();for(var l=0;l<a.length;l++)(s=a[l]).isShowing&&s.x&&s.y&&s.x>=t&&s.x<=t+n&&s.y>=e&&s.y<=e+r&&i.push(s)}return i},t.prototype.updateObjectsLookup=function(){var t,e,n,r,i;if(this.objLookup=[],this.catalogs)for(var o=0;o<this.catalogs.length;o++)if((t=this.catalogs[o]).isShowing){e=t.getSources();for(var a=0;a<e.length;a++)(n=e[a]).isShowing&&n.x&&n.y&&(r=n.x,i=n.y,this.objLookup[r]||(this.objLookup[r]=[]),this.objLookup[r][i]||(this.objLookup[r][i]=[]),this.objLookup[r][i].push(n))}},t.prototype.closestObjects=function(t,e,n){if(!this.objLookup)return null;for(var r,i,o=0;o<=n;o++){r=i=null;for(var a=-n;a<=n;a++)if(this.objLookup[t+a])for(var s=-n;s<=n;s++)if(this.objLookup[t+a][e+s])if(r){var u=a*a+s*s;u<i&&(i=u,r=this.objLookup[t+a][e+s])}else r=this.objLookup[t+a][e+s];if(r)return r}return null},t}(),Aladin=function(){var t=function(e,n){if(0!=$(e).length){HealpixCache.init();var r=this;if(void 0===n&&(n=this.getOptionsFromQueryString()),"zoom"in(n=n||{})){var i=n.zoom;delete n.zoom,n.fov=i}var o={};for(var a in t.DEFAULT_OPTIONS)void 0!==n[a]?o[a]=n[a]:o[a]=t.DEFAULT_OPTIONS[a];for(var a in n)void 0===t.DEFAULT_OPTIONS[a]&&(o[a]=n[a]);this.options=o,this.aladinDiv=e,$(e).addClass("aladin-container");var s=CooFrameEnum.fromString(o.cooFrame,CooFrameEnum.J2000),u=s==CooFrameEnum.J2000,l=$('<div class="aladin-location">'+(o.showFrame?'<select class="aladin-frameChoice"><option value="'+CooFrameEnum.J2000+'" '+(u?'selected="selected"':"")+'>J2000</option><option value="'+CooFrameEnum.GAL+'" '+(u?"":'selected="selected"')+">GAL</option></select>":"")+'<span class="aladin-location-text"></span></div>').appendTo(e),c=$('<div class="aladin-fov"></div>').appendTo(e);o.showZoomControl&&$('<div class="aladin-zoomControl"><a href="#" class="zoomPlus" title="Zoom in">+</a><a href="#" class="zoomMinus" title="Zoom out">&ndash;</a></div>').appendTo(e),o.showFullscreenControl&&$('<div class="aladin-fullscreenControl aladin-maximize" title="Full screen"><i class="icon-resize-enlarge"></i></div>').appendTo(e),this.fullScreenBtn=$(e).find(".aladin-fullscreenControl"),this.fullScreenBtn.click((function(){r.toggleFullscreen()})),$("<div class='aladin-logo-container'><a href='http://aladin.u-strasbg.fr/' title='Powered by Aladin Lite' target='_blank'><div class='aladin-logo'></div></a></div>").appendTo(e),this.boxes=[];var f=new Location(l.find(".aladin-location-text"));if(this.view=new View(this,f,c,s,o.fov),this.view.setShowGrid(o.showCooGrid),$.ajax({url:"http://aladin.u-strasbg.fr/java/nph-aladin.pl",data:{frame:"aladinLiteDic"},method:"GET",dataType:"jsonp",success:function(t){for(var e={},n=0;n<t.length;n++)e[t[n].id]=!0;for(var n=0;n<HpxImageSurvey.SURVEYS.length;n++)e[HpxImageSurvey.SURVEYS[n].id]||t.push(HpxImageSurvey.SURVEYS[n]);HpxImageSurvey.SURVEYS=t,r.view.setUnknownSurveyIfNeeded()},error:function(){}}),o.showLayersControl){var h;(h=$('<div class="aladin-layersControl-container" title="Manage layers"><div class="aladin-layersControl"></div></div>')).appendTo(e)
;var d=$('<div class="aladin-box aladin-layerBox aladin-cb-list"></div>');d.appendTo(e),this.boxes.push(d),h.click((function(){return r.hideBoxes(),r.showLayerBox(),!1}))}if(o.showGotoControl){var h;(h=$('<div class="aladin-gotoControl-container" title="Go to position"><div class="aladin-gotoControl"></div></div>')).appendTo(e);var p=$('<div class="aladin-box aladin-gotoBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><form class="aladin-target-form">Go to: <input type="text" placeholder="Object name/position" /></form></div>');p.appendTo(e),this.boxes.push(p);var g=p.find(".aladin-target-form input");g.on("paste keydown",(function(){$(this).removeClass("aladin-unknownObject")})),h.click((function(){return r.hideBoxes(),g.val(""),g.removeClass("aladin-unknownObject"),p.show(),g.focus(),!1})),p.find(".aladin-closeBtn").click((function(){return r.hideBoxes(),!1}))}if(o.showShareControl){var h;(h=$('<div class="aladin-shareControl-container" title="Share current view"><div class="aladin-shareControl"></div></div>')).appendTo(e);var v=$('<div class="aladin-box aladin-shareBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><b>Share</b><input type="text" class="aladin-shareInput" /></div>');v.appendTo(e),this.boxes.push(v),h.click((function(){return r.hideBoxes(),v.show(),!1})),v.find(".aladin-closeBtn").click((function(){return r.hideBoxes(),!1}))}if(this.gotoObject(o.target),o.log){var m=n;m.version=t.VERSION,Logger.log("startup",m)}if(this.showReticle(o.showReticle),o.catalogUrls)for(var y=0,x=o.catalogUrls.length;y<x;y++)this.createCatalogFromVOTable(o.catalogUrls[y]);this.setImageSurvey(o.survey),this.view.showCatalog(o.showCatalog);var b=this;$(e).find(".aladin-frameChoice").change((function(){b.setFrame($(this).val())})),$("#projectionChoice").change((function(){b.setProjection($(this).val())})),$(e).find(".aladin-target-form").submit((function(){return b.gotoObject($(this).find("input").val(),(function(){$(e).find(".aladin-target-form input").addClass("aladin-unknownObject")})),!1}));var w=$(e).find(".zoomPlus");w.click((function(){return b.increaseZoom(),!1})),w.bind("mousedown",(function(t){t.preventDefault()}));var M=$(e).find(".zoomMinus");M.click((function(){return b.decreaseZoom(),!1})),M.bind("mousedown",(function(t){t.preventDefault()})),o.fullScreen&&window.setTimeout((function(){r.toggleFullscreen()}),1e3)}else console.log("Could not find div "+e+". Aborting creation of Aladin Lite instance")};t.VERSION="{ALADIN-LITE-VERSION-NUMBER}",t.JSONP_PROXY="http://alasky.u-strasbg.fr/cgi/JSONProxy",t.DEFAULT_OPTIONS={target:"0 +0",cooFrame:"J2000",survey:"P/DSS2/color",fov:60,showReticle:!0,showZoomControl:!0,showFullscreenControl:!0,showLayersControl:!0,showGotoControl:!0,showShareControl:!1,showCatalog:!0,showFrame:!0,showCooGrid:!1,fullScreen:!1,reticleColor:"rgb(178, 50, 178)",reticleSize:22,log:!0},t.prototype.toggleFullscreen=function(){this.fullScreenBtn.toggleClass("aladin-maximize aladin-restore");var t=this.fullScreenBtn.hasClass("aladin-restore");this.fullScreenBtn.attr("title",t?"Restore original size":"Full screen"),$(this.aladinDiv).toggleClass("aladin-fullscreen"),t?this.fullScreenBtn.html('<i class="icon-resize-shrink"></i>'):this.fullScreenBtn.html('<i class="icon-resize-enlarge"></i>'),this.view.fixLayoutDimensions()},t.prototype.updateSurveysDropdownList=function(t){t=t.sort((function(t,e){return t.order?t.order&&t.order>e.order?1:-1:t.id>e.id}));var e=$(this.aladinDiv).find(".aladin-surveySelection");e.empty();for(var n=0;n<t.length;n++){var r=this.view.imageSurvey.id==t[n].id;e.append($("<option />").attr("selected",r).val(t[n].id).text(t[n].name))}},t.prototype.getOptionsFromQueryString=function(){var t={},e=$.urlParam("target");e&&(t.target=e);var n=$.urlParam("frame");n&&CooFrameEnum[n]&&(t.frame=n);var r=$.urlParam("survey");r&&HpxImageSurvey.getSurveyInfoFromId(r)&&(t.survey=r);var i=$.urlParam("zoom");i&&i>0&&i<180&&(t.zoom=i);var o=$.urlParam("showReticle");o&&(t.showReticle="true"==o.toLowerCase());var a=$.urlParam("cooFrame");a&&(t.cooFrame=a);var s=$.urlParam("fullScreen");return void 0!==s&&(t.fullScreen=s),t},t.prototype.setZoom=function(t){this.view.setZoom(t)},t.prototype.setFoV=function(t){this.view.setZoom(t)},t.prototype.setFrame=function(t){if(t){var e=CooFrameEnum.fromString(t,CooFrameEnum.J2000);e!=this.view.cooFrame&&(this.view.changeFrame(e),$(this.aladinDiv).find(".aladin-frameChoice").val(e))}},t.prototype.setProjection=function(t){if(t)switch(t=t.toLowerCase()){case"aitoff":this.view.changeProjection(ProjectionEnum.AITOFF);break;case"sinus":default:this.view.changeProjection(ProjectionEnum.SIN)}},t.prototype.gotoObject=function(t,e){var n;if(/[a-zA-Z]/.test(t)){var r=this;Sesame.resolve(t,(function(t){var e=t.Target.Resolver.jradeg,n=t.Target.Resolver.jdedeg;r.view.pointTo(e,n)}),(function(n){console&&(console.log("Could not resolve object name "+t),console.log(n)),e&&e()}))}else{var i=new Coo;i.parse(t);var o=[i.lon,i.lat];this.view.cooFrame==CooFrameEnum.GAL&&(o=CooConversion.GalacticToJ2000(o)),this.view.pointTo(o[0],o[1])}},t.prototype.gotoPosition=function(t,e){var n;n=this.view.cooFrame==CooFrameEnum.GAL?CooConversion.GalacticToJ2000([t,e]):[t,e],this.view.pointTo(n[0],n[1])};var e=function(t){var n=t.animationParams;if(null!=n){var r=(new Date).getTime();if(r>n.end)return t.gotoRaDec(n.raEnd,n.decEnd),void(n.complete&&n.complete());var i=n.raStart+(n.raEnd-n.raStart)*(r-n.start)/(n.end-n.start),o=n.decStart+(n.decEnd-n.decStart)*(r-n.start)/(n.end-n.start);t.gotoRaDec(i,o),setTimeout((function(){e(t)}),50)}};return t.prototype.animateToRaDec=function(t,n,r,i){r=r||5,this.animationParams=null,e(this);var o={};o.start=(new Date).getTime(),o.end=(new Date).getTime()+1e3*r;var a=this.getRaDec();o.raStart=a[0],o.decStart=a[1],o.raEnd=t,o.decEnd=n,o.complete=i,this.animationParams=o,e(this)},t.prototype.getRaDec=function(){return this.view.cooFrame==CooFrameEnum.J2000?[this.view.viewCenter.lon,this.view.viewCenter.lat]:CooConversion.GalacticToJ2000([this.view.viewCenter.lon,this.view.viewCenter.lat]);var t},t.prototype.gotoRaDec=function(t,e){this.view.pointTo(t,e)},t.prototype.showHealpixGrid=function(t){this.view.showHealpixGrid(t)},t.prototype.showSurvey=function(t){this.view.showSurvey(t)},t.prototype.showCatalog=function(t){this.view.showCatalog(t)},t.prototype.showReticle=function(t){this.view.showReticle(t),$("#displayReticle").attr("checked",t)},t.prototype.removeLayers=function(){this.view.removeLayers()},t.prototype.addCatalog=function(t){this.view.addCatalog(t)},t.prototype.addOverlay=function(t){this.view.addOverlay(t)},t.prototype.createImageSurvey=function(t,e,n,r,i,o){return new HpxImageSurvey(t,e,n,r,i,o)},t.prototype.getBaseImageLayer=function(){return this.view.imageSurvey},t.prototype.setImageSurvey=function(t,e){if(this.view.setImageSurvey(t,e),this.updateSurveysDropdownList(HpxImageSurvey.getAvailableSurveys()),this.options.log){var n=t;"string"!=typeof t&&(n=t.rootUrl),Logger.log("changeImageSurvey",n)}},t.prototype.setBaseImageLayer=t.prototype.setImageSurvey,t.prototype.getOverlayImageLayer=function(){return this.view.overlayImageSurvey},t.prototype.setOverlayImageLayer=function(t,e){this.view.setOverlayImageSurvey(t,e)},t.prototype.increaseZoom=function(t){t||(t=5),this.view.setZoomLevel(this.view.zoomLevel+t)},t.prototype.decreaseZoom=function(t){t||(t=5),this.view.setZoomLevel(this.view.zoomLevel-t)},t.prototype.createCatalog=function(t){return A.catalog(t)},t.prototype.createProgressiveCatalog=function(t,e,n,r){return new ProgressiveCat(t,e,n,r)},t.prototype.createSource=function(t,e,n){return new cds.Source(t,e,n)},t.prototype.createMarker=function(t,e,n,r){return(n=n||{}).marker=!0,new cds.Source(t,e,r,n)},t.prototype.createOverlay=function(t){return new Overlay(t)},t.prototype.createFootprintsFromSTCS=function(t){for(var e=Overlay.parseSTCS(t),n=[],r=0,i=e.length;r<i;r++)n.push(new Footprint(e[r]));return n},t.prototype.createCatalogFromVOTable=function(t,e){return A.catalogFromURL(t,e)},A.catalogFromURL=function(t,e,n){var r=A.catalog(e);return cds.Catalog.parseVOTable(t,(function(t){r.addSources(t),n&&n(t)})),r},t.prototype.on=function(t,e){"select"===t?this.selectFunction=e:"objectClicked"==t?this.objClickedFunction=e:"objectHovered"==t&&(this.objHoveredFunction=e)},t.prototype.select=function(){this.fire("selectstart")},t.prototype.fire=function(t,e){"selectstart"===t?this.view.setMode(View.SELECT):"selectend"===t&&(this.view.setMode(View.PAN),this.selectFunction&&this.selectFunction(e))},t.prototype.hideBoxes=function(){if(this.boxes)for(var t=0;t<this.boxes.length;t++)this.boxes[t].hide()},t.prototype.updateCM=function(){},t.prototype.showLayerBox=function(){var t=this,e=$(this.aladinDiv).find(".aladin-layerBox");e.empty(),e.append('<a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><div class="aladin-label">Base image layer</div><select class="aladin-surveySelection"></select><div class="aladin-cmap">Color map:<div><select class="aladin-cmSelection"></select><button class="aladin-btn aladin-btn-small aladin-reverseCm" type="button">Reverse</button></div></div><div class="aladin-box-separator"></div><div class="aladin-label">Overlay layers</div>');for(var n=e.find(".aladin-cmap"),r=e.find(".aladin-cmSelection"),i=0;i<ColorMap.MAPS_NAMES.length;i++)r.append($("<option />").text(ColorMap.MAPS_NAMES[i]));r.val(t.getBaseImageLayer().getColorMap().map);for(var o=this.view.catalogs,a="<ul>",i=o.length-1;i>=0;i--){var s=o[i].name,u="";o[i].isShowing&&(u='checked="checked"');var l=o[i].getSources().length,c=l+" source"+(l>1?"s":"");a+='<li><div class="aladin-layerIcon" style="background: '+o[i].color+';"></div><input type="checkbox" '+u+' id="aladin_lite_'+s+'"></input><label for="aladin_lite_'+s+'" class="aladin-layer-label" style="background: '+o[i].color+';" title="'+c+'">'+s+"</label></li>"}a+="</ul>",e.append(a),e.append('<div class="aladin-blank-separator"></div>');var u="";this.view.displayReticle&&(u='checked="checked"');var f=$('<input type="checkbox" '+u+' id="displayReticle" />');e.append(f).append('<label for="displayReticle">Reticle</label><br/>'),f.change((function(){t.showReticle($(this).is(":checked"))})),u="",this.view.displayHpxGrid&&(u='checked="checked"');var h=$('<input type="checkbox" '+u+' id="displayHpxGrid"/>');e.append(h).append('<label for="displayHpxGrid">HEALPix grid</label><br/>'),h.change((function(){t.showHealpixGrid($(this).is(":checked"))})),e.append('<div class="aladin-box-separator"></div><div class="aladin-label">Tools</div>');var d=$('<button class="aladin-btn" type="button">Export view as PNG</button>'),p;e.append(d),d.click((function(){t.exportAsPNG()})),e.find(".aladin-closeBtn").click((function(){return t.hideBoxes(),!1})),this.updateSurveysDropdownList(HpxImageSurvey.getAvailableSurveys()),$(this.aladinDiv).find(".aladin-surveySelection").change((function(){var e=HpxImageSurvey.getAvailableSurveys()[$(this)[0].selectedIndex];t.setImageSurvey(e.id,(function(){var e=t.getBaseImageLayer();e.useCors?(r.val(e.getColorMap().map),n.show(),d.show()):(n.hide(),d.hide())}))})),n.find(".aladin-cmSelection").change((function(){var e=$(this).find(":selected").val();t.getBaseImageLayer().getColorMap().update(e)})),n.find(".aladin-reverseCm").click((function(){t.getBaseImageLayer().getColorMap().reverse()})),this.getBaseImageLayer().useCors?(n.show(),d.show()):(n.hide(),d.hide()),e.find(".aladin-reverseCm").parent().attr("disabled",!0),$(this.aladinDiv).find(".aladin-layerBox ul input").change((function(){var e=$(this).attr("id").substr(12),n=t.layerByName(e);$(this).is(":checked")?n.show():n.hide()})),e.show()},t.prototype.layerByName=function(t){for(var e=this.view.catalogs,n=0;n<this.view.catalogs.length;n++)if(t==e[n].name)return e[n];return null},t.prototype.exportAsPNG=function(){var t=this.view.getCanvasDataURL();window.open(t,"Aladin Lite snapshot")},t.prototype.setFOVRange=function(t,e){if(t>e){var n=t;t=e,e=n}this.view.minFOV=t,this.view.maxFOV=e},t.prototype.pix2world=function(t,e){var n=AladinUtils.viewToXy(t,e,this.view.width,this.view.height,this.view.largestDim,this.view.zoomFactor),r=this.view.projection.unproject(n.x,n.y),i;return i=this.view.cooFrame==CooFrameEnum.GAL?CooConversion.GalacticToJ2000([r.ra,r.dec]):[r.ra,r.dec]},t.prototype.world2pix=function(t,e){var n;if(this.view.cooFrame==CooFrameEnum.GAL){var r=CooConversion.J2000ToGalactic([t,e]);n=this.view.projection.project(r[0],r[1])}else n=this.view.projection.project(t,e);if(n){var i=AladinUtils.xyToView(n.X,n.Y,this.view.width,this.view.height,this.view.largestDim,this.view.zoomFactor);return[i.vx,i.vy]}return null},t.prototype.getFovCorners=function(t){(!t||t<1)&&(t=1);for(var e=[],n,r,i,o,a=0;a<4;a++){n=0==a||3==a?0:this.view.width-1,r=a<2?0:this.view.height-1,i=a<2?this.view.width-1:0,o=1==a||2==a?this.view.height-1:0;for(var s=0;s<t;s++)e.push(this.pix2world(n+s/t*(i-n),r+s/t*(o-r)))}return e},t.prototype.getFov=function(){var t=this.view.fov,e=this.getSize(),n=e[1]/e[0]*t;return[t=Math.min(t,180),n=Math.min(n,180)]},t.prototype.getSize=function(){return[this.view.width,this.view.height]},t.prototype.getParentDiv=function(){return $(this.aladinDiv)},t}(),A.aladin=function(t,e){return new Aladin($(t)[0],e)},A.imageLayer=function(t,e,n,r){return new HpxImageSurvey(t,e,n,null,null,r)},A.source=function(t,e,n,r){return new cds.Source(t,e,n,r)},A.marker=function(t,e,n,r){return(n=n||{}).marker=!0,A.source(t,e,r,n)},A.polygon=function(t){var e=t.length;return e>0&&(t[0][0]==t[e-1][0]&&t[0][1]==t[e-1][1]||t.push([t[0][0],t[0][1]])),new Footprint(t)},A.polyline=function(t,e){return new Polyline(t,e)},A.circle=function(t,e,n,r){return new Circle([t,e],n,r)},A.graphicOverlay=function(t){return new Overlay(t)},A.catalog=function(t){return new cds.Catalog(t)},Aladin.prototype.displayFITS=function(t,e){var n={url:t};(e=e||{}).color&&(n.color=!0),e.outputFormat&&(n.format=e.outputFormat),e.order&&(n.order=e.order),e.nocache&&(n.nocache=e.nocache),$.ajax({url:"http://alasky.u-strasbg.fr/cgi/fits2HiPS",data:n,method:"GET",dataType:"json",success:function(t){if("success"==t.status){var n=e.label||"FITS image";aladin.setOverlayImageLayer(aladin.createImageSurvey(n,n,t.data.url,"equatorial",t.data.meta.max_norder,{imgFormat:"png"})),aladin.setFoV(t.data.meta.fov),aladin.gotoRaDec(t.data.meta.ra,t.data.meta.dec);var r=e&&e.transparency||1;aladin.getOverlayImageLayer().setAlpha(r)}else alert("An error occured: "+t.message)}})},Aladin.prototype.displayJPG=Aladin.prototype.displayPNG=function(t,e){(e=e||{}).color=!0,e.label="JPG/PNG image",e.outputFormat="png",this.displayFITS(t,e)},$&&($.aladin=A.aladin),function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed").remove()}var r=t(this),i=r.attr("data-target"),o;i||(i=(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),o=t(i),e&&e.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(e=t.Event("close")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.on(t.support.transition.end,n):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var r=t(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(r)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery);var post_to_url_in_background=function(t){t.preventDefault();var e=$(this).attr("href"),n=$(this).attr("action"),r;if(void 0!==e&&!1!==e&&$.get(e,(function(t,e){})),void 0!==(r=$(this).attr("notification"))&&!1!==r){var r=decodeURIComponent(r),i;$("span#dynamicNotification").html(r)}},multi_link_exploder=function(){var t;$(this).siblings("ul.dropdown-menu").children("li").each((function(t){var e=$(this).children("a").attr("href");window.open(e,"_blank")}))};$((function(){$(document.body).on("click","a.postInBackground",post_to_url_in_background),$("div.objectLinkExploder").on("click","button:first",multi_link_exploder)}));var ra_sex2degrees=function(t){var e=(t=(t=(t=(t=t.replace(/ /g,":")).replace(/h/g,":")).replace(/m/g,":")).replace(/s/g,"")).split(":"),n,r,i,o;return 15*parseInt(e[0],10)+15*parseInt(e[1],10)/60+15*parseFloat(e[2],10)/3600},dec_sex2degrees=function(t){var e,n=(t=(t=(t=(t=t.replace(/ /g,":")).replace(/d/g,":")).replace(/m/g,":")).replace(/s/g,"")).split(":");e="-"==n[0][0]?-1:1;var r=parseInt(n[0],10),i=parseInt(n[1],10),o=parseFloat(n[2],10),a;return((r=Math.abs(r))+i/60+o/3600)*e},date_to_mjd=function(t){var e;return t/864e5-t.getTimezoneOffset()/1440+2440587.5-2400000.5},fade_and_hide=function(t){t.animate({opacity:.25},150),t.delay(600).slideUp(300)},show_and_unfade=function(t){t.animate({opacity:1},150),t.delay(600).slideDown(300)};!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t;return this.$element.hasClass("width")?"width":"height"},show:function(){var e,n,r,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),(r=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&r.length){if((i=r.data("collapse"))&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each((function(){var r=t(this),i=r.data("collapse"),o=t.extend({},t.fn.collapse.defaults,r.data(),"object"==typeof n&&n);i||r.data("collapse",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",(function(e){var n=t(this),r,i=n.attr("data-target")||e.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),o=t(i).data("collapse")?"toggle":n.data();n[t(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(i).collapse(o)}))}(window.jQuery),function(t){t((function(){var e;t.support.transition=(e=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in e)if(void 0!==t.style[n])return e[n]}())&&{end:e}}))}(window.jQuery),function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout((function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)}),0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each((function(){var r=t(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)}))},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",(function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")}))}(window.jQuery),function(t){function e(){t(r).each((function(){n(t(this)).removeClass("open")}))}function n(e){var n=e.attr("data-target"),r;return n||(n=(n=e.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),(r=n&&t(n))&&r.length||(r=e.parent()),r}var r="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",(function(){n.closest(":not(span)").removeClass("open")}))};i.prototype={constructor:i,toggle:function(r){var i=t(this),o,a;if(!i.is(".disabled, :disabled"))return a=(o=n(i)).hasClass("open"),e(),a||o.toggleClass("open"),i.focus(),!1},keydown:function(e){var i,o,a,s,u,l;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(!(u=(s=n(i)).hasClass("open"))||u&&27==e.keyCode)return 27==e.which&&s.find(r).focus(),i.click();(o=t("[role=menu] li:not(.divider):visible a",s)).length&&(l=o.index(o.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)}))},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.dropdown-menu",(function(t){t.stopPropagation()})).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery);var _markdownwiki_move_page_form=function(){var t=$("form[action*='change_parent_id_of_md_page']"),e=t.find("select[branch=0]"),n=e.closest("div.control-group"),r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=new Array,h="";t.on("change","select[branch]",(function(){r=$(this).attr("branch"),$(this).attr("name","parentId"),parentId=$(this).find("option:selected").attr("value"),u=$(this).find("option:selected").text(),$("select[branch]").each((function(t){$(this).attr("branch")>r&&$(this).closest(".controls").fadeOut(200,(function(){$(this).remove()}))})),$("p.textAlert").fadeOut(200,(function(){$("p.textAlert").remove()})),o="select distinct title, pageId from base_md_pages where pageId in (select * from (select distinct pageId from base_md_pages where parentPageId = "+parentId+") as alais) order by pageId, revisionNumber desc;",o=encodeURIComponent(o);var n=(h=window.location.toString()).split("/apollo/");h=n.length>1?"/apollo/assets/scripts/dryxScripts/sql_to_json.py?sqlQuery=":"/assets/scripts/dryxScripts/sql_to_json.py?sqlQuery=",a=$.ajax({url:h+o,success:function(n){0===n.length?(text='<p class="textAlert text-center text-info"><em>`'+u+"`</em> has no sub-pages</p>",t.append(text),$("p.textAlert").hide().fadeIn(200)):((l=e.closest(".control-group").clone()).find(".control-label").remove(),(i=l.find("select[branch]")).html(""),i.attr("branch",r+1).hide().fadeIn(200),i.attr("name","unselected"),thisOption='<option value="none">select a sub-page</option>',i.append(thisOption),f=[],$.each(n,(function(t,e){-1===$.inArray(n[t].pageId,f)&&(thisOption='<option value="'+n[t].pageId+'">'+n[t].title+"</option>",i.append(thisOption),f.push(n[t].pageId))})),t.append(l))}})}))}(),_no_project_status_selection_form=function(){var t;return $("a.projectStatus").bind("click",(function(t){var e=$(this).closest("tr");fade_and_hide(e)})),{}}();!function(t){var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source)?this.process(n):this},process:function(e){var n=this;return e=t.grep(e,(function(t){return n.matcher(t)})),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e=[],n=[],r=[],i;i=t.shift();)i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):e.push(i);return e.concat(n,r)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),(function(t,e){return"<strong>"+e+"</strong>"}))},render:function(e){var n=this;return(e=t(e).map((function(e,r){return(e=t(n.options.item).attr("data-value",r)).find("a").html(n.highlighter(r)),e[0]}))).first().addClass("active"),this.$menu.html(e),this},next:function(e){var n,r=this.$menu.find(".active").removeClass("active").next();r.length||(r=t(this.$menu.find("li")[0])),r.addClass("active")},prev:function(t){var e,n=this.$menu.find(".active").removeClass("active").prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next();break}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each((function(){var r=t(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(e){var n=t(this);n.data("typeahead")||n.typeahead(n.data())}))}(window.jQuery),function(t){var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),r=this;if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",(function(){r.to(e)})):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(e,n){var r=this.$element.find(".item.active"),i=n||r[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",u=this,l;if(this.sliding=!0,o&&this.pause(),i=i.length?i:this.$element.find(".item")[s](),l=t.Event("slide",{relatedTarget:i[0],direction:a}),!i.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var e=t(u.$indicators.children()[u.getActiveIndex()]);e&&e.addClass("active")}))),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;i.addClass(e),i[0].offsetWidth,r.addClass(a),i.addClass(a),this.$element.one(t.support.transition.end,(function(){i.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),u.sliding=!1,setTimeout((function(){u.$element.trigger("slid")}),0)}))}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each((function(){var r=t(this),i=r.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;i||r.data("carousel",i=new e(this,o)),"number"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()}))},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",(function(e){var n=t(this),r,i=t(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},i.data(),n.data()),a;i.carousel(o),(a=n.attr("data-slide-to"))&&i.data("carousel").pause().to(a).cycle(),e.preventDefault()}))}(window.jQuery),function(t){var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy((function(){setTimeout(t.proxy(this.checkPosition,this),1)}),this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){
if(this.$element.is(":visible")){var e=t(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,o=i.bottom,a=i.top,s="affix affix-top affix-bottom",u;"object"!=typeof i&&(o=a=i),"function"==typeof a&&(a=i.top()),"function"==typeof o&&(o=i.bottom()),u=!(null!=this.unpin&&n+this.unpin<=r.top)&&(null!=o&&r.top+this.$element.height()>=e-o?"bottom":null!=a&&n<=a&&"top"),this.affixed!==u&&(this.affixed=u,this.unpin="bottom"==u?r.top-n:null,this.$element.removeClass(s).addClass("affix"+(u?"-"+u:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each((function(){var r=t(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)}))}))}(window.jQuery),$((function(){var t=$("div#leftSidebar");$(window).innerWidth()>1040&&$(window).innerHeight()>1.2*t.height()&&$("div#leftSidebar").affix({offset:{top:170,bottom:100}})})),function(t){function e(e,n){var r=t.proxy(this.process,this),i=t(e).is("body")?t(window):t(e),o;this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(o=t(e).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this,n;this.offsets=t([]),this.targets=t([]),n=this.$body.find(this.selector).map((function(){var n=t(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&t(r);return i&&i.length&&[[i.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),r]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},process:function(){var t=this.$scrollElement.scrollTop()+this.options.offset,e,n=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),r=this.offsets,i=this.targets,o=this.activeTarget,a;if(t>=n)return o!=(a=i.last()[0])&&this.activate(a);for(a=r.length;a--;)o!=i[a]&&t>=r[a]&&(!r[a+1]||t<=r[a+1])&&this.activate(i[a])},activate:function(e){var n,r;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',(n=t(r).parent("li").addClass("active")).parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each((function(){var r=t(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);e.scrollspy(e.data())}))}))}(window.jQuery),function(t){var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.attr("data-target"),i,o,a;r||(r=(r=e.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(i=n.find(".active:last a")[0],a=t.Event("show",{relatedTarget:i}),e.trigger(a),a.isDefaultPrevented()||(o=t(r),this.activate(e.parent("li"),n),this.activate(o,o.parent(),(function(){e.trigger({type:"shown",relatedTarget:i})}))))},activate:function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),a=r&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,i):i(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each((function(){var r=t(this),i=r.data("tab");i||r.data("tab",i=new e(this)),"string"==typeof n&&i[n]()}))},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(e){e.preventDefault(),t(this).tab("show")}))}(window.jQuery),$((function(){var t=$("div#leftSidebar");$(window).innerWidth()>1040&&$(window).innerHeight()>1.2*t.height()&&$("div#leftSidebar").affix({offset:{top:170,bottom:100}})}));var submit_modal_forms=function(){var t=$("button[formId]"),e=void 0,n=void 0;return t.bind("click",(function(t){n=$(this).attr("formId"),(e=$("#"+n)).submit()})),{}}();!function(t){var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown&&console.log("this is shown already"),n.isDefaultPrevented()&&console.log("event prevented"),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop((function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,(function(){e.$element.focus().trigger("shown")})):e.$element.focus().trigger("shown")})))},hide:function(e){e&&e.preventDefault();var n=this;e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",(function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()}))},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",(function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout((function(){e.$element.off(t.support.transition.end),e.hideModal()}),500);this.$element.one(t.support.transition.end,(function(){clearTimeout(n),e.hideModal()}))},hideModal:function(){var t=this;this.$element.hide(),this.backdrop((function(){t.removeBackdrop(),t.$element.trigger("hidden")}))},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&r;if(this.$backdrop=t('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each((function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()}))},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",(function(){n.focus()}))}))}(window.jQuery),function(t){var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,r){var i,o,a,s,u;for(this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.enabled=!0,u=(a=this.options.trigger.split(" ")).length;u--;)"click"==(s=a[u])?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n=t.fn[this.type].defaults,r={},i;if(this._options&&t.each(this._options,(function(t,e){n[t]!=e&&(r[t]=e)}),this),!(i=t(e.currentTarget)[this.type](r).data(this.type)).options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)},show:function(){t("div.tooltip").not(this).each((function(e){var n=t(this).hide()})),t("div.popover").not(this).each((function(e){var n=t(this).hide()}));var e,n,r,i,o,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertBefore(this.$element),n=this.getPosition(),r=e[0].offsetWidth,i=e[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":a={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":a={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":a={top:n.top+n.height/2-i/2,left:n.left+n.width};break}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,o,a,s,u;n.offset(t).addClass(e).addClass("in"),o=n[0].offsetWidth,a=n[0].offsetHeight,"top"==e&&a!=i&&(t.top=t.top+i-a,u=!0),"bottom"==e||"top"==e?(s=0,t.left<0&&(s=-2*t.left,t.left=0,n.offset(t),o=n[0].offsetWidth,a=n[0].offsetHeight),this.replaceArrow(s-r+o,o,"left")):this.replaceArrow(a-i,a,"top"),u&&n.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout((function(){r.off(t.support.transition.end).detach()}),500);r.one(t.support.transition.end,(function(){clearTimeout(e),r.detach()}))}var n=this,r=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():r.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var r=t(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.tooltip.Constructor=e;var r=t.fn.tooltip.Constructor.prototype.leave;t.fn.tooltip.Constructor.prototype.leave=function(e){var n,i;if(i=t(e.currentTarget)[this.type](this._options).data(this.type),e.currentTarget)return n=t(".tooltip"),this.timeout=setTimeout((function(){i.hide()}),100),n.one("mouseenter",(function(){return clearTimeout(i.timeout),n.one("mouseleave",(function(){return r.call(i,e)}))}))},t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),$("[rel='tooltip']").tooltip(),function(t){var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var r=t(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new e(this,o)),"string"==typeof n&&i[n]()}))},t.fn.popover.Constructor=e;var r=t.fn.popover.Constructor.prototype.leave;t.fn.popover.Constructor.prototype.leave=function(e){var n,i;if(i=t(e.currentTarget)[this.type](this._options).data(this.type),r.call(this,e),e.currentTarget)return(n=t(".popover")).one("mouseenter",(function(){return clearTimeout(i.timeout),n.one("mouseleave",(function(){return r.call(i,e)}))}))},t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),$("[rel='popover']").popover(),function(t){t(document.body).on("click","th.link",(function(e){href=t(this).attr("href"),window.location=href})),t(document.body).on("click","tr.link > td",(function(e){e.target===this&&(href=t(this).closest("tr.link").attr("href"),window.location=href)}))}(window.jQuery),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)i[t=n[r]]||(i[t]=e)}();var pause=function(t){var e=new Date,n=null;do{n=new Date}while(n-e<t)},update_chart_element=function(){var t=!0,e=void 0,n=void 0,r=void 0,i=function(r){e=r.parent_element,o(e,r,t),a(n,t,r),s(n,r),c(n,r),u(n,r),l(r),void 0!==r.transform&&n.attr("transform",r.transform),void 0!==r.element_call&&n.call(r.element_call)},o=function(t,e,r){(n="datapoint"==e.element_selector||"tooltips"==e.element_selector?t.selectAll(e.element_selector):t.select(e.elemet_selector)).empty()||void 0!==e.remove_if&&(n.remove(),n=t.select(e.element_selector)),n.empty()?e.element_type&&(n=t.append(e.element_type).attr("class",e.element_class)):(t=e.parent_element.transition(),n="datapoint"==e.element_selector||"tooltips"==e.element_selector?t.selectAll(e.element_selector).duration(750):t.select(e.element_selector).duration(750),r=!1)},a=function(t,e,n){null!=n.element_data&&null!=n.element_data.data&&"datapoint"!=n.element_selector&&"tooltips"!=n.element_selector&&(e&&t.data([n.element_data.data]),void 0!==n.element_data.attr&&t.attr("d",n.element_data.attr))},s=function(t,e){if("datapoint"===e.element_selector)var n=t.data(e.element_data.datapoints.data).enter().append(e.element_data.datapoints.shape).attr("r",e.element_data.datapoints.attrs.radius).attr("cx",e.element_data.datapoints.datapoints.x).attr("cy",e.element_data.datapoints.datapoints.y)},u=function(t,e){void 0!==e.element_id&&t.attr("id",e.element_id),void 0!==e.element_class&&t.attr("class",e.element_class)},l=function(t){if(null!=t.extras){if(void 0!==t.extras.attr){var e=t.extras.attr;for(aa=0;aa<e.length;aa++){var r=e[aa];n.attr(r.attr,r.value)}}if(void 0!==t.extras.text){var i=t.extras.text;for(ta=0;ta<i.length;ta++){var o=i[ta];n.text(o)}}}},c=function(t,e){if("tooltips"===e.element_selector){var n=t.data(e.element_data.tooltips.data).enter().append(e.element_data.tooltips.shape).attr("r",e.element_data.tooltips.attrs.radius).attr("cx",e.element_data.tooltips.datapoints.x).attr("cy",e.element_data.tooltips.datapoints.y).attr("rel","tooltip").attr("title",e.element_data.tooltips.datapoints.tooltip).attr("data-container","body").attr("data-placement","top").attr("data-trigger","hover").attr("data-html",!0);$('[rel="tooltip"]').tooltip()}};return{update:i}}(),chartCanvas=function(){var t=null,e=null,n=null,r=null,o=null,a=null,s=null,u=null,l=null,c={top:null,right:null,bottom:null,left:null},f=null,h=function(t){return u=t,f=$(u),n=d3.select(u),C(n,f),{canvas:n=n.append("g").attr("transform","translate("+c.left+","+c.top+")"),width:a,height:s,update_settings:d}},d=function(t){return void 0!==t.axes&&(y(t.axes.x1Gridlines),x(t.axes.y1Gridlines)),void 0!==t.axes&&(p(t.axes),v(t.axes),g(t.axes),m(t.axes)),void 0!==t.dataline&&void 0!==t.dataline.dataline&&void 0!==t.dataline.dataline.line&&b(t.dataline),void 0!==t.dataline&&void 0!==t.dataline.dataline&&void 0!==t.dataline.dataline.area&&w(t.dataline),void 0!==t.chartTitle&&M(t.chartTitle),void 0!==t.datapoints&&T(t.datapoints),void 0!==t.errorBars&&N(t.errorBars),void 0!==t.tooltips&&E(t.tooltips),{canvas:n,width:a,height:s,update_settings:d}},p=function(t){update_chart_element.update({element_type:"g",element_selector:"g.x1axis",element_class:"x1axis axis",element_call:t.x1Axis,parent_element:n,transform:"translate(0,"+S()+")"}),void 0!==t.x1LabelsRotate?n.select("g.x1axis").selectAll("text").style("text-anchor","end").attr("dx","-.5em").attr("dy",".2em").attr("transform",(function(e){return"rotate("+t.x1LabelsRotate+")"})):n.select("g.x1axis").selectAll("text").attr("dy","1em")},g=function(t){null!=t.x2Axis&&(update_chart_element.update({element_type:"g",element_selector:"g.x2axis",element_class:"x2axis axis",element_call:t.x2Axis,parent_element:n,transform:"translate(0,0)"}),void 0!==t.x2LabelsRotate?n.select("g.x2axis").selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform",(function(e){return"rotate("+t.x2LabelsRotate+")"})):n.select("g.x2axis").selectAll("text").attr("dy","-.4em"))},v=function(t){update_chart_element.update({element_type:"g",element_selector:"g.y1axis",element_class:"y1axis axis",element_call:t.y1Axis,parent_element:n,update_if:void 0!==t.dataline}),void 0!==t.y1LabelsRotate&&0!==t.y1LabelsRotate?n.select("g.y1axis").selectAll("text").style("text-anchor","end").attr("dx","-.1em").attr("dy",".7em").attr("transform",(function(e){return"rotate("+t.y1LabelsRotate+")"})):n.select("g.y1axis").selectAll("text").attr("dx","-.1em")},m=function(t){null!=t.y2Axis&&(update_chart_element.update({element_type:"g",element_selector:"g.y2axis",element_class:"y2axis axis",element_call:t.y2Axis,parent_element:n,update_if:void 0!==t.dataline,transform:"translate("+_()+",0)"}),void 0!==t.y2LabelsRotate&&0!==t.y1LabelsRotate?n.select("g.y2axis").selectAll("text").style("text-anchor","end").attr("dx","-.1em").attr("dy",".7em").attr("transform",(function(e){return"rotate("+t.y2LabelsRotate+")"})):n.select("g.y2axis").selectAll("text").attr("dx","+.1em"))},y=function(t){update_chart_element.update({element_type:"g",element_selector:"g.x1grid",element_class:"grid x1grid",element_call:t,parent_element:n,transform:"translate(0,"+S()+")",update_if:!0})},x=function(t){update_chart_element.update({element_type:"g",element_selector:"g.y1grid",element_class:"grid y1grid",element_call:t,parent_element:n,transform:void 0,update_if:!0})},b=function(t){update_chart_element.update({element_type:"path",element_selector:"path#line"+t.dataline.id,element_class:"line "+t.dataline.color,element_id:"line"+t.dataline.id,element_call:void 0,element_data:{data:t.data,attr:t.dataline.line},parent_element:n,transform:void 0})},w=function(t){update_chart_element.update({element_type:"path",element_selector:"path#area"+t.dataline.id,element_class:"area "+t.dataline.color,element_id:"area"+t.dataline.id,element_call:void 0,element_data:{data:t.data,attr:t.dataline.area},parent_element:n,transform:void 0})},M=function(t){update_chart_element.update({element_type:"text",element_selector:"text.chartTitle",element_class:"text chartTitle",extras:{attr:[{attr:"x",value:r/3},{attr:"y",value:0-c.top/2}],text:[t]},parent_element:n,transform:void 0})},C=function(t,e){r=e.width(),t.attr("width",r),o=t.classed("square",!0)?r:e.height(),t.attr("height",o),c.top=.1*o,c.bottom=.2*o,c.left=.1*r,c.right=.1*r,a=_(),s=S()},_=function(){return a=r-c.left-c.right},S=function(){return s=o-c.top-c.bottom},k=function(t){p(t.x1Axis),v(t.y1Axis),y(t.x1Gridlines),x(t.y1Gridlines)},T=function(t){t=t.datapoints,update_chart_element.update({element_selector:"datapoint",element_class:"datapoint "+t.color,element_id:"datapoint"+t.id,element_data:{datapoints:t},element_call:void 0,parent_element:n,transform:void 0,parent_element:n,transform:void 0})},N=function(t){var e=t.data;for(i=0;i<e.length;i++){var r=e[i];update_chart_element.update({element_type:"path",element_selector:"path#line"+t.line.id,element_class:"line "+t.line.color+" "+t.line.htmlclass,element_id:"line"+t.line.id,element_call:void 0,element_data:{data:r,attr:t.line.line},parent_element:n,transform:void 0})}},E=function(t){update_chart_element.update({element_selector:"tooltips",element_class:"tooltips "+t.color,element_id:"tooltips"+t.id,element_data:{tooltips:t},element_call:void 0,parent_element:n,transform:void 0,parent_element:n,transform:void 0})};return{set_canvas_element:h}},chartAxes=function(){var t=void 0,e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=1,y=1,x=1,b=1,w=3,M=3,C=3,_=3,S=function(e){return t=e,{y1:T(),x1:k(),y1Axis:q(),x1Axis:F(),y1Gridlines:B(3),x1Gridlines:H(3),x1LabelsRotate:o,y1LabelsRotate:a,y2:E(),x2:N(),y2Axis:U(),x2Axis:z(),y2Gridlines:W(3),x2Gridlines:V(3),x2LabelsRotate:f,y2LabelsRotate:h,update_settings:A}},k=function(){return l=d3.scale.linear().range([0,t.width])},T=function(){return c=d3.scale.linear().range([t.height,0])},N=function(){return g=d3.time.scale().range([0,t.width])},E=function(){return v=d3.scale.linear().range([t.height,0])},A=function(t){void 0!==t.x1Range&&L(t.x1Range),void 0!==t.y1Range&&R(t.y1Range),void 0!==t.x1Title&&P(t.x1Title),void 0!==t.y1Title&&I(t.y1Title),void 0!==t.x1LabelsRotate&&(t.axes.x1LabelsRotate=+t.x1LabelsRotate),void 0!==t.y1LabelsRotate&&(t.axes.y1LabelsRotate=+t.y1LabelsRotate),void 0!==t.y1TickFormat&&t.axes.y1Axis.tickFormat(t.y1TickFormat),void 0!==t.x1TickFormat&&t.axes.x1Axis.tickFormat(t.x1TickFormat),void 0!==t.x2Range&&D(t.x2Range),void 0!==t.y2Range&&j(t.y2Range),void 0!==t.x2Title&&O(t.x2Title),void 0!==t.y2Title&&$(t.y2Title),void 0!==t.x2LabelsRotate&&(t.axes.x2LabelsRotate=+t.x2LabelsRotate),void 0!==t.y2LabelsRotate&&(t.axes.y2LabelsRotate=+t.y2LabelsRotate),void 0!==t.y2TickFormat&&t.axes.y2Axis.tickFormat(t.y2TickFormat),void 0!==t.x2TickFormat&&t.axes.x2Axis.tickFormat(t.x2TickFormat),void 0!==t.x1TickSize&&t.axes.x1Axis.tickSize(-t.x1TickSize),void 0!==t.x2TickSize&&t.axes.x2Axis.tickSize(-t.x2TickSize),void 0!==t.y1TickSize&&t.axes.y1Axis.tickSize(-t.y1TickSize),void 0!==t.y2TickSize&&t.axes.y2Axis.tickSize(-t.y2TickSize),void 0!==t.y1NumberOfTicks&&(t.axes.y1Axis.ticks(t.y1NumberOfTicks),t.axes.y1Gridlines.ticks(t.y1NumberOfTicks)),void 0!==t.y2NumberOfTicks&&(t.axes.y2Axis.ticks(t.y2NumberOfTicks),t.axes.y2Gridlines.ticks(t.y2NumberOfTicks)),void 0!==t.x1NumberOfTicks&&(t.axes.x1Axis.ticks(t.x1NumberOfTicks),t.axes.x1Gridlines.ticks(t.x1NumberOfTicks)),void 0!==t.x2NumberOfTicks&&(t.axes.x2Axis.ticks(t.x2NumberOfTicks),t.axes.x2Gridlines.ticks(t.x2NumberOfTicks))},L=function(t){l.domain(t)},R=function(t){c.domain(t)},D=function(t){g.domain(t)},j=function(t){v.domain(t)},P=function(e){update_chart_element.update({element_type:"text",element_selector:"text.x1Title",element_class:"text x1Title",extras:{attr:[{attr:"x",value:t.width/2},{attr:"y",value:1.07*t.height}],text:[e]},parent_element:t.canvas,transform:void 0})},I=function(e){update_chart_element.update({element_type:"text",element_selector:"text.y1Title",element_class:"text y1Title",extras:{attr:[{attr:"x",value:0-t.height/2},{attr:"y",value:0-.07*t.width},{attr:"dy",value:"0em"},{attr:"dx",value:"-3em"}],text:[e]},parent_element:t.canvas,transform:"rotate(-90)"})},O=function(e){update_chart_element.update({element_type:"text",element_selector:"text.x2Title",element_class:"text x2Title",extras:{attr:[{attr:"x",value:t.width/2},{attr:"y",value:1.15*t.height}],text:[x1Title]},parent_element:t.canvas,transform:void 0})},$=function(e){update_chart_element.update({element_type:"text",element_selector:"text.y2Title",element_class:"text y2Title",extras:{attr:[{attr:"x",value:0-t.height/2},{attr:"y",value:0-.07*t.width},{attr:"dy",value:"1em"}],text:[y1Title]},parent_element:t.canvas,transform:"rotate(-90)"})},F=function(){return x1Axis=d3.svg.axis().scale(l).orient("bottom").ticks(3),x1Axis},q=function(){return y1Axis=d3.svg.axis().scale(c).orient("left").ticks(3),y1Axis},z=function(){return x2Axis=d3.svg.axis().scale(g).orient("top").ticks(3),x2Axis},U=function(){return y2Axis=d3.svg.axis().scale(v).orient("right").ticks(3),y2Axis},H=function(e){return r=d3.svg.axis().scale(l).orient("bottom").ticks(e).tickSize(-t.height,0,0).tickFormat("")},B=function(e){return i=d3.svg.axis().scale(c).orient("left").ticks(e).tickSize(-t.width,0,0).tickFormat("")},V=function(e){return x2GridLines=d3.svg.axis().scale(g).orient("top").ticks(e).tickSize(-t.height,0,0).tickFormat(""),x2GridLines},W=function(e){return y2GridLines=d3.svg.axis().scale(v).orient("right").ticks(e).tickSize(-t.width,0,0).tickFormat(""),y2GridLines};return{initialise_axes_for_chart:S}},chartPath=function(){var t=null,e=null,n=function(t){return e=t.area?o(t):void 0,{line:i(t),area:e,x1Values:t.x1Values,y1Values:t.y1Values,id:t.id,color:t.color,htmlclass:t.htmlclass}},r=function(t){},i=function(t){return valueline=d3.svg.line().interpolate("basis").x((function(e){return t.axes.x1(e[t.x1Values])})).y((function(e){return t.axes.y1(e[t.y1Values])})),valueline},o=function(t){return e=d3.svg.area().interpolate("basis").x((function(e){return t.axes.x1(e[t.x1Values])})).y0(t.chart.height).y1((function(e){return t.axes.y1(e[t.y1Values])}))};return{initialise_path:n}},chartDatapoints=function(){var t=null,e=function(t){return{datapoints:r(t),id:t.id,color:t.color,shape:t.shape,attrs:i(t),data:t.data}},n,r=function(t){return datapoints={x:function(e){return t.axes.x1(e[t.x1Values])},y:function(e){return t.axes.y1(e[t.y1Values])}},datapoints},i=function(t){var e={};return"circle"==t.shape&&(e={radius:t.radius}),e};return{init:e,update_settings:function(t){}}},chartErrorBars=function(){var t=function(t){return{line:n(t),data:r(t)}},e,n=function(t){var e=d3.svg.line().interpolate("linear").x((function(t){return t.x})).y((function(t){return t.y}));return e={line:e,x1Values:"x",y1Values:"y",id:t.id,color:t.color,htmlclass:t.htmlclass}},r=function(t){var e=new Array,n=t.data;for(i=0;i<n.length;i++){var r=n[i],o=[{x:t.axes.x1(r[t.x1Values]),y:t.axes.y1(r[t.y1Values]-r[t.y1Errors])},{x:t.axes.x1(r[t.x1Values]),y:t.axes.y1(r[t.y1Values]+r[t.y1Errors])}];e.push(o),thisRange=t.x1Range[0]-t.x1Range[1];var a=[{x:t.axes.x1(r[t.x1Values]-thisRange/150),y:t.axes.y1(r[t.y1Values]-r[t.y1Errors])},{x:t.axes.x1(r[t.x1Values]+thisRange/150),y:t.axes.y1(r[t.y1Values]-r[t.y1Errors])}];e.push(a);var s=[{x:t.axes.x1(r[t.x1Values]-thisRange/150),y:t.axes.y1(r[t.y1Values]+r[t.y1Errors])},{x:t.axes.x1(r[t.x1Values]+thisRange/150),y:t.axes.y1(r[t.y1Values]+r[t.y1Errors])}];e.push(s)}return e};return{init:t,update_attributes:function(t){}}},chartDataTooltips=function(){var t=void 0,e=function(t){return{div:r(),tooltipContents:t.tooltipContents,datapoints:i(t),id:t.id,color:t.color,shape:t.shape,attrs:o(t),data:t.data}},n,r=function(){var t;return d3.select("body").append("div").attr("class","tooltip-data").style("opacity",0)},i=function(t){return hoverpoints={x:function(e){return t.axes.x1(e[t.x1Values])},y:function(e){return t.axes.y1(e[t.y1Values])},tooltip:function(t){return t.tooltip}},hoverpoints},o=function(t){var e={};return"circle"==t.shape&&(e={radius:t.radius}),e};return{init:e,update_attributes:function(t){}}},transientLightcurve=function(){var t=void 0,e=void 0,n=void 0,r=void 0,i=void 0,o=void 0,a=d3.time.format("%Y-%m-%dT%H:%M:%S").parse,s,u=function(){d3.json(t,(function(t){data=t.chartData,data.forEach((function(t){t.observationDate=a(t.observationDate),t.mjd=+t.mjd,t.magnitude=+t.magnitude,t.observationMJD=+t.observationMJD})),o=l(t),f(data),c(t),h(data,o),d(data)}))},l=function(t){var n=d3.max(data,(function(t){return t.observationDate})),r=d3.min(data,(function(t){return t.observationDate})),i;if((+n-+r)/864e5<3){minX2range=2592e5;var o=(+n+ +r)/2;n=o+minX2range/2,r=o-minX2range/2,n=new Date(n),r=new Date(r)}x2Range=[r,n];var a=date_to_mjd(n),s=date_to_mjd(r),u=[s,a],l=d3.max(data,(function(t){return t.magnitude})),c=d3.min(data,(function(t){return t.magnitude}));if(y1Range=3,l-c<y1Range){var f=(l+c)/2;c=f-y1Range/2,l=f+y1Range/2}return y1Range=[l,c],thisRange=Math.floor(a-s),thisRange<6?x1NumberOfTicks=thisRange:x1NumberOfTicks=6,e.update_settings({chartTitle:t.chartAttributes.title,axes:e,x1Range:u,y1Range:y1Range,x2Range:x2Range,y2Range:y1Range,x1Title:t.chartAttributes.x1title,y1Title:t.chartAttributes.y1title,x1LabelsRotate:void 0,y1LabelsRotate:void 0,x1TickFormat:d3.format("d"),y1TickFormat:void 0,x2TickFormat:d3.time.format("%Y-%m-%d"),x1TickSize:6,y1TickSize:6,x2TickSize:6,y2TickSize:6,x1NumberOfTicks:x1NumberOfTicks,x2NumberOfTicks:x1NumberOfTicks,y1NumberOfTicks:6,y2NumberOfTicks:6}),u},c=function(t){n.update_settings({
chartTitle:t.chartAttributes.title,axes:e,dataline:{}})},f=function(t){dataline=new chartPath,dataline=dataline.initialise_path({axes:e,chart:n,x1Values:"observationMJD",y1Values:"magnitude",color:"lightgrey",id:Math.floor(1e4*Math.random()+1).toString()}),datapoints=new chartDatapoints,datapoints=datapoints.init({data:t,x1Values:"observationMJD",y1Values:"magnitude",y1Errors:"magnitudeError",color:"red",id:Math.floor(1e4*Math.random()+1).toString(),shape:"circle",radius:3.5,axes:e,chart:n}),n.update_settings({dataline:{dataline:dataline,data:t},datapoints:{datapoints:datapoints}})},h=function(t,r){errorBars=new chartErrorBars,errorBars=errorBars.init({data:t,axes:e,chart:n,x1Range:r,x1Values:"observationMJD",y1Values:"magnitude",y1Errors:"magnitudeError",color:"black",id:Math.floor(1e4*Math.random()+1).toString(),htmlclass:"errorbar"}),n.update_settings({errorBars:errorBars})},d=function(t){tooltips=new chartDataTooltips,tooltips=tooltips.init({data:t,x1Values:"observationMJD",y1Values:"magnitude",color:"red",id:Math.floor(1e4*Math.random()+1).toString(),shape:"circle",radius:3.5,axes:e,chart:n,htmlclass:"tooltip"}),n.update_settings({tooltips:tooltips})};return{init:function(r){return i=d3.select(r),t=$(r).attr("data-src"),n=(n=new chartCanvas).set_canvas_element(r),e=(e=new chartAxes).initialise_axes_for_chart(n),{}},plot:u}},plot_lightcurves=function(){var t=new Array;$("svg[chartType='lightcurve']").each((function(e,n){var r=new transientLightcurve;r.init(n),r.plot(),t.push(r)}))}(),hljs=new function(){function t(t){return t.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function e(t){return t.nodeName.toLowerCase()}function n(t,e){var n=t&&t.exec(e);return n&&0==n.index}function r(t){return Array.prototype.map.call(t.childNodes,(function(t){return 3==t.nodeType?y.useBR?t.nodeValue.replace(/\n/g,""):t.nodeValue:"br"==e(t)?"\n":r(t)})).join("")}function i(t){var e=(t.className+" "+(t.parentNode?t.parentNode.className:"")).split(/\s+/);return(e=e.map((function(t){return t.replace(/^language-/,"")}))).filter((function(t){return m(t)||"no-highlight"==t}))[0]}function o(t,e){var n={};for(var r in t)n[r]=t[r];if(e)for(var r in e)n[r]=e[r];return n}function a(t){var n=[];return function t(r,i){for(var o=r.firstChild;o;o=o.nextSibling)3==o.nodeType?i+=o.nodeValue.length:"br"==e(o)?i+=1:1==o.nodeType&&(n.push({event:"start",offset:i,node:o}),i=t(o,i),n.push({event:"stop",offset:i,node:o}));return i}(t,0),n}function s(n,r,i){function o(){return n.length&&r.length?n[0].offset!=r[0].offset?n[0].offset<r[0].offset?n:r:"start"==r[0].event?n:r:n.length?n:r}function a(n){function r(e){return" "+e.nodeName+'="'+t(e.value)+'"'}c+="<"+e(n)+Array.prototype.map.call(n.attributes,r).join("")+">"}function s(t){c+="</"+e(t)+">"}function u(t){("start"==t.event?a:s)(t.node)}for(var l=0,c="",f=[];n.length||r.length;){var h=o();if(c+=t(i.substr(l,h[0].offset-l)),l=h[0].offset,h==n){f.reverse().forEach(s);do{u(h.splice(0,1)[0]),h=o()}while(h==n&&h.length&&h[0].offset==l);f.reverse().forEach(a)}else"start"==h[0].event?f.push(h[0].node):f.pop(),u(h.splice(0,1)[0])}return c+t(i.substr(l))}function u(t){function e(t){return t&&t.source||t}function n(n,r){return RegExp(e(n),"m"+(t.cI?"i":"")+(r?"g":""))}function r(i,a){if(!i.compiled){if(i.compiled=!0,i.k=i.k||i.bK,i.k){var s={};function u(e,n){t.cI&&(n=n.toLowerCase()),n.split(" ").forEach((function(t){var n=t.split("|");s[n[0]]=[e,n[1]?Number(n[1]):1]}))}"string"==typeof i.k?u("keyword",i.k):Object.keys(i.k).forEach((function(t){u(t,i.k[t])})),i.k=s}i.lR=n(i.l||/\b[A-Za-z0-9_]+\b/,!0),a&&(i.bK&&(i.b=i.bK.split(" ").join("|")),i.b||(i.b=/\B|\b/),i.bR=n(i.b),i.e||i.eW||(i.e=/\B|\b/),i.e&&(i.eR=n(i.e)),i.tE=e(i.e)||"",i.eW&&a.tE&&(i.tE+=(i.e?"|":"")+a.tE)),i.i&&(i.iR=n(i.i)),void 0===i.r&&(i.r=1),i.c||(i.c=[]);var l=[];i.c.forEach((function(t){t.v?t.v.forEach((function(e){l.push(o(t,e))})):l.push("self"==t?i:t)})),i.c=l,i.c.forEach((function(t){r(t,i)})),i.starts&&r(i.starts,a);var c=i.c.map((function(t){return t.bK?"\\.?\\b("+t.b+")\\b\\.?":t.b})).concat([i.tE]).concat([i.i]).map(e).filter(Boolean);i.t=c.length?n(c.join("|"),!0):{exec:function(t){return null}},i.continuation={}}}r(t)}function l(e,r,i,o){function a(t,e){for(var r=0;r<e.c.length;r++)if(n(e.c[r].bR,t))return e.c[r]}function s(t,e){return n(t.eR,e)?t:t.eW?s(t.parent,e):void 0}function f(t,e){return!i&&n(e.iR,t)}function h(t,e){var n=M.cI?e[0].toLowerCase():e[0];return t.k.hasOwnProperty(n)&&t.k[n]}function d(t,e,n,r){var i,o='<span class="'+(r?"":y.classPrefix),a;return(o+=t+'">')+e+(n?"":"</span>")}function p(){var e=t(k);if(!C.k)return e;var n="",r=0;C.lR.lastIndex=0;for(var i=C.lR.exec(e);i;){n+=e.substr(r,i.index-r);var o=h(C,i);o?(T+=o[1],n+=d(o[0],i[0])):n+=i[0],r=C.lR.lastIndex,i=C.lR.exec(e)}return n+e.substr(r)}function g(){if(C.sL&&!x[C.sL])return t(k);var e=C.sL?l(C.sL,k,!0,C.continuation.top):c(k);return C.r>0&&(T+=e.r),"continuous"==C.subLanguageMode&&(C.continuation.top=e.top),d(e.language,e.value,!1,!0)}function v(){return void 0!==C.sL?g():p()}function b(e,n){var r=e.cN?d(e.cN,"",!0):"";e.rB?(_+=r,k=""):e.eB?(_+=t(n)+r,k=""):(_+=r,k=n),C=Object.create(e,{parent:{value:C}})}function w(e,n){if(k+=e,void 0===n)return _+=v(),0;var r=a(n,C);if(r)return _+=v(),b(r,n),r.rB?0:n.length;var i=s(C,n);if(i){var o=C;o.rE||o.eE||(k+=n),_+=v();do{C.cN&&(_+="</span>"),T+=C.r,C=C.parent}while(C!=i.parent);return o.eE&&(_+=t(n)),k="",i.starts&&b(i.starts,""),o.rE?0:n.length}if(f(n,C))throw new Error('Illegal lexeme "'+n+'" for mode "'+(C.cN||"<unnamed>")+'"');return k+=n,n.length||1}var M=m(e);if(!M)throw new Error('Unknown language: "'+e+'"');u(M);for(var C=o||M,_="",S=C;S!=M;S=S.parent)S.cN&&(_=d(S.cN,_,!0));var k="",T=0;try{for(var N,E,A=0;C.t.lastIndex=A,N=C.t.exec(r);)E=w(r.substr(A,N.index-A),N[0]),A=N.index+E;w(r.substr(A));for(var S=C;S.parent;S=S.parent)S.cN&&(_+="</span>");return{r:T,value:_,language:e,top:C}}catch(e){if(-1!=e.message.indexOf("Illegal"))return{r:0,value:t(r)};throw e}}function c(e,n){n=n||y.languages||Object.keys(x);var r={r:0,value:t(e)},i=r;return n.forEach((function(t){if(m(t)){var n=l(t,e,!1);n.language=t,n.r>i.r&&(i=n),n.r>r.r&&(i=r,r=n)}})),i.language&&(r.second_best=i),r}function f(t){return y.tabReplace&&(t=t.replace(/^((<[^>]+>|\t)+)/gm,(function(t,e,n,r){return e.replace(/\t/g,y.tabReplace)}))),y.useBR&&(t=t.replace(/\n/g,"<br>")),t}function h(t){var e=r(t),n=i(t);if("no-highlight"!=n){var o=n?l(n,e,!0):c(e),u=a(t);if(u.length){var h=document.createElementNS("http://www.w3.org/1999/xhtml","pre");h.innerHTML=o.value,o.value=s(u,a(h),e)}o.value=f(o.value),t.innerHTML=o.value,t.className+=" hljs "+(!n&&o.language||""),t.result={language:o.language,re:o.r},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.r})}}function d(t){y=o(y,t)}function p(){if(!p.called){p.called=!0;var t=document.querySelectorAll("pre code");Array.prototype.forEach.call(t,h)}}function g(){addEventListener("DOMContentLoaded",p,!1),addEventListener("load",p,!1)}function v(t,e){var n=x[t]=e(this);n.aliases&&n.aliases.forEach((function(e){b[e]=t}))}function m(t){return x[t]||x[b[t]]}var y={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},x={},b={};this.highlight=l,this.highlightAuto=c,this.fixMarkup=f,this.highlightBlock=h,this.configure=d,this.initHighlighting=p,this.initHighlightingOnLoad=g,this.registerLanguage=v,this.getLanguage=m,this.inherit=o,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.CLCM={cN:"comment",b:"//",e:"$"},this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"},this.HCM={cN:"comment",b:"#",e:"$"},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}};hljs.registerLanguage("bash",(function(t){var e={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},n={cN:"string",b:/"/,e:/"/,c:[t.BE,e,{cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]}]},r={cN:"string",b:/'/,e:/'/};return{l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[t.inherit(t.TM,{b:/\w[\w\d_]*/})],r:0},t.HCM,t.NM,n,r,e]}})),hljs.registerLanguage("cs",(function(t){var e="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";return{k:e,c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",b:"///|\x3c!--|--\x3e"},{cN:"xmlDocTag",b:"</?",e:">"}]},t.CLCM,t.CBLCLM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},t.ASM,t.QSM,t.CNM,{bK:"protected public private internal",e:/[{;=]/,k:e,c:[{bK:"class namespace interface",starts:{c:[t.TM]}},{b:t.IR+"\\s*\\(",rB:!0,c:[t.TM]}]}]}})),hljs.registerLanguage("ruby",(function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",r={cN:"yardoctag",b:"@[A-Za-z]+"},i={cN:"comment",v:[{b:"#",e:"$",c:[r]},{b:"^\\=begin",e:"^\\=end",c:[r],r:10},{b:"^__END__",e:"\\n$"}]},o={cN:"subst",b:"#\\{",e:"}",k:n},a={cN:"string",c:[t.BE,o],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:"%[qw]?\\(",e:"\\)"},{b:"%[qw]?\\[",e:"\\]"},{b:"%[qw]?{",e:"}"},{b:"%[qw]?<",e:">",r:10},{b:"%[qw]?/",e:"/",r:10},{b:"%[qw]?%",e:"%",r:10},{b:"%[qw]?-",e:"-",r:10},{b:"%[qw]?\\|",e:"\\|",r:10},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},s={cN:"params",b:"\\(",e:"\\)",k:n},u=[a,i,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[t.inherit(t.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+t.IR+"::)?"+t.IR}]},i]},{cN:"function",bK:"def",e:" |$|;",r:0,c:[t.inherit(t.TM,{b:e}),s,i]},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:":",c:[a,{b:e}],r:0},{cN:"symbol",b:t.UIR+"(\\!|\\?)?:",r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+t.RSR+")\\s*",c:[i,{cN:"regexp",c:[t.BE,o],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}],r:0}];return o.c=u,s.c=u,{k:n,c:u}})),hljs.registerLanguage("diff",(function(t){return{c:[{cN:"chunk",r:10,v:[{b:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}})),hljs.registerLanguage("javascript",(function(t){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},t.ASM,t.QSM,t.CLCM,t.CBLCLM,t.CNM,{b:"("+t.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[t.CLCM,t.CBLCLM,t.REGEXP_MODE,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,c:[t.inherit(t.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[t.CLCM,t.CBLCLM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+t.IR,r:0}]}})),hljs.registerLanguage("xml",(function(t){var e,n={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},r={eW:!0,i:/</,r:0,c:[n,{cN:"attribute",b:"[A-Za-z0-9\\._:-]+",r:0},{b:"=",r:0,c:[{cN:"value",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"\x3c!--",e:"--\x3e",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[r],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[r],starts:{e:"<\/script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},n,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:"[^ /><]+",r:0},r]}]}})),hljs.registerLanguage("markdown",(function(t){return{c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].+?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",e:"$",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]",eB:!0,eE:!0},{cN:"link_url",b:"\\s",e:"$"}]}]}})),hljs.registerLanguage("css",(function(t){var e="[a-zA-Z-][a-zA-Z0-9_-]*",n={cN:"function",b:e+"\\(",e:"\\)",c:["self",t.NM,t.ASM,t.QSM]};return{cI:!0,i:"[=/|']",c:[t.CBLCLM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[n,t.ASM,t.QSM,t.NM]}]},{cN:"tag",b:e,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[t.CBLCLM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[n,t.NM,t.QSM,t.ASM,t.CBLCLM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}})),hljs.registerLanguage("profile",(function(t){return{c:[t.CNM,{cN:"built_in",b:"{",e:"}$",eB:!0,eE:!0,c:[t.ASM,t.QSM],r:0},{cN:"filename",b:"[a-zA-Z_][\\da-zA-Z_]+\\.[\\da-zA-Z_]{1,3}",e:":",eE:!0},{cN:"header",b:"(ncalls|tottime|cumtime)",e:"$",k:"ncalls tottime|10 cumtime|10 filename",r:10},{cN:"summary",b:"function calls",e:"$",c:[t.CNM],r:10},t.ASM,t.QSM,{cN:"function",b:"\\(",e:"\\)$",c:[t.UTM],r:0}]}})),hljs.registerLanguage("http",(function(t){return{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}})),hljs.registerLanguage("java",(function(t){var e="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws";return{k:e,i:/<\//,c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",c:[{cN:"javadoctag",b:"(^|\\s)@[A-Za-z]+"}],r:10},t.CLCM,t.CBLCLM,t.ASM,t.QSM,{bK:"protected public private",e:/[{;=]/,k:e,c:[{cN:"class",bK:"class interface",eW:!0,i:/[:"<>]/,c:[{bK:"extends implements",r:10},t.UTM]},{b:t.UIR+"\\s*\\(",rB:!0,c:[t.UTM]}]},t.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}})),hljs.registerLanguage("php",(function(t){var e={cN:"variable",b:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},n={cN:"preprocessor",b:/<\?(php)?|\?>/},r={cN:"string",c:[t.BE,n],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},t.inherit(t.ASM,{i:null}),t.inherit(t.QSM,{i:null})]},i={v:[t.BNM,t.CNM]};return{cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[t.CLCM,t.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"},n]},{cN:"comment",b:"__halt_compiler.+?;",eW:!0,k:"__halt_compiler",l:t.UIR},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[t.BE]},n,e,{cN:"function",bK:"function",e:/[;{]/,i:"\\$|\\[|%",c:[t.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",e,t.CBLCLM,r,i]}]},{cN:"class",bK:"class interface",e:"{",i:/[:\(\$"]/,c:[{bK:"extends implements",r:10},t.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[t.UTM]},{bK:"use",e:";",c:[t.UTM]},{b:"=>"},r,i]}})),hljs.registerLanguage("python",(function(t){var e={cN:"prompt",b:/^(>>>|\.\.\.) /},n={cN:"string",c:[t.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[e],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[e],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},t.ASM,t.QSM]},r={cN:"number",r:0,v:[{b:t.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:t.CNR+"[lLjJ]?"}]},i={cN:"params",b:/\(/,e:/\)/,c:["self",e,r,n]},o={e:/:/,i:/[${=;\n]/,c:[t.UTM,i]};return{k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[e,r,n,t.HCM,t.inherit(o,{cN:"function",bK:"def",r:10}),t.inherit(o,{cN:"class",bK:"class"}),{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}})),hljs.registerLanguage("tex",(function(t){var e={cN:"command",b:"\\\\[a-zA-Zа-яА-я]+[\\*]?"},n={cN:"command",b:"\\\\[^a-zA-Zа-яА-я0-9]"},r={cN:"special",b:"[{}\\[\\]\\&#~]",r:0};return{c:[{b:"\\\\[a-zA-Zа-яА-я]+[\\*]? *= *-?\\d*\\.?\\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?",rB:!0,c:[e,n,{cN:"number",b:" *=",e:"-?\\d*\\.?\\d+(pt|pc|mm|cm|in|dd|cc|ex|em)?",eB:!0}],r:10},e,n,r,{cN:"formula",b:"\\$\\$",e:"\\$\\$",c:[e,n,r],r:0},{cN:"formula",b:"\\$",e:"\\$",c:[e,n,r],r:0},{cN:"comment",b:"%",e:"$",r:0}]}})),hljs.registerLanguage("sql",(function(t){return{cI:!0,i:/[<>]/,c:[{cN:"operator",b:"\\b(begin|end|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma|grant|merge)\\b(?!:)",e:";",eW:!0,k:{keyword:"all partial global month current_timestamp using go revoke smallint indicator end-exec disconnect zone with character assertion to add current_user usage input local alter match collate real then rollback get read timestamp session_user not integer bit unique day minute desc insert execute like ilike|2 level decimal drop continue isolation found where constraints domain right national some module transaction relative second connect escape close system_user for deferred section cast current sqlstate allocate intersect deallocate numeric public preserve full goto initially asc no key output collation group by union session both last language constraint column of space foreign deferrable prior connection unknown action commit view or first into float year primary cascaded except restrict set references names table outer open select size are rows from prepare distinct leading create only next inner authorization schema corresponding option declare precision immediate else timezone_minute external varying translation true case exception join hour default double scroll value cursor descriptor values dec fetch procedure delete and false int is describe char as at in varchar null trailing any absolute current_time end grant privileges when cross check write current_date pad begin temporary exec time update catalog user sql date on identity timezone_hour natural whenever interval work order cascade diagnostics nchar having left call do handler load replace truncate start lock show pragma exists number trigger if before after each row merge matched database",aggregate:"count sum min max avg"},c:[{cN:"string",b:"'",e:"'",c:[t.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[t.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[t.BE]},t.CNM]},t.CBLCLM,{cN:"comment",b:"--",e:"$"}]}})),hljs.registerLanguage("ini",(function(t){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[t.QSM,t.NM],r:0}]}]}})),hljs.registerLanguage("perl",(function(t){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={cN:"subst",b:"[$@]\\{",e:"\\}",k:e},r={b:"->{",e:"}"},i={cN:"variable",v:[{b:/\$\d/},{b:/[\$\%\@\*](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{b:/[\$\%\@\*][^\s\w{]/,r:0}]},o={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},a=[t.BE,n,i],s=[i,t.HCM,o,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},r,{cN:"string",c:a,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[t.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[t.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+t.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[t.HCM,o,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[t.BE],r:0}]},{cN:"sub",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",r:5},{cN:"operator",b:"-\\w\\b",r:0}];return n.c=s,r.c=s,{k:e,c:s}})),hljs.registerLanguage("objectivec",(function(t){var e,n=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{k:{keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign self synchronized id nonatomic super unichar IBOutlet IBAction strong weak @private @protected @public @try @property @end @throw @catch @finally @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection UIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},l:n,i:"</",c:[t.CLCM,t.CBLCLM,t.CNM,t.QSM,{cN:"string",b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"},{cN:"preprocessor",b:"#import",e:"$",c:[{cN:"title",b:'"',e:'"'},{cN:"title",b:"<",e:">"}]},{cN:"preprocessor",b:"#",e:"$"},{cN:"class",b:"("+r.split(" ").join("|")+")\\b",e:"({|$)",k:r,l:n,c:[t.UTM]},{cN:"variable",b:"\\."+t.UIR,r:0}]}})),hljs.registerLanguage("coffeescript",(function(t){var e={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module exports global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",r=t.inherit(t.TM,{b:n}),i={cN:"subst",b:/#\{/,e:/}/,k:e},o=[t.BNM,t.inherit(t.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[t.BE]},{b:/'/,e:/'/,c:[t.BE]},{b:/"""/,e:/"""/,c:[t.BE,i]},{b:/"/,e:/"/,c:[t.BE,i]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[i,t.HCM]},{b:"//[gim]*",r:0},{b:"/\\S(\\\\.|[^\\n])*?/[gim]*(?=\\s|\\W|$)"}]},{cN:"property",b:"@"+n},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];return i.c=o,{k:e,c:o.concat([{cN:"comment",b:"###",e:"###"},t.HCM,{cN:"function",b:"("+n+"\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",e:"[-=]>",rB:!0,c:[r,{cN:"params",b:"\\(",rB:!0,c:[{b:/\(/,e:/\)/,k:e,c:["self"].concat(o)}]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[r]},r]},{cN:"attribute",b:n+":",e:":",rB:!0,eE:!0,r:0}])}})),hljs.registerLanguage("nginx",(function(t){var e={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+t.UIR}]},n={eW:!0,l:"[a-z/_]+",k:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[t.HCM,{cN:"string",c:[t.BE,e],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{cN:"url",b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0},{cN:"regexp",c:[t.BE,e],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},e]};return{c:[t.HCM,{b:t.UIR+"\\s",e:";|{",rB:!0,c:[t.inherit(t.UTM,{starts:n})],r:0}],i:"[^\\s\\}]"}})),hljs.registerLanguage("json",(function(t){var e={literal:"true false null"},n=[t.QSM,t.CNM],r={cN:"value",e:",",eW:!0,eE:!0,c:n,k:e},i={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[t.BE],i:"\\n",starts:r}],i:"\\S"},o={b:"\\[",e:"\\]",c:[t.inherit(r,{cN:null})],i:"\\S"};return n.splice(n.length,0,i,o),{c:n,k:e,i:"\\S"}})),hljs.registerLanguage("apache",(function(t){var e={cN:"number",b:"[\\$%]\\d+"};return{cI:!0,c:[t.HCM,{cN:"tag",b:"</?",e:">"},{cN:"keyword",b:/\w+/,r:0,k:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"sqbracket",b:"\\s\\[",e:"\\]$"},{cN:"cbracket",b:"[\\$%]\\{",e:"\\}",c:["self",e]},e,t.QSM]}}],i:/\S/}})),hljs.registerLanguage("scss",(function(t){var e="[a-zA-Z-][a-zA-Z0-9_-]*",n={cN:"function",b:e+"\\(",e:"\\)",c:["self",t.NM,t.ASM,t.QSM]},r={cN:"hexcolor",b:"#[0-9A-Fa-f]+"},i="attribute",o="[A-Z\\_\\.\\-]+",a=":",s=!0,u="[^\\s]",l={cN:"value",eW:!0,eE:!0,c:[n,r,t.NM,t.QSM,t.ASM,t.CBLCLM,{cN:"important",b:"!important"}]};return{cI:!0,i:"[=/|']",c:[t.CLCM,t.CBLCLM,{cN:"function",b:e+"\\(",e:"\\)",c:["self",t.NM,t.ASM,t.QSM]},{cN:"id",b:"\\#[A-Za-z0-9_-]+",r:0},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"tag",b:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",r:0},{cN:"pseudo",b:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{cN:"pseudo",b:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},{cN:"attribute",
b:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",i:"[^\\s]"},{cN:"value",b:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{cN:"value",b:":",e:";",c:[r,t.NM,t.QSM,t.ASM,{cN:"important",b:"!important"}]},{cN:"at_rule",b:"@",e:"[{;]",k:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",c:[n,t.QSM,t.ASM,r,t.NM,{cN:"preprocessor",b:"\\s[A-Za-z0-9_.-]+",r:0}]}]}})),hljs.registerLanguage("applescript",(function(t){var e=t.inherit(t.QSM,{i:""}),n={cN:"params",b:"\\(",e:"\\)",c:["self",t.CNM,e]},r=[{cN:"comment",b:"--",e:"$"},{cN:"comment",b:"\\(\\*",e:"\\*\\)",c:["self",{b:"--",e:"$"}]},t.HCM];return{k:{keyword:"about above after against and around as at back before beginning behind below beneath beside between but by considering contain contains continue copy div does eighth else end equal equals error every exit fifth first for fourth from front get given global if ignoring in into is it its last local me middle mod my ninth not of on onto or over prop property put ref reference repeat returning script second set seventh since sixth some tell tenth that the then third through thru timeout times to transaction try until where while whose with without",constant:"AppleScript false linefeed return pi quote result space tab true",type:"alias application boolean class constant date file integer list number real record string text",command:"activate beep count delay launch log offset read round run say summarize write",property:"character characters contents day frontmost id item length month name paragraph paragraphs rest reverse running time version weekday word words year"},c:[e,t.CNM,{cN:"type",b:"\\bPOSIX file\\b"},{cN:"command",b:"\\b(clipboard info|the clipboard|info for|list (disks|folder)|mount volume|path to|(close|open for) access|(get|set) eof|current date|do shell script|get volume settings|random number|set volume|system attribute|system info|time to GMT|(load|run|store) script|scripting components|ASCII (character|number)|localized string|choose (application|color|file|file name|folder|from list|remote application|URL)|display (alert|dialog))\\b|^\\s*return\\b"},{cN:"constant",b:"\\b(text item delimiters|current application|missing value)\\b"},{cN:"keyword",b:"\\b(apart from|aside from|instead of|out of|greater than|isn't|(doesn't|does not) (equal|come before|come after|contain)|(greater|less) than( or equal)?|(starts?|ends|begins?) with|contained by|comes (before|after)|a (ref|reference))\\b"},{cN:"property",b:"\\b(POSIX path|(date|time) string|quoted form)\\b"},{cN:"function_start",bK:"on",i:"[${=;\\n]",c:[t.UTM,n]}].concat(r),i:"//"}})),hljs.registerLanguage("cpp",(function(t){var e={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c"],k:e,i:"</",c:[t.CLCM,t.CBLCLM,t.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},t.CNM,{cN:"preprocessor",b:"#",e:"$",c:[{b:"include\\s*<",e:">",i:"\\n"},t.CLCM]},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:e,r:10,c:["self"]}]}})),hljs.registerLanguage("makefile",(function(t){var e={cN:"variable",b:/\$\(/,e:/\)/,c:[t.BE]};return{c:[t.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[e]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,c:[t.QSM,e]}]}})),hljs.initHighlightingOnLoad(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){function n(t){var e="length"in t&&t.length,n=K.type(t);return"function"!==n&&!K.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function r(t,e,n){if(K.isFunction(e))return K.grep(t,(function(t,r){return!!e.call(t,r,t)!==n}));if(e.nodeType)return K.grep(t,(function(t){return t===e!==n}));if("string"==typeof e){if(st.test(e))return K.filter(e,t,n);e=K.filter(e,t)}return K.grep(t,(function(t){return W.call(e,t)>=0!==n}))}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return K.each(t.match(dt)||[],(function(t,n){e[n]=!0})),e}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),K.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=K.expando+s.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xt.test(n)?K.parseJSON(n):n)}catch(t){}yt.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return Z.activeElement}catch(t){}}function h(t,e){return K.nodeName(t,"table")&&K.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=It.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)mt.set(t[n],"globalEval",!e||mt.get(e[n],"globalEval"))}function v(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),a=mt.set(e,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;r>n;n++)K.event.add(e,i,l[i][n]);yt.hasData(t)&&(s=yt.access(t),u=K.extend({},s),yt.set(e,u))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&K.nodeName(t,e)?K.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&_t.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function x(e,n){var r,i=K(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:K.css(i[0],"display");return i.detach(),o}function b(t){var e=Z,n=qt[t];return n||("none"!==(n=x(t,e))&&n||((e=(Ft=(Ft||K("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=x(t,e),Ft.detach()),qt[t]=n),n}function w(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ht(t))&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||K.contains(t.ownerDocument,t)||(a=K.style(t,e)),Ut.test(a)&&zt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xt.length;i--;)if((e=Xt[i]+n)in t)return e;return r}function _(t,e,n){var r=Vt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=K.css(t,n+Mt[o],!0,i)),r?("content"===n&&(a-=K.css(t,"padding"+Mt[o],!0,i)),"margin"!==n&&(a-=K.css(t,"border"+Mt[o]+"Width",!0,i))):(a+=K.css(t,"padding"+Mt[o],!0,i),"padding"!==n&&(a+=K.css(t,"border"+Mt[o]+"Width",!0,i)));return a}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ht(t),a="border-box"===K.css(t,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=w(t,e,o))||null==i)&&(i=t.style[e]),Ut.test(i))return i;r=a&&(Y.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(a?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)(r=t[a]).style&&(o[a]=mt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Ct(r)&&(o[a]=mt.access(r,"olddisplay",b(r.nodeName)))):(i=Ct(r),"none"===n&&i||mt.set(r,"olddisplay",i?n:K.css(r,"display"))));for(a=0;s>a;a++)(r=t[a]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function N(t,e,n,r,i){return new N.prototype.init(t,e,n,r,i)}function E(){return setTimeout((function(){Yt=void 0})),Yt=K.now()}function A(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)i["margin"+(n=Mt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function L(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function R(t,e,n){var r,i,o,a,s,u,l,c,f=this,h={},d=t.style,p=t.nodeType&&Ct(t),g=mt.get(t,"fxshow");for(r in n.queue||(null==(s=K._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,K.queue(t,"fx").length||s.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===(c="none"===(l=K.css(t,"display"))?mt.get(t,"olddisplay")||b(t.nodeName):l)&&"none"===K.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),e)if(i=e[r],Qt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}h[r]=g&&g[r]||K.style(t,r)}else l=void 0;if(K.isEmptyObject(h))"inline"===("none"===l?b(t.nodeName):l)&&(d.display=l);else for(r in g?"hidden"in g&&(p=g.hidden):g=mt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?K(t).show():f.done((function(){K(t).hide()})),f.done((function(){var e;for(e in mt.remove(t,"fxshow"),h)K.style(t,e,h[e])})),h)a=L(p?g[r]:0,r,f),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}function D(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=K.camelCase(n)],o=t[n],K.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=K.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}function j(t,e,n){var r,i,o=0,a=ee.length,s=K.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=Yt||E(),n=Math.max(0,l.startTime+l.duration-e),r,o=1-(n/l.duration||0),a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:K.extend({},e),opts:K.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Yt||E(),duration:n.duration,tweens:[],createTween:function(e,n){var r=K.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(D(c,l.opts.specialEasing);a>o;o++)if(r=ee[o].call(l,t,c,l.opts))return r;return K.map(c,L,l),K.isFunction(l.opts.start)&&l.opts.start.call(t,l),K.fx.timer(K.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(dt)||[];if(K.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function I(t,e,n,r){function i(s){var u;return o[s]=!0,K.each(t[s]||[],(function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)})),u}var o={},a=t===xe;return i(e.dataTypes[0])||!o["*"]&&i("*")}function O(t,e){var n,r,i=K.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&K.extend(!0,t,r),t}function $(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function F(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function q(t,e,n,r){var i;if(K.isArray(e))K.each(e,(function(e,i){n||_e.test(t)?r(t,i):q(t+"["+("object"==typeof i?e:"")+"]",i,n,r)}));else if(n||"object"!==K.type(e))r(t,e);else for(i in e)q(t+"["+i+"]",e[i],n,r)}function z(t){return K.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],H=U.slice,B=U.concat,V=U.push,W=U.indexOf,J={},G=J.toString,X=J.hasOwnProperty,Y={},Z=t.document,Q="2.1.4",K=function(t,e){return new K.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};K.fn=K.prototype={jquery:Q,constructor:K,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=K.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return K.each(this,t,e)},map:function(t){return this.pushStack(K.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},K.extend=K.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||K.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(r=t[e])&&(l&&r&&(K.isPlainObject(r)||(i=K.isArray(r)))?(i?(i=!1,o=n&&K.isArray(n)?n:[]):o=n&&K.isPlainObject(n)?n:{},a[e]=K.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},K.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===K.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===K.type(t)&&!t.nodeType&&!K.isWindow(t)&&!(t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=K.trim(t))&&(1===t.indexOf("use strict")?((e=Z.createElement("script")).text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&!1!==(i=e.apply(t[o],r));o++);else for(o in t)if(!1===(i=e.apply(t[o],r)))break}else if(s)for(;a>o&&!1!==(i=e.call(t[o],o,t[o]));o++);else for(o in t)if(!1===(i=e.call(t[o],o,t[o])))break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?K.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:W.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)(r=!e(t[o],o))!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s,u=[];if(n(t))for(;a>o;o++)null!=(i=e(t[o],o,r))&&u.push(i);else for(o in t)null!=(i=e(t[o],o,r))&&u.push(i);return B.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),K.isFunction(t)?(r=H.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(H.call(arguments)))}).guid=t.guid=t.guid||K.guid++,i):void 0},now:Date.now,support:Y}),K.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){J["[object "+e+"]"]=e.toLowerCase()}));var it=function(t){function e(t,e,n,r){var i,o,a,s,u,l,f,d,p,g;if((e?e.ownerDocument||e:q)!==R&&L(e),n=n||[],s=(e=e||R).nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&j){if(11!==s&&(i=yt.exec(t)))if(a=i[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&$(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(a)),n}if(w.qsa&&(!P||!P.test(t))){if(d=f=F,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=S(t),(f=e.getAttribute("id"))?d=f.replace(bt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+h(l[u]);p=xt.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(t){}finally{f||e.removeAttribute("id")}}}return T(t.replace(ut,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>M.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[F]=!0,t}function i(t){var e=R.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)M.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n;return"input"===e.nodeName.toLowerCase()&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r((function(e){return e=+e,r((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function c(t){return t&&void 0!==t.getElementsByTagName&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,l=[z,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((s=(u=e[F]||(e[F]={}))[r])&&s[0]===z&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),l&&e.push(s));return a}function m(t,e,n,i,o,a){return i&&!i[F]&&(i=m(i)),o&&!o[F]&&(o=m(o,a)),r((function(r,a,s,u){var l,c,f,h=[],d=[],p=a.length,m=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?m:v(m,h,t,s,u),x=n?o||(r?t:p||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||t){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?tt(r,f):h[c])>-1&&(r[l]=!(a[l]=f))}}else x=v(x===a?x.splice(p,x.length):x),o?o(null,a,x,u):Q.apply(a,x)}))}function y(t){for(var e,n,r,i=t.length,o=M.relative[t[0].type],a=o||M.relative[" "],s=o?1:0,u=d((function(t){return t===e}),a,!0),l=d((function(t){return tt(e,t)>-1}),a,!0),c=[function(t,n,r){var i=!o&&(r||n!==N)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];i>s;s++)if(n=M.relative[t[s].type])c=[d(p(c),n)];else{if((n=M.filter[t[s].type].apply(null,t[s].matches))[F]){for(r=++s;i>r&&!M.relative[t[r].type];r++);return m(s>1&&p(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&h(t))}c.push(n)}return p(c)}function x(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,f,h,d=0,p="0",g=r&&[],m=[],y=N,x=r||o&&M.find.TAG("*",l),b=z+=null==y?1:Math.random()||.1,w=x.length;for(l&&(N=a!==R&&a);p!==w&&null!=(c=x[p]);p++){if(o&&c){for(f=0;h=t[f++];)if(h(c,a,s)){u.push(c);break}l&&(z=b)}i&&((c=!h&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(g,m,a,s);if(r){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=Y.call(u));m=v(m)}Q.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(z=b,N=y),g};return i?r(a):a}var b,w,M,C,_,S,k,T,N,E,A,L,R,D,j,P,I,O,$,F="sizzle"+1*new Date,q=t.document,z=0,U=0,H=n(),B=n(),V=n(),W=function(t,e){return t===e&&(A=!0),0},J=1<<31,G={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,Q=X.push,K=X.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ft=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Mt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{Q.apply(X=K.call(q.childNodes),q.childNodes),X[q.childNodes.length].nodeType}catch(t){Q={apply:X.length?function(t,e){Z.apply(t,K.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}for(b in w=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},L=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:q;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,D=r.documentElement,(n=r.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),j=!_(r),w.attributes=i((function(t){return t.className="i",!t.getAttribute("className")})),w.getElementsByTagName=i((function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length})),w.getElementsByClassName=mt.test(r.getElementsByClassName),w.getById=i((function(t){return D.appendChild(t).id=F,!r.getElementsByName||!r.getElementsByName(F).length})),w.getById?(M.find.ID=function(t,e){if(void 0!==e.getElementById&&j){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},M.filter.ID=function(t){var e=t.replace(wt,Mt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(wt,Mt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),M.find.TAG=w.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},M.find.CLASS=w.getElementsByClassName&&function(t,e){return j?e.getElementsByClassName(t):void 0},I=[],P=[],(w.qsa=mt.test(r.querySelectorAll))&&(i((function(t){D.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")})),i((function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")}))),(w.matchesSelector=mt.test(O=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i((function(t){w.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),I.push("!=",at)})),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),e=mt.test(D.compareDocumentPosition),$=e||mt.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===q&&$(q,t)?-1:e===r||e.ownerDocument===q&&$(q,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:E?tt(E,t)-tt(E,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===q?-1:l[i]===q?1:0},r):R},e.matches=function(t,n){return e(t,null,null,n)},
e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&L(t),n=n.replace(ft,"='$1']"),!(!w.matchesSelector||!j||I&&I.test(n)||P&&P.test(n)))try{var r=O.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&L(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&L(t);var n=M.attrHandle[e.toLowerCase()],r=n&&G.call(M.attrHandle,e.toLowerCase())?n(t,e,!j):void 0;return void 0!==r?r:w.attributes||!j?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!w.detectDuplicates,E=!w.sortStable&&t.slice(0),t.sort(W),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return E=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},(M=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,Mt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,Mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,Mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(s?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(d=(l=(c=v[F]||(v[F]={}))[t]||[])[0]===z&&l[1],h=l[0]===z&&l[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===e){c[t]=[z,d,h];break}}else if(y&&(l=(e[F]||(e[F]={}))[t])&&l[0]===z)h=l[1];else for(;(f=++d&&f&&f[g]||(h=d=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++h||(y&&((f[F]||(f[F]={}))[t]=[z,h]),f!==e)););return(h-=i)===r||h%r==0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(i=[t,t,"",n],M.setFilters.hasOwnProperty(t.toLowerCase())?r((function(t,e){for(var r,i=o(t,n),a=i.length;a--;)t[r=tt(t,i[a])]=!(e[r]=i[a])})):function(t){return o(t,0,i)}):o}},pseudos:{not:r((function(t){var e=[],n=[],i=k(t.replace(ut,"$1"));return i[F]?r((function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:r((function(t){return function(n){return e(t,n).length>0}})),contains:r((function(t){return t=t.replace(wt,Mt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}})),lang:r((function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,Mt).toLowerCase(),function(e){var n;do{if(n=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l((function(){return[0]})),last:l((function(t,e){return[e-1]})),eq:l((function(t,e,n){return[0>n?n+e:n]})),even:l((function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t})),odd:l((function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t})),lt:l((function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t})),gt:l((function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=M.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=u(b);return f.prototype=M.filters=M.pseudos,M.setFilters=new f,S=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=B[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=M.preFilter;s;){for(a in(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length)),M.filter)!(i=pt[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):B(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)(o=y(e[n]))[F]?r.push(o):i.push(o);(o=V(t,x(i,r))).selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,f=!r&&S(t=l.selector||t);if(n=n||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&w.getById&&9===e.nodeType&&j&&M.relative[o[1].type]){if(!(e=(M.find.ID(a.matches[0].replace(wt,Mt),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!M.relative[s=a.type]);)if((u=M.find[s])&&(r=u(a.matches[0].replace(wt,Mt),xt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return Q.apply(n,r),n;break}}return(l||k(t,f))(r,e,!j,n,xt.test(t)&&c(e.parentNode)||e),n},w.sortStable=F.split("").sort(W).join("")===F,w.detectDuplicates=!!A,L(),w.sortDetached=i((function(t){return 1&t.compareDocumentPosition(R.createElement("div"))})),i((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||o("type|href|height|width",(function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),w.attributes&&i((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||o("value",(function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue})),i((function(t){return null==t.getAttribute("disabled")}))||o(et,(function(t,e,n){var r;return n?void 0:!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),e}(t);K.find=it,K.expr=it.selectors,K.expr[":"]=K.expr.pseudos,K.unique=it.uniqueSort,K.text=it.getText,K.isXMLDoc=it.isXML,K.contains=it.contains;var ot=K.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;K.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?K.find.matchesSelector(r,t)?[r]:[]:K.find.matches(t,K.grep(e,(function(t){return 1===t.nodeType})))},K.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(K(t).filter((function(){for(e=0;n>e;e++)if(K.contains(i[e],this))return!0})));for(e=0;n>e;e++)K.find(t,i[e],r);return(r=this.pushStack(n>1?K.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?K(t):t||[],!1).length}});var ut,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct;(K.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t))||!n[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof K?e[0]:e,K.merge(this,K.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),at.test(n[1])&&K.isPlainObject(e))for(n in e)K.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=Z.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):K.isFunction(t)?void 0!==ut.ready?ut.ready(t):t(K):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),K.makeArray(t,this))}).prototype=K.fn,ut=K(Z);var ft=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};K.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&K(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),K.fn.extend({has:function(t){var e=K(t,this),n=e.length;return this.filter((function(){for(var t=0;n>t;t++)if(K.contains(this,e[t]))return!0}))},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ot.test(t)||"string"!=typeof t?K(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&K.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?K.unique(o):o)},index:function(t){return t?"string"==typeof t?W.call(K(t),this[0]):W.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(K.unique(K.merge(this.get(),K(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),K.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return K.dir(t,"parentNode")},parentsUntil:function(t,e,n){return K.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return K.dir(t,"nextSibling")},prevAll:function(t){return K.dir(t,"previousSibling")},nextUntil:function(t,e,n){return K.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return K.dir(t,"previousSibling",n)},siblings:function(t){return K.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return K.sibling(t.firstChild)},contents:function(t){return t.contentDocument||K.merge([],t.childNodes)}},(function(t,e){K.fn[t]=function(n,r){var i=K.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=K.filter(r,i)),this.length>1&&(ht[t]||K.unique(i),ft.test(t)&&i.reverse()),this.pushStack(i)}}));var dt=/\S+/g,pt={},gt;K.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):K.extend({},t);var e,n,r,i,a,s,u=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(!1===u[s].apply(o[0],o[1])&&t.stopOnFalse){e=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function e(n){K.each(n,(function(n,r){var i=K.type(r);"function"===i?t.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&e(r)}))}(arguments),r?a=u.length:e&&(i=n,c(e))}return this},remove:function(){return u&&K.each(arguments,(function(t,e){for(var n;(n=K.inArray(e,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)})),this},has:function(t){return t?K.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||f.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=[t,(e=e||[]).slice?e.slice():e],r?l.push(e):c(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},K.extend({Deferred:function(t){var e=[["resolve","done",K.Callbacks("once memory"),"resolved"],["reject","fail",K.Callbacks("once memory"),"rejected"],["notify","progress",K.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return K.Deferred((function(n){K.each(e,(function(e,o){var a=K.isFunction(t[e])&&t[e];i[o[1]]((function(){var t=a&&a.apply(this,arguments);t&&K.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?K.extend(t,r):r}},i={};return r.pipe=r.then,K.each(e,(function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add((function(){n=s}),e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),t&&t.call(i,i),i},when:function(t){var e=0,n=H.call(arguments),r=n.length,i=1!==r||t&&K.isFunction(t.promise)?r:0,o=1===i?t:K.Deferred(),a=function(t,e,n){return function(r){e[t]=this,n[t]=arguments.length>1?H.call(arguments):r,n===s?o.notifyWith(e,n):--i||o.resolveWith(e,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>e;e++)n[e]&&K.isFunction(n[e].promise)?n[e].promise().done(a(e,l,n)).fail(o.reject).progress(a(e,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),K.fn.ready=function(t){return K.ready.promise().done(t),this},K.extend({isReady:!1,readyWait:1,holdReady:function(t){t?K.readyWait++:K.ready(!0)},ready:function(t){(!0===t?--K.readyWait:K.isReady)||(K.isReady=!0,!0!==t&&--K.readyWait>0||(gt.resolveWith(Z,[K]),K.fn.triggerHandler&&(K(Z).triggerHandler("ready"),K(Z).off("ready"))))}}),K.ready.promise=function(e){return gt||(gt=K.Deferred(),"complete"===Z.readyState?setTimeout(K.ready):(Z.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},K.ready.promise();var vt=K.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===K.type(n))for(s in i=!0,n)K.access(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,K.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(K(t),n)})),e))for(;u>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o};K.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=K.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,K.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(K.isEmptyObject(o))K.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(r=this.get(t,e))?r:this.get(t,K.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{K.isArray(e)?r=e.concat(e.map(K.camelCase)):(i=K.camelCase(e),e in a?r=[e,i]:r=(r=i)in a?[r]:r.match(dt)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!K.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new s,yt=new s,xt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;K.extend({hasData:function(t){return yt.hasData(t)||mt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return mt.access(t,e,n)},_removeData:function(t,e){mt.remove(t,e)}}),K.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=K.camelCase(r.slice(5)),u(o,r,i[r])));mt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){yt.set(this,t)})):vt(this,(function(e){var n,r=K.camelCase(t);if(o&&void 0===e){if(void 0!==(n=yt.get(o,t)))return n;if(void 0!==(n=yt.get(o,r)))return n;if(void 0!==(n=u(o,r,void 0)))return n}else this.each((function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){yt.remove(this,t)}))}}),K.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=mt.get(t,e),n&&(!r||K.isArray(n)?r=mt.access(t,e,K.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=K.queue(t,e),r=n.length,i=n.shift(),o=K._queueHooks(t,e),a=function(){K.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return mt.get(t,n)||mt.access(t,n,{empty:K.Callbacks("once memory").add((function(){mt.remove(t,[e+"queue",n])}))})}}),K.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?K.queue(this[0],t):void 0===e?this:this.each((function(){var n=K.queue(this,t,e);K._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&K.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){K.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=K.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=mt.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=["Top","Right","Bottom","Left"],Ct=function(t,e){return t=e||t,"none"===K.css(t,"display")||!K.contains(t.ownerDocument,t)},_t=/^(?:checkbox|radio)$/i;!function(){var t,e=Z.createDocumentFragment().appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var St="undefined";Y.focusinBubbles="onfocusin"in t;var kt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\.(.+)|)$/;K.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,v=mt.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=K.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return typeof K!==St&&K.event.triggered!==e.type?K.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(dt)||[""]).length;l--;)d=g=(s=Et.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d&&(f=K.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=K.event.special[d]||{},c=K.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&K.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||((h=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(d,a,!1)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),K.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,f,h,d,p,g,v=mt.hasData(t)&&mt.get(t);if(v&&(u=v.events)){for(l=(e=(e||"").match(dt)||[""]).length;l--;)if(d=g=(s=Et.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),d){for(f=K.event.special[d]||{},h=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||K.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)K.event.remove(t,d+e[l],n,r,!0);K.isEmptyObject(u)&&(delete v.handle,mt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,l,c,f,h=[r||Z],d=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(d+K.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,(e=e[K.expando]?e:new K.Event(d,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:K.makeArray(n,[e]),f=K.event.special[d]||{},i||!f.trigger||!1!==f.trigger.apply(r,n))){if(!i&&!f.noBubble&&!K.isWindow(r)){for(u=f.delegateType||d,Nt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(r.ownerDocument||Z)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||d,(c=(mt.get(a,"events")||{})[e.type]&&mt.get(a,"handle"))&&c.apply(a,n),(c=l&&a[l])&&c.apply&&K.acceptData(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(h.pop(),n)||!K.acceptData(r)||l&&K.isFunction(r[d])&&!K.isWindow(r)&&((s=r[l])&&(r[l]=null),K.event.triggered=d,r[d](),K.event.triggered=void 0,s&&(r[l]=s)),e.result}},dispatch:function(t){t=K.event.fix(t);var e,n,r,i,o,a=[],s=H.call(arguments),u=(mt.get(this,"events")||{})[t.type]||[],l=K.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=K.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,void 0!==(r=((K.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==t.type){for(r=[],n=0;s>n;n++)void 0===r[i=(o=e[n]).selector+" "]&&(r[i]=o.needsContext?K(i,this).index(u)>=0:K.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||Z).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[K.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Tt.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new K.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&K.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return K.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=K.extend(new K.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?K.event.trigger(i,null,e):K.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},K.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},K.Event=function(t,e){return this instanceof K.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?l:c):this.type=t,e&&K.extend(this,e),this.timeStamp=t&&t.timeStamp||K.now(),void(this[K.expando]=!0)):new K.Event(t,e)},K.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},K.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){K.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!K.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),Y.focusinBubbles||K.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){K.event.simulate(e,t.target,K.event.fix(t),!0)};K.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=mt.access(r,e);i||r.addEventListener(t,n,!0),mt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=mt.access(r,e)-1;i?mt.access(r,e,i):(r.removeEventListener(t,n,!0),mt.remove(r,e))}}})),K.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){for(a in"string"!=typeof e&&(n=n||e,e=void 0),t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!1===r)r=c;else if(!r)return this;return 1===i&&(o=r,(r=function(t){return K().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=K.guid++)),this.each((function(){K.event.add(this,t,r,n,e)}))},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,K(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=c),this.each((function(){K.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){K.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];return n?K.event.trigger(t,e,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Lt=/<([\w:]+)/,Rt=/<|&#?\w+;/,Dt=/<(?:script|style|link)/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,K.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=K.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||K.isXMLDoc(t)))for(a=m(s),r=0,i=(o=m(t)).length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||m(t),a=a||m(s),r=0,i=o.length;i>r;r++)v(o[r],a[r]);else v(t,s);return(a=m(s,"script")).length>0&&g(a,!u&&m(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,l,c=e.createDocumentFragment(),f=[],h=0,d=t.length;d>h;h++)if((i=t[h])||0===i)if("object"===K.type(i))K.merge(f,i.nodeType?[i]:i);else if(Rt.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(Lt.exec(i)||["",""])[1].toLowerCase(),s=$t[a]||$t._default,o.innerHTML=s[1]+i.replace(At,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;K.merge(f,o.childNodes),(o=c.firstChild).textContent=""}else f.push(e.createTextNode(i));for(c.textContent="",h=0;i=f[h++];)if((!r||-1===K.inArray(i,r))&&(u=K.contains(i.ownerDocument,i),o=m(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Pt.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=K.event.special,a=0;void 0!==(n=t[a]);a++){if(K.acceptData(n)&&((i=n[mt.expando])&&(e=mt.cache[i]))){if(e.events)for(r in e.events)o[r]?K.event.remove(n,r):K.removeEvent(n,r,e.handle);mt.cache[i]&&delete mt.cache[i]}delete yt.cache[n[yt.expando]]}}}),K.fn.extend({text:function(t){return vt(this,(function(t){return void 0===t?K.text(this):this.empty().each((function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return this.domManip(arguments,(function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||h(this,t).appendChild(t)}))},prepend:function(){return this.domManip(arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},remove:function(t,e){for(var n,r=t?K.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||K.cleanData(m(n)),n.parentNode&&(e&&K.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(K.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return K.clone(this,t,e)}))},html:function(t){return vt(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!$t[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(At,"<$1></$2>");try{for(;r>n;n++)1===(e=this[n]||{}).nodeType&&(K.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},
replaceWith:function(){var t=arguments[0];return this.domManip(arguments,(function(e){t=this.parentNode,K.cleanData(m(this)),t&&t.replaceChild(e,this)})),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=B.apply([],t);var n,r,i,o,a,s,u=0,l=this.length,c=this,f=l-1,h=t[0],g=K.isFunction(h);if(g||l>1&&"string"==typeof h&&!Y.checkClone&&jt.test(h))return this.each((function(n){var r=c.eq(n);g&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)}));if(l&&(r=(n=K.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=K.map(m(n,"script"),d)).length;l>u;u++)a=n,u!==f&&(a=K.clone(a,!0,!0),o&&K.merge(i,m(a,"script"))),e.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,K.map(i,p),u=0;o>u;u++)a=i[u],Pt.test(a.type||"")&&!mt.access(a,"globalEval")&&K.contains(s,a)&&(a.src?K._evalUrl&&K._evalUrl(a.src):K.globalEval(a.textContent.replace(Ot,"")))}return this}}),K.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){K.fn[t]=function(t){for(var n,r=[],i=K(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),K(i[a])[e](n),V.apply(r,n.get());return this.pushStack(r)}}));var Ft,qt={},zt=/^margin/,Ut=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Ht=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){var e,n,r=Z.documentElement,i=Z.createElement("div"),o=Z.createElement("div");if(o.style){function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=t.getComputedStyle(o,null);e="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),t.getComputedStyle&&K.extend(Y,{pixelPosition:function(){return a(),e},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var e,n=o.appendChild(Z.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),e=!parseFloat(t.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),e}})}}(),K.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};var Bt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+wt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+wt+")","i"),Jt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];K.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=K.camelCase(e),u=t.style;return e=K.cssProps[s]||(K.cssProps[s]=C(u,s)),a=K.cssHooks[e]||K.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:("string"===(o=typeof n)&&(i=Wt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(K.css(t,e)),o="number"),void(null!=n&&n==n&&("number"!==o||K.cssNumber[s]||(n+="px"),Y.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n))))}},css:function(t,e,n,r){var i,o,a,s=K.camelCase(e);return e=K.cssProps[s]||(K.cssProps[s]=C(t.style,s)),(a=K.cssHooks[e]||K.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Gt&&(i=Gt[e]),""===n||n?(o=parseFloat(i),!0===n||K.isNumeric(o)?o||0:i):i}}),K.each(["height","width"],(function(t,e){K.cssHooks[e]={get:function(t,n,r){return n?Bt.test(K.css(t,"display"))&&0===t.offsetWidth?K.swap(t,Jt,(function(){return k(t,e,r)})):k(t,e,r):void 0},set:function(t,n,r){var i=r&&Ht(t);return _(t,n,r?S(t,e,r,"border-box"===K.css(t,"boxSizing",!1,i),i):0)}}})),K.cssHooks.marginRight=M(Y.reliableMarginRight,(function(t,e){return e?K.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0})),K.each({margin:"",padding:"",border:"Width"},(function(t,e){K.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Mt[r]+e]=o[r]||o[r-2]||o[0];return i}},zt.test(t)||(K.cssHooks[t+e].set=_)})),K.fn.extend({css:function(t,e){return vt(this,(function(t,e,n){var r,i,o={},a=0;if(K.isArray(e)){for(r=Ht(t),i=e.length;i>a;a++)o[e[a]]=K.css(t,e[a],!1,r);return o}return void 0!==n?K.style(t,e,n):K.css(t,e)}),t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){Ct(this)?K(this).show():K(this).hide()}))}}),K.Tween=N,N.prototype={constructor:N,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(K.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=K.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=K.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){K.fx.step[t.prop]?K.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[K.cssProps[t.prop]]||K.cssHooks[t.prop])?K.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},K.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},K.fx=N.prototype.init,K.fx.step={};var Yt,Zt,Qt=/^(?:toggle|show|hide)$/,Kt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[R],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Kt.exec(e),o=i&&i[3]||(K.cssNumber[t]?"":"px"),a=(K.cssNumber[t]||"px"!==o&&+r)&&Kt.exec(K.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",K.style(n.elem,t,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};K.Animation=K.extend(j,{tweener:function(t,e){K.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),K.speed=function(t,e,n){var r=t&&"object"==typeof t?K.extend({},t):{complete:n||!n&&e||K.isFunction(t)&&t,duration:t,easing:n&&e||e&&!K.isFunction(e)&&e};return r.duration=K.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in K.fx.speeds?K.fx.speeds[r.duration]:K.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){K.isFunction(r.old)&&r.old.call(this),r.queue&&K.dequeue(this,r.queue)},r},K.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=K.isEmptyObject(t),o=K.speed(e,n,r),a=function(){var e=j(this,K.extend({},t),o);(i||mt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=K.timers,a=mt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&te.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&K.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=mt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=K.timers,a=r?r.length:0;for(n.finish=!0,K.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),K.each(["toggle","show","hide"],(function(t,e){var n=K.fn[e];K.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(A(e,!0),t,r,i)}})),K.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){K.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),K.timers=[],K.fx.tick=function(){var t,e=0,n=K.timers;for(Yt=K.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||K.fx.stop(),Yt=void 0},K.fx.timer=function(t){K.timers.push(t),t()?K.fx.start():K.timers.pop()},K.fx.interval=13,K.fx.start=function(){Zt||(Zt=setInterval(K.fx.tick,K.fx.interval))},K.fx.stop=function(){clearInterval(Zt),Zt=null},K.fx.speeds={slow:600,fast:200,_default:400},K.fn.delay=function(t,e){return t=K.fx&&K.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}}))},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",Y.checkOn=""!==t.value,Y.optSelected=n.selected,e.disabled=!0,Y.optDisabled=!n.disabled,(t=Z.createElement("input")).value="t",t.type="radio",Y.radioValue="t"===t.value}();var re,ie,oe=K.expr.attrHandle;K.fn.extend({attr:function(t,e){return vt(this,K.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){K.removeAttr(this,t)}))}}),K.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===St?K.prop(t,e,n):(1===o&&K.isXMLDoc(t)||(e=e.toLowerCase(),r=K.attrHooks[e]||(K.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=K.find.attr(t,e))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void K.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;n=o[i++];)r=K.propFix[n]||n,K.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&K.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return!1===e?K.removeAttr(t,n):t.setAttribute(n,n),n}},K.each(K.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=oe[e]||K.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}}));var ae=/^(?:input|select|textarea|button)$/i;K.fn.extend({prop:function(t,e){return vt(this,K.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[K.propFix[t]||t]}))}}),K.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return(o=1!==a||!K.isXMLDoc(t))&&(e=K.propFix[e]||e,i=K.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(K.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),K.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){K.propFix[this.toLowerCase()]=this}));var se=/[\t\r\n\f]/g;K.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,l=this.length;if(K.isFunction(t))return this.each((function(e){K(this).addClass(t.call(this,e,this.className))}));if(s)for(e=(t||"").match(dt)||[];l>u;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=K.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(K.isFunction(t))return this.each((function(e){K(this).removeClass(t.call(this,e,this.className))}));if(s)for(e=(t||"").match(dt)||[];l>u;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?K.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(K.isFunction(t)?function(n){K(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=K(this),o=t.match(dt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===St||"boolean"===n)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var ue=/\r/g;K.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=K.isFunction(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,K(this).val()):t)?i="":"number"==typeof i?i+="":K.isArray(i)&&(i=K.map(i,(function(t){return null==t?"":t+""}))),(e=K.valHooks[this.type]||K.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=K.valHooks[i.type]||K.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ue,""):null==n?"":n:void 0}}),K.extend({valHooks:{option:{get:function(t){var e=K.find.attr(t,"value");return null!=e?e:K.trim(K.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(!(!(n=r[u]).selected&&u!==i||(Y.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&K.nodeName(n.parentNode,"optgroup"))){if(e=K(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=K.makeArray(e),a=i.length;a--;)((r=i[a]).selected=K.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),K.each(["radio","checkbox"],(function(){K.valHooks[this]={set:function(t,e){return K.isArray(e)?t.checked=K.inArray(K(t).val(),e)>=0:void 0}},Y.checkOn||(K.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),K.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){K.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),K.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var le=K.now(),ce=/\?/;K.parseJSON=function(t){return JSON.parse(t+"")},K.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(n=new DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&K.error("Invalid XML: "+t),e};var fe=/#.*$/,he=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,ve=/^\/\//,me=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},xe={},be="*/".concat("*"),we=t.location.href,Me=me.exec(we.toLowerCase())||[];K.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:pe.test(Me[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":K.parseJSON,"text xml":K.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?O(O(t,K.ajaxSettings),e):O(K.ajaxSettings,t)},ajaxPrefilter:P(ye),ajaxTransport:P(xe),ajax:function(t,e){function n(t,e,n,a){var u,c,m,y,b,M=e;2!==x&&(x=2,s&&clearTimeout(s),r=void 0,o=a||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=$(f,w,n)),y=F(f,y,w,u),u?(f.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(K.lastModified[i]=b),(b=w.getResponseHeader("etag"))&&(K.etag[i]=b)),204===t||"HEAD"===f.type?M="nocontent":304===t?M="notmodified":(M=y.state,c=y.data,u=!(m=y.error))):(m=M,(t||!M)&&(M="error",0>t&&(t=0))),w.status=t,w.statusText=(e||M)+"",u?p.resolveWith(h,[c,M,w]):p.rejectWith(h,[w,M,m]),w.statusCode(v),v=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:m]),g.fireWith(h,[w,M]),l&&(d.trigger("ajaxComplete",[w,f]),--K.active||K.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,l,c,f=K.ajaxSetup({},e),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?K(h):K.event,p=K.Deferred(),g=K.Callbacks("once memory"),v=f.statusCode||{},m={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=de.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||we)+"").replace(fe,"").replace(ve,Me[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=K.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=me.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Me[1]&&u[2]===Me[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Me[3]||("http:"===Me[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=K.param(f.data,f.traditional)),I(ye,f,e,w),2===x)return w;for(c in(l=K.event&&f.global)&&0==K.active++&&K.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ge.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ce.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=he.test(i)?i.replace(he,"$1_="+le++):i+(ce.test(i)?"&":"?")+"_="+le++)),f.ifModified&&(K.lastModified[i]&&w.setRequestHeader("If-Modified-Since",K.lastModified[i]),K.etag[i]&&w.setRequestHeader("If-None-Match",K.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+be+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(h,w,f)||2===x))return w.abort();for(c in b="abort",{success:1,error:1,complete:1})w[c](f[c]);if(r=I(xe,f,e,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout((function(){w.abort("timeout")}),f.timeout));try{x=1,r.send(m,n)}catch(t){if(!(2>x))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return K.get(t,e,n,"json")},getScript:function(t,e){return K.get(t,void 0,e,"script")}}),K.each(["get","post"],(function(t,e){K[e]=function(t,n,r,i){return K.isFunction(n)&&(i=i||r,r=n,n=void 0),K.ajax({url:t,type:e,dataType:i,data:n,success:r})}})),K._evalUrl=function(t){return K.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},K.fn.extend({wrapAll:function(t){var e;return K.isFunction(t)?this.each((function(e){K(this).wrapAll(t.call(this,e))})):(this[0]&&(e=K(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(t){return this.each(K.isFunction(t)?function(e){K(this).wrapInner(t.call(this,e))}:function(){var e=K(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=K.isFunction(t);return this.each((function(n){K(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){K.nodeName(this,"body")||K(this).replaceWith(this.childNodes)})).end()}}),K.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},K.expr.filters.visible=function(t){return!K.expr.filters.hidden(t)};var Ce=/%20/g,_e=/\[\]$/,Se=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;K.param=function(t,e){var n,r=[],i=function(t,e){e=K.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=K.ajaxSettings&&K.ajaxSettings.traditional),K.isArray(t)||t.jquery&&!K.isPlainObject(t))K.each(t,(function(){i(this.name,this.value)}));else for(n in t)q(n,t[n],e,i);return r.join("&").replace(Ce,"+")},K.fn.extend({serialize:function(){return K.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=K.prop(this,"elements");return t?K.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!K(this).is(":disabled")&&Te.test(this.nodeName)&&!ke.test(t)&&(this.checked||!_t.test(t))})).map((function(t,e){var n=K(this).val();return null==n?null:K.isArray(n)?K.map(n,(function(t){return{name:e.name,value:t.replace(Se,"\r\n")}})):{name:e.name,value:n.replace(Se,"\r\n")}})).get()}}),K.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ne=0,Ee={},Ae={0:200,1223:204},Le=K.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",(function(){for(var t in Ee)Ee[t]()})),Y.cors=!!Le&&"withCredentials"in Le,Y.ajax=Le=!!Le,K.ajaxTransport((function(t){var e;return Y.cors||Le&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++Ne;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];for(i in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ee[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Ae[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ee[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}:void 0})),K.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return K.globalEval(t),t}}}),K.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),K.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=K("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Re=[],De=/(=)\?(?=&|$)|\?\?/;K.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Re.pop()||K.expando+"_"+le++;return this[t]=!0,t}}),K.ajaxPrefilter("json jsonp",(function(e,n,r){var i,o,a,s=!1!==e.jsonp&&(De.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=K.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(De,"$1"+i):!1!==e.jsonp&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||K.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always((function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Re.push(i)),a&&K.isFunction(o)&&o(a[0]),a=o=void 0})),"script"):void 0})),K.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var r=at.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=K.buildFragment([t],e,i),i&&i.length&&K(i).remove(),K.merge([],r.childNodes))};var je=K.fn.load;K.fn.load=function(t,e,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=K.trim(t.slice(s)),t=t.slice(0,s)),K.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&K.ajax({url:t,type:i,dataType:"html",data:e}).done((function(t){o=arguments,a.html(r?K("<div>").append(K.parseHTML(t)).find(r):t)})).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},K.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){K.fn[e]=function(t){return this.on(e,t)}})),K.expr.filters.animated=function(t){return K.grep(K.timers,(function(e){return t===e.elem})).length};var Pe=t.document.documentElement;K.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=K.css(t,"position"),f=K(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=K.css(t,"top"),u=K.css(t,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),K.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+i),"using"in e?e.using.call(t,h):f.css(h)}},K.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){K.offset.setOffset(this,t,e)}));var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,K.contains(e,r)?(typeof r.getBoundingClientRect!==St&&(i=r.getBoundingClientRect()),n=z(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===K.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),K.nodeName(t[0],"html")||(r=t.offset()),r.top+=K.css(t[0],"borderTopWidth",!0),r.left+=K.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-K.css(n,"marginTop",!0),left:e.left-r.left-K.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||Pe;t&&!K.nodeName(t,"html")&&"static"===K.css(t,"position");)t=t.offsetParent;return t||Pe}))}}),K.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,n){var r="pageYOffset"===n;K.fn[e]=function(i){return vt(this,(function(e,i,o){var a=z(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)}),e,i,arguments.length,null)}})),K.each(["top","left"],(function(t,e){K.cssHooks[e]=M(Y.pixelPosition,(function(t,n){return n?(n=w(t,e),Ut.test(n)?K(t).position()[e]+"px":n):void 0}))})),K.each({Height:"height",Width:"width"},(function(t,e){K.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){K.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return vt(this,(function(e,n,r){var i;return K.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?K.css(e,n,a):K.style(e,n,r,a)}),e,o?r:void 0,o,null)}}))})),K.fn.size=function(){return this.length},K.fn.andSelf=K.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return K}));var Ie=t.jQuery,Oe=t.$;return K.noConflict=function(e){return t.$===K&&(t.$=Oe),e&&t.jQuery===K&&(t.jQuery=Ie),K},typeof e===St&&(t.jQuery=t.$=K),K})),function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function e(t){return null===t?NaN:+t}function n(t){return!isNaN(t)}function r(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function i(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function s(){this._=Object.create(null)}function u(t){return(t+="")===ua||t[0]===la?la+t:t}function l(t){return(t+="")[0]===la?t.slice(1):t}function c(t){return u(t)in this._}function f(t){return(t=u(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(l(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function v(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function m(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ca.length;r>n;++n){var i=ca[n]+e;if(i in t)return i}}function y(){}function x(){}function b(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function w(){Xo.event.preventDefault()}function M(){for(var t,e=Xo.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=b(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Xo.event;i.target=t,Xo.event=i,e[i.type].apply(n,r)}finally{Xo.event=o}}},e}function _(t){return ha(t,ma),t}function S(t){return"function"==typeof t?t:function(){return da(t,this)}}function k(t){return"function"==typeof t?t:function(){return pa(t,this)}}function T(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Xo.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function N(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+Xo.requote(t)+"(?:\\s+|$)","g")}function A(t){return(t+"").trim().split(/^|\s+/)}function L(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}var i=(t=A(t).map(R)).length;return"function"==typeof e?r:n}function R(t){var e=E(t)
;return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",N(i+" "+t))):n.setAttribute("class",N(i.replace(e," ")))}}function D(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function j(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function P(t){return"function"==typeof t?t:(t=Xo.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function I(t){return{__data__:t}}function O(t){return function(){return va(this,t)}}function $(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function F(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function q(t){return ha(t,xa),t}function z(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function U(){var t=this.__transition__;t&&++t.active}function H(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,Zo(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+Xo.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=B;s>0&&(t=t.slice(0,s));var l=wa.get(t);return l&&(t=l,u=V),s?e?i:r:e?y:o}function B(t,e){return function(n){var r=Xo.event;Xo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Xo.event=r}}}function V(t,e){var n=B(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function W(){var t=".dragsuppress-"+ ++Ca,e="click"+t,n=Xo.select(ta).on("touchmove"+t,w).on("dragstart"+t,w).on("selectstart"+t,w);if(Ma){var r=Ko.style,i=r[Ma];r[Ma]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),Ma&&(r[Ma]=i),o&&(n.on(e,(function(){w(),a()}),!0),setTimeout(a,0))}}function J(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>_a&&(ta.scrollX||ta.scrollY)){var i=(n=Xo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_a=!(i.f||i.e),n.remove()}return _a?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function G(){return Xo.event.changedTouches[0].identifier}function X(){return Xo.event.target}function Y(){return ta}function Z(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function K(t){return t>1?0:-1>t?Sa:Math.acos(t)}function tt(t){return t>1?Ta:-1>t?-Ta:Math.asin(t)}function et(t){return((t=Math.exp(t))-1/t)/2}function nt(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function it(t){return(t=Math.sin(t/2))*t}function ot(){}function at(t,e,n){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):bt(""+t,wt,at):new at(t,e,n)}function st(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||0>e?0:e>1?1:e,o=2*(n=0>n?0:n>1?1:n)-(a=.5>=n?n*(1+e):n+e-n*e),new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):ht(t instanceof ct?t.l:(t=Mt((t=Xo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function lt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ct(n,Math.cos(t*=Aa)*e,Math.sin(t)*e)}function ct(t,e,n){return this instanceof ct?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ct?new ct(t.l,t.a,t.b):t instanceof ut?lt(t.h,t.c,t.l):Mt((t=vt(t)).r,t.g,t.b):new ct(t,e,n)}function ft(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new vt(gt(3.2404542*(i=dt(i)*za)-1.5371385*(r=dt(r)*Ua)-.4985314*(o=dt(o)*Ha)),gt(-.969266*i+1.8760108*r+.041556*o),gt(.0556434*i-.2040259*r+1.0572252*o))}function ht(t,e,n){return t>0?new ut(Math.atan2(n,e)*La,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function dt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):bt(""+t,vt,st):new vt(t,e,n)}function mt(t){return new vt(t>>16,255&t>>8,255&t)}function yt(t){return mt(t)+""}function xt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(_t(i[0]),_t(i[1]),_t(i[2]))}return(o=Wa.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,u=15&o,u|=u<<4):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&1>u?0:r),new at(r,i,u)}function Mt(t,e,n){var r=pt((.4124564*(t=Ct(t))+.3575761*(e=Ct(e))+.1804375*(n=Ct(n)))/za),i=pt((.2126729*t+.7151522*e+.072175*n)/Ua),o;return ct(116*i-16,500*(r-i),200*(i-pt((.0193339*t+.119192*e+.9503041*n)/Ha)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function _t(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function kt(t){return t}function Tt(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Nt(e,n,t,r)}}function Nt(t,e,n,r){function i(){var t,e=u.status;if(!e&&At(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(t){return void a.error.call(o,t)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Xo.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!ta.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=Xo.event;Xo.event=t;try{a.progress.call(o,u)}finally{Xo.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(Zo(arguments)))}})),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",(function(t){i(null,t)})),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Xo.rebind(o,a,"on"),null==r?o:o.get(Et(r))}function Et(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function At(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(){var t=Rt(),e=Dt()-t;e>24?(isFinite(e)&&(clearTimeout(Ya),Ya=setTimeout(Lt,e)),Xa=0):(Xa=1,Qa(Lt))}function Rt(){var t=Date.now();for(Za=Ja;Za;)t>=Za.t&&(Za.f=Za.c(t-Za.t)),Za=Za.n;return t}function Dt(){for(var t,e=Ja,n=1/0;e;)e.f?e=t?t.n=e.n:Ja=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ga=t,n}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*sa(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function It(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:kt;return function(t){var n=ts.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,g="",v="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,v="%",d="f";break;case"p":p=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":p=-1,d="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):("e"==d||"f"==d)&&(h=Math.max(0,Math.min(20,h)))),d=es.get(d)||Ot;var x=l&&f;return function(t){var n=v;if(m&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var u=Xo.formatPrefix(t,h);t=u.scale(t),n=u.symbol+v}else t*=p;var b,w,M=(t=d(t,h)).lastIndexOf(".");if(0>M){var C=y?t.lastIndexOf("e"):-1;0>C?(b=t,w=""):(b=t.substring(0,C),w=t.substring(C))}else b=t.substring(0,M),w=e+t.substring(M+1);!l&&f&&(b=o(b,1/0));var _=g.length+b.length+w.length+(x?0:i.length),S=c>_?new Array(_=c-_+1).join(r):"";return x&&(b=o(S+b,S.length?c-w.length:1/0)),i+=g,t=b+w,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,_>>=1)+i+t+S.substring(_):i+(x?t:S+t))+n}}}function Ot(t){return t+""}function $t(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new rs(n-1)),1),n}function o(t,n){return e(t=new rs(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{rs=$t;var r=new $t;return r._=t,a(r,e,n)}finally{rs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=qt(t);return u.floor=u,u.round=qt(r),u.ceil=qt(i),u.offset=qt(o),u.range=s,t}function qt(t){return function(e,n){try{rs=$t;var r=new $t;return r._=e,t(r,n)._}finally{rs=Date}}}function zt(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=os[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=N[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i;if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&rs!==$t,a=new(o?$t:rs);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(0|r.Z/100),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;u>s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(a=e.charAt(s++),!(o=E[a in os?e.charAt(s++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.w=C.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,N.c.toString(),e,r)}function u(t,e,r){return n(t,N.x.toString(),e,r)}function l(t,e,r){return n(t,N.X.toString(),e,r)}function c(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{var e=new(rs=$t);return e._=t,r(e)}finally{rs=Date}}var r=e(t);return n.parse=function(t){try{rs=$t;var e=r.parse(t);return e&&e._}finally{rs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=se;var x=Xo.map(),b=Ht(g),w=Bt(g),M=Ht(v),C=Bt(v),_=Ht(m),S=Bt(m),k=Ht(y),T=Bt(y);p.forEach((function(t,e){x.set(t.toLowerCase(),e)}));var N={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(f),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+ns.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(ns.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(ns.mondayOfYear(t),e,2)},x:e(h),X:e(d),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:oe,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:Kt,e:Kt,H:ee,I:ee,j:te,L:ie,m:Qt,M:ne,p:c,S:re,U:Wt,w:Vt,W:Jt,x:u,X:l,y:Xt,Y:Gt,Z:Yt,"%":ae};return e}function Ut(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(Xo.requote).join("|")+")","i")}function Bt(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Vt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.y=Zt(+r[0]),n+r[0].length):-1}function Yt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kt(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function te(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ee(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ne(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){as.lastIndex=0;var r=as.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oe(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=0|sa(e)/60,i=sa(e)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function ae(t,e,n){ss.lastIndex=0;var r=ss.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function se(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function le(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function ce(t,e){t&&fs.hasOwnProperty(t.type)&&fs[t.type](t,e)}function fe(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function he(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function de(){function t(t,e){e=e*Aa/2+Sa/4;var n=(t*=Aa)-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,f=i*u+c*Math.cos(s),h=c*a*Math.sin(s);ds.add(Math.atan2(h,f)),r=t,i=u,o=l}var e,n,r,i,o;ps.point=function(a,s){ps.point=t,r=(e=a)*Aa,i=Math.cos(s=(n=s)*Aa/2+Sa/4),o=Math.sin(s)},ps.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ge(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ye(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),tt(t[2])]}function we(t,e){return sa(t[0]-e[0])<Na&&sa(t[1]-e[1])<Na}function Me(t,e){t*=Aa;var n=Math.cos(e*=Aa);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){++gs,ms+=(t-ms)/gs,ys+=(e-ys)/gs,xs+=(n-xs)/gs}function _e(){function t(t,i){t*=Aa;var o=Math.cos(i*=Aa),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);vs+=l,bs+=l*(e+(e=a)),ws+=l*(n+(n=s)),Ms+=l*(r+(r=u)),Ce(e,n,r)}var e,n,r;ks.point=function(i,o){i*=Aa;var a=Math.cos(o*=Aa);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),ks.point=t,Ce(e,n,r)}}function Se(){ks.point=Me}function ke(){function t(t,e){t*=Aa;var n=Math.cos(e*=Aa),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=Math.sqrt(l*l+c*c+f*f),d=r*a+i*s+o*u,p=h&&-K(d)/h,g=Math.atan2(h,d);Cs+=p*l,_s+=p*c,Ss+=p*f,vs+=g,bs+=g*(r+(r=a)),ws+=g*(i+(i=s)),Ms+=g*(o+(o=u)),Ce(r,i,o)}var e,n,r,i,o;ks.point=function(a,s){e=a,n=s,ks.point=t,a*=Aa;var u=Math.cos(s*=Aa);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Ce(r,i,o)},ks.lineEnd=function(){t(e,n),ks.lineEnd=Se,ks.point=Me}}function Te(){return!0}function Ne(t,e,n,r,i){var o=[],a=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Ae(n,t,null,!0),l=new Ae(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Ae(r,t,null,!1),l=new Ae(r,null,u,!0),u.o=l,o.push(u),a.push(l)}})),a.sort(e),Ee(o),Ee(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)i.point((f=c[s])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(var s=(c=d.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,p=!p}while(!d.v);i.lineEnd()}}}function Ee(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ae(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Le(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){y.point=s,v.lineStart()}function l(){y.point=a,v.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=x.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){var i,r,a=-1;if((r=(t=n[0]).length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Re))}var d,p,g,v=e(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=Xo.merge(d);var t=$e(m,p);d.length?(w||(o.polygonStart(),w=!0),Ne(d,je,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},x=De(),b=e(x),w=!1;return y}}function Re(t){return t.length>1}function De(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:y,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function je(t,e){return((t=t.x)[0]<0?t[1]-Ta-Na:Ta-t[1])-((e=e.x)[0]<0?e[1]-Ta-Na:Ta-e[1])}function Pe(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Sa:-Sa,u=sa(o-n);sa(u-Sa)<Na?(t.point(n,r=(r+a)/2>0?Ta:-Ta),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Sa&&(sa(n-i)<Na&&(n-=i*Na),sa(o-s)<Na&&(o-=s*Na),r=Ie(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Ie(t,e,n,r){var i,o,a=Math.sin(t-n);return sa(a)>Na?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Oe(t,e,n,r){var i;if(null==t)i=n*Ta,r.point(-Sa,i),r.point(0,i),r.point(Sa,i),r.point(Sa,0),r.point(Sa,-i),r.point(0,-i),r.point(-Sa,-i),r.point(-Sa,0),r.point(-Sa,i);else if(sa(t[0]-e[0])>Na){var o=t[0]<e[0]?Sa:-Sa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function $e(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;ds.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+Sa/4,p=Math.sin(d),g=Math.cos(d),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+Sa/4,x=Math.sin(y),b=Math.cos(y),w=m-h,M=w>=0?1:-1,C=M*w,_=C>Sa,S=p*x;if(ds.add(Math.atan2(S*M*Math.sin(C),g*b+S*Math.cos(C))),o+=_?w+M*ka:w,_^h>=n^m>=n){var k=ve(pe(f),pe(t));xe(k);var T=ve(i,k);xe(T);var N=(_^w>=0?-1:1)*tt(T[2]);(r>N||r===N&&(k[0]||k[1]))&&(a+=_^w>=0?1:-1)}if(!v++)break;h=m,p=x,g=b,f=t}}return(-Na>o||Na>o&&0>ds)^1&a}function Fe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],g=e(f,h),v=a?g?0:i(f,h):g?i(f+(0>f?Sa:-Sa),h):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=r(n,p),(we(n,d)||we(p,d))&&(p[0]+=Na,p[1]+=Na,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var m;v&o||!(m=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&we(n,p)||t.point(p[0],p[1]),n=p,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r,i,a=[1,0,0],s=ve(pe(t),pe(e)),u=ge(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=o*u/c,h=-o*l/c,d=ve(a,s),p=ye(a,f),g;me(p,ye(s,h));var v=d,m=ge(p,v),y=ge(v,v),x=m*m-y*(ge(p,p)-1);if(!(0>x)){var b=Math.sqrt(x),w=ye(v,(-m-b)/y);if(me(w,p),w=be(w),!n)return w;var M,C=t[0],_=e[0],S=t[1],k=e[1];C>_&&(M=C,C=_,_=M);var T=_-C,N=sa(T-Sa)<Na,E;if(!N&&S>k&&(M=S,S=k,k=M),N||Na>T?N?S+k>0^w[1]<(sa(w[0]-C)<Na?S:k):S<=w[1]&&w[1]<=k:T>Sa^(C<=w[0]&&w[0]<=_)){var A=ye(v,(-m+b)/y);return me(A,p),[w,be(A)]}}}function i(e,n){var r=a?t:Sa-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=sa(o)>Na,u;return Le(e,n,pn(t,6*Aa),a?[0,-t]:[-Sa,t-Sa])}function qe(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c,f,h=0,d=1,p=s.x-u,g=s.y-l;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(h>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>h&&(h=o)}else if(p>0){if(h>o)return;d>o&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(h>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>h&&(h=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>h&&(h=o)}else if(g>0){if(h>o)return;d>o&&(d=o)}return h>0&&(i.a={x:u+h*p,y:l+h*g}),1>d&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function ze(t,e,n,r){function i(r,i){return sa(r[0]-t)<Na?i>0?0:3:sa(r[0]-n)<Na?i>0?2:1:sa(r[1]-e)<Na?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=v[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&Q(l,o,t)>0&&++e:o[1]<=r&&Q(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==f);else l.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function f(t,e){c(t,e)&&s.point(t,e)}function h(){E.point=p,v&&v.push(m=[]),_=!0,C=!1,w=M=NaN}function d(){g&&(p(y,x),b&&C&&T.rejoin(),g.push(T.buffer())),E.point=f,C&&s.lineEnd()}function p(t,e){var n=c(t=Math.max(-Ns,Math.min(Ns,t)),e=Math.max(-Ns,Math.min(Ns,e)));if(v&&m.push([t,e]),_)y=t,x=e,b=n,_=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:w,y:M},b:{x:t,y:e}};N(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}w=t,M=e,C=n}var g,v,m,y,x,b,w,M,C,_,S,k=s,T=De(),N=qe(t,e,n,r),E={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=T,g=[],v=[],S=!0},polygonEnd:function(){s=k,g=Xo.merge(g);var e=u([t,r]),n=S&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Ne(g,o,e,l,s),s.polygonEnd()),g=v=m=null}};return E}}function Ue(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function He(t){var e=0,n=Sa/3,r=an(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Sa/180,n=t[1]*Sa/180):[e/Sa*180,n/Sa*180]},i}function Be(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,tt((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ve(){function t(t,e){As+=i*t-r*e,r=t,i=e}var e,n,r,i;Ps.point=function(o,a){Ps.point=t,e=r=o,n=i=a},Ps.lineEnd=function(){t(e,n)}}function We(t,e){Ls>t&&(Ls=t),t>Ds&&(Ds=t),Rs>e&&(Rs=e),e>js&&(js=e)}function Je(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xe(t,e){ms+=t,ys+=e,++xs}function Ye(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);bs+=a*(e+t)/2,ws+=a*(n+r)/2,Ms+=a,Xe(e=t,n=r)}var e,n;Os.point=function(r,i){Os.point=t,Xe(e=r,n=i)}}function Ze(){Os.point=Xe}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);bs+=a*(r+t)/2,ws+=a*(i+e)/2,Ms+=a,Cs+=(a=i*t-r*e)*(r+t),_s+=a*(i+e),Ss+=3*a,Xe(r=t,i=e)}var e,n,r,i;Os.point=function(o,a){Os.point=t,Xe(e=r=o,n=i=a)},Os.lineEnd=function(){t(e,n)}}function Ke(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,ka)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:y};return s}function tn(t){function e(t){return(s?r:n)(t)}function n(e){return rn(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){x=NaN,_.point=o,e.lineStart()}function o(n,r){var o=pe([n,r]),a=t(n,r);i(x,b,y,w,M,C,x=a[0],b=a[1],y=n,w=o[0],M=o[1],C=o[2],s,e),e.point(x,b)}function a(){_.point=n,e.lineEnd()}function u(){r(),_.point=l,_.lineEnd=c}function l(t,e){o(f=t,h=e),d=x,p=b,g=w,v=M,m=C,_.point=o}function c(){i(x,b,y,w,M,C,d,p,f,g,v,m,s,e),_.lineEnd=a,a()}var f,h,d,p,g,v,m,y,x,b,w,M,C,_={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),_.lineStart=u},polygonEnd:function(){e.polygonEnd(),_.lineStart=r}};return _}function i(e,n,r,s,u,l,c,f,h,d,p,g,v,m){var y=c-e,x=f-n,b=y*y+x*x;if(b>4*o&&v--){var w=s+d,M=u+p,C=l+g,_=Math.sqrt(w*w+M*M+C*C),S=Math.asin(C/=_),k=sa(sa(C)-1)<Na||sa(r-h)<Na?(r+h)/2:Math.atan2(M,w),T=t(k,S),N=T[0],E=T[1],A=N-e,L=E-n,R=x*A-y*L;(R*R/b>o||sa((y*A+x*L)/b-.5)>.3||a>s*d+u*p+l*g)&&(i(e,n,r,s,u,l,N,E,k,w/=_,M/=_,C,v,m),m.point(N,E),i(N,E,k,w,M,C,c,f,h,d,p,g,v,m))}}var o=.5,a=Math.cos(30*Aa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function en(t){var e=tn((function(e,n){return t([e*La,n*La])}));return function(t){return sn(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function on(t){return an((function(){return t}))()}function an(t){function e(t){return[(t=s(t[0]*Aa,t[1]*Aa))[0]*h+u,l-t[1]*h]}function n(t){return(t=s.invert((t[0]-u)/h,(l-t[1])/h))&&[t[0]*La,t[1]*La]}function r(){s=Ue(a=cn(m,y,x),o);var t=o(g,v);return u=d-t[0]*h,l=p+t[1]*h,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,f=tn((function(t,e){return[(t=o(t,e))[0]*h+u,l-t[1]*h]})),h=150,d=480,p=250,g=0,v=0,m=0,y=0,x=0,b=Ts,w=kt,M=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),(c=sn(b(a,f(w(t))))).valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(M=t,Ts):Fe((M=+t)*Aa),i()):M},e.clipExtent=function(t){return arguments.length?(C=t,w=t?ze(t[0][0],t[0][1],t[1][0],t[1][1]):kt,i()):C},e.scale=function(t){return arguments.length?(h=+t,r()):h},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Aa,v=t[1]%360*Aa,r()):[g*La,v*La]},e.rotate=function(t){return arguments.length?(m=t[0]%360*Aa,y=t[1]%360*Aa,x=t.length>2?t[2]%360*Aa:0,r()):[m*La,y*La,x*La]},Xo.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sn(t){return rn(t,(function(e,n){t.point(e*Aa,n*Aa)}))}function un(t,e){return[t,e]}function ln(t,e){return[t>Sa?t-ka:-Sa>t?t+ka:t,e]}function cn(t,e,n){return t?e||n?Ue(hn(t),dn(e,n)):hn(t):e||n?dn(e,n):ln}function fn(t){return function(e,n){return[(e+=t)>Sa?e-ka:-Sa>e?e+ka:e,n]}}function hn(t){var e=fn(t);return e.invert=fn(-t),e}function dn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),tt(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),tt(c*r-s*i)]},n}function pn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=gn(n,i),o=gn(n,o),(a>0?o>i:i>o)&&(i+=a*ka)):(i=t+a*ka,o=t-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=be([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gn(t,e){var n=pe(e);n[0]-=t,xe(n);var r=K(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Na)%(2*Math.PI)}function vn(t,e,n){var r=Xo.range(t,e-Na,n).concat(e);return function(t){return r.map((function(e){
return[t,e]}))}}function mn(t,e,n){var r=Xo.range(t,e-Na,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function yn(t){return t.source}function xn(t){return t.target}function bn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(it(r-e)+i*a*it(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,r=n*u+e*c,i=n*l+e*f,a=n*o+e*s;return[Math.atan2(i,r)*La,Math.atan2(a,Math.sqrt(r*r+i*i))*La]}:function(){return[t*La,e*La]};return p.distance=h,p}function wn(){function t(t,i){var o=Math.sin(i*=Aa),a=Math.cos(i),s=sa((t*=Aa)-e),u=Math.cos(s);$s+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;Fs.point=function(i,o){e=i*Aa,n=Math.sin(o*=Aa),r=Math.cos(o),Fs.point=t},Fs.lineEnd=function(){Fs.point=Fs.lineEnd=y}}function Mn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Cn(t,e){function n(t,e){a>0?-Ta+Na>e&&(e=-Ta+Na):e>Ta-Na&&(e=Ta-Na);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Sa/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ta]},n):Sn}function _n(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return sa(i)<Na?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-Z(i)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(Sa/4+e/2))]}function kn(t){var e,n=on(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Sa*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Tn(t,e){return[Math.log(Math.tan(Sa/4+e/2)),-t]}function Nn(t){return t[0]}function En(t){return t[1]}function An(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ln(t,e){return t[0]-e[0]||t[1]-e[1]}function Rn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Dn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,f=r[1]-l,h=(s*(u-l)-f*(i-o))/(f*a-s*c);return[i+h*a,u+h*c]}function jn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){nr(this),this.edge=this.site=this.circle=null}function In(t){var e=Zs.pop()||new Pn;return e.site=t,e}function On(t){Jn(t),Gs.remove(t),Zs.push(t),nr(t)}function $n(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];On(t);for(var u=o;u.circle&&sa(n-u.circle.x)<Na&&sa(r-u.circle.cy)<Na;)o=u.P,s.unshift(u),On(u),u=o;s.unshift(u),Jn(u);for(var l=a;l.circle&&sa(n-l.circle.x)<Na&&sa(r-l.circle.cy)<Na;)a=l.N,s.push(l),On(l),l=a;s.push(l),Jn(l);var c,f=s.length;for(c=1;f>c;++c)l=s[c],u=s[c-1],Kn(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=Zn(u.site,l.site,null,i),Wn(u),Wn(l)}function Fn(t){for(var e,n,r,i,o=t.x,a=t.y,s=Gs._;s;)if((r=qn(s,a)-o)>Na)s=s.L;else{if(!((i=o-zn(s,a))>Na)){r>-Na?(e=s.P,n=s):i>-Na?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=In(t);if(Gs.insert(e,u),e||n){if(e===n)return Jn(e),n=In(e.site),Gs.insert(u,n),u.edge=n.edge=Zn(e.site,u.site),Wn(e),void Wn(n);if(!n)return void(u.edge=Zn(e.site,u.site));Jn(e),Jn(n);var l=e.site,c=l.x,f=l.y,h=t.x-c,d=t.y-f,p=n.site,g=p.x-c,v=p.y-f,m=2*(h*v-d*g),y=h*h+d*d,x=g*g+v*v,b={x:(v*y-d*x)/m+c,y:(h*x-g*y)/m+f};Kn(n.edge,l,p,b),u.edge=Zn(l,t,null,b),n.edge=Zn(t,p,null,b),Wn(e),Wn(n)}}function qn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function zn(t,e){var n=t.N;if(n)return qn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Un(t){this.site=t,this.edges=[]}function Hn(t){for(var e,n,r,i,o,a,s,u,l,c,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=Js,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(s=o.edges).length,a=0;u>a;)r=(c=s[a].end()).x,i=c.y,e=(l=s[++a%u].start()).x,n=l.y,(sa(r-e)>Na||sa(i-n)>Na)&&(s.splice(a,0,new tr(Qn(o.site,c,sa(r-f)<Na&&p-i>Na?{x:f,y:sa(e-f)<Na?n:p}:sa(i-p)<Na&&h-r>Na?{x:sa(n-p)<Na?e:h,y:p}:sa(r-h)<Na&&i-d>Na?{x:h,y:sa(e-h)<Na?n:d}:sa(i-d)<Na&&r-f>Na?{x:sa(n-d)<Na?e:f,y:d}:null),o.site,null)),++u)}function Bn(t,e){return e.angle-t.angle}function Vn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,f,h=2*(u*(f=o.y-s)-l*c);if(!(h>=-Ea)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,v=(u*p-c*d)/h,f=v+s,m=Qs.pop()||new Vn;m.arc=t,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,t.circle=m;for(var y=null,x=Ys._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}Ys.insert(y,m),y||(Xs=m)}}}}function Jn(t){var e=t.circle;e&&(e.P||(Xs=e.N),Ys.remove(e),Qs.push(e),nr(e),t.circle=null)}function Gn(t){for(var e,n=Ws,r=qe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Xn(e=n[i],t)||!r(e)||sa(e.a.x-e.b.x)<Na&&sa(e.a.y-e.b.y)<Na)&&(e.a=e.b=null,n.splice(i,1))}function Xn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,h=c.x,d=c.y,p=f.x,g=f.y,v=(h+p)/2,m=(d+g)/2;if(g===d){if(a>v||v>=s)return;if(h>p){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(i=m-(r=(h-p)/(g-d))*v,-1>r||r>1)if(h>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Yn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,r){var i=new Yn(t,e);return Ws.push(i),n&&Kn(i,t,e,n),r&&Kn(i,e,t,r),Js[t.i].edges.push(new tr(i,t,e)),Js[e.i].edges.push(new tr(i,e,t)),i}function Qn(t,e,n){var r=new Yn(t,null);return r.a=e,r.b=n,Ws.push(r),r}function Kn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function or(t){for(;t.L;)t=t.L;return t}function ar(t,e){var n,r,i,o=t.sort(sr).pop();for(Ws=[],Js=new Array(t.length),Gs=new er,Ys=new er;;)if(i=Xs,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Js[o.i]=new Un(o),Fn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;$n(i.arc)}e&&(Gn(e),Hn(e));var a={cells:Js,edges:Ws};return Gs=Ys=Ws=Js=null,a}function sr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function lr(t){return t.x}function cr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&hr(t,u[0],n,r,a,s),u[1]&&hr(t,u[1],a,r,i,s),u[2]&&hr(t,u[2],n,s,a,o),u[3]&&hr(t,u[3],a,s,i,o)}}function dr(t,e){t=Xo.rgb(t),e=Xo.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+xt(Math.round(n+o*t))+xt(Math.round(r+a*t))+xt(Math.round(i+s*t))}}function pr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=mr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vr(t,e){var n,r,i,o=tu.lastIndex=eu.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=tu.exec(t))&&(r=eu.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:gr(n,r)})),o=eu.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function mr(t,e){for(var n,r=Xo.interpolators.length;--r>=0&&!(n=Xo.interpolators[r](t,e)););return n}function yr(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(mr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function xr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function br(t){return function(e){return 1-t(1-e)}}function wr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Mr(t){return t*t}function Cr(t){return t*t*t}function _r(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Sr(t){return function(e){return Math.pow(e,t)}}function kr(t){return 1-Math.cos(t*Ta)}function Tr(t){return Math.pow(2,10*(t-1))}function Nr(t){return 1-Math.sqrt(1-t*t)}function Er(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/ka*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*ka/e)}}function Ar(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Lr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=Xo.hcl(t),e=Xo.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Dr(t,e){t=Xo.hsl(t),e=Xo.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return st(n+o*t,r+a*t,i+s*t)+""}}function jr(t,e){t=Xo.lab(t),e=Xo.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ft(n+o*t,r+a*t,i+s*t)+""}}function Pr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ir(t){var e=[t.a,t.b],n=[t.c,t.d],r=$r(e),i=Or(e,n),o=$r(Fr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*La,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*La:0}function Or(t,e){return t[0]*e[0]+t[1]*e[1]}function $r(t){var e=Math.sqrt(Or(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Fr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function qr(t,e){var n,r=[],i=[],o=Xo.transform(t),a=Xo.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,f=o.skew,h=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:gr(s[0],u[0])},{i:3,x:gr(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:gr(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:gr(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:gr(d[0],p[0])},{i:n-2,x:gr(d[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ur(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Hr(t){for(var e=t.source,n=t.target,r=Vr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Br(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Vr(t,e){if(t===e)return t;for(var n=Br(t),r=Br(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Wr(t){t.fixed|=2}function Jr(t){t.fixed&=-7}function Gr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xr(t){t.fixed&=-5}function Yr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)null!=(o=a[u])&&(Yr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Zr(t,e){return Xo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ri,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Kr(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ti(t){return t.children}function ei(t){return t.value}function ni(t,e){return e.value-t.value}function ri(t){return Xo.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}function ii(t){return t.x}function oi(t){return t.y}function ai(t,e,n){t.y0=e,t.y=n}function si(t){return Xo.range(t.length)}function ui(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function li(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function ci(t){return t.reduce(fi,0)}function fi(t,e){return t+e[1]}function hi(t,e){return di(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function di(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function pi(t){return[Xo.min(t),Xo.max(t)]}function gi(t,e){return t.value-e.value}function vi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function mi(t,e){t._pack_next=e,e._pack_prev=t}function yi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xi(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,f=-1/0,h=1/0,d=-1/0;if(n.forEach(bi),(r=n[0]).x=-r.r,r.y=0,e(r),l>1&&((i=n[1]).x=i.r,i.y=0,e(i),l>2))for(Ci(r,i,o=n[2]),e(o),vi(r,o),r._pack_prev=o,vi(o,i),i=r._pack_next,a=3;l>a;a++){Ci(r,i,o=n[a]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(yi(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!yi(u,o);u=u._pack_prev,v++);p?(v>g||g==v&&i.r<r.r?mi(r,i=s):mi(r=u,i),a--):(vi(r,o),i=o,e(o))}var m=(c+f)/2,y=(h+d)/2,x=0;for(a=0;l>a;a++)(o=n[a]).x-=m,o.y-=y,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=x,n.forEach(wi)}}function bi(t){t._pack_next=t._pack_prev=t}function wi(t){delete t._pack_next,delete t._pack_prev}function Mi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Mi(i[o],e,n,r)}function Ci(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o,u=.5+((r*=r)-(a*=a))/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function _i(t,e){return t.parent==e.parent?1:2}function Si(t){var e=t.children;return e.length?e[0]:t.t}function ki(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ti(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ni(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ei(t,e,n){return t.a.parent===e.parent?t.a:n}function Ai(t){return 1+Xo.max(t,(function(t){return t.y}))}function Li(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}function Ri(t){var e=t.children;return e&&e.length?Ri(e[0]):t}function Di(t){var e,n=t.children;return n&&(e=n.length)?Di(n[e-1]):t}function ji(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Pi(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ii(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Oi(t){return t.rangeExtent?t.rangeExtent():Ii(t.range())}function $i(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Fi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function qi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:hu}function zi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=Xo.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Ui(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?zi:$i,u=r?Ur:zr;return a=i(t,e,u,n),s=i(e,t,u,mr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Pr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Wi(t,e)},o.tickFormat=function(e,n){return Ji(t,e,n)},o.nice=function(e){return Bi(t,e),i()},o.copy=function(){return Ui(t,e,n,r)},i()}function Hi(t,e){return Xo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Bi(t,e){return Fi(t,qi(Vi(t,e)[2]))}function Vi(t,e){null==e&&(e=10);var n=Ii(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Wi(t,e){return Xo.range.apply(Xo,Vi(t,e))}function Ji(t,e,n){var r=Vi(t,e);if(n){var i=ts.exec(n);if(i.shift(),"s"===i[8]){var o=Xo.formatPrefix(Math.max(sa(r[0]),sa(r[1])));return i[7]||(i[7]="."+Gi(o.scale(r[2]))),i[8]="f",n=Xo.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Xi(i[8],r)),n=i.join("")}else n=",."+Gi(r[2])+"f";return Xo.format(n)}function Gi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xi(t,e){var n=Gi(e[2]);return t in du?Math.abs(n-Gi(Math.max(sa(e[0]),sa(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Yi(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Fi(r.map(i),n?Math:gu);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Ii(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var h=1;f>h;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return pu;arguments.length<2?e=pu:"function"!=typeof e&&(e=Xo.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return Yi(t.copy(),e,n,r)},Hi(a,t)}function Zi(t,e,n){function r(e){return t(i(e))}var i=Qi(e),o=Qi(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Wi(n,t)},r.tickFormat=function(t,e){return Ji(n,t,e)},r.nice=function(t){return r.domain(Bi(n,t))},r.exponent=function(a){return arguments.length?(i=Qi(e=a),o=Qi(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Zi(t.copy(),e,n)},Hi(r,t)}function Qi(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function Ki(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):NaN))-1)%o.length]}function r(e,n){return Xo.range(t.length).map((function(t){return e+n*t}))}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new s;for(var o,a=-1,u=r.length;++a<u;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+s);return o=r(t.length<2?(u+l)/2:u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=(f-c)/(t.length-s+2*u);return o=r(c+h*u,h),l&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],f=i[1-l],h=Math.floor((f-c)/(t.length-s+2*u)),d=f-c-(t.length-s)*h;return o=r(c+Math.round(d/2),h),l&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ii(e.a[0])},n.copy=function(){return Ki(t,e)},n.domain(t)}function to(r,i){function o(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=Xo.quantile(r,t/e);return a}function a(t){return isNaN(t=+t)?void 0:i[Xo.bisect(s,t)]}var s;return a.domain=function(i){return arguments.length?(r=i.map(e).filter(n).sort(t),o()):r},a.range=function(t){return arguments.length?(i=t,o()):i},a.quantiles=function(){return s},a.invertExtent=function(t){return 0>(t=i.indexOf(t))?[NaN,NaN]:[t>0?s[t-1]:r[0],t<s.length?s[t]:r[r.length-1]]},a.copy=function(){return to(r,i)},o()}function eo(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return[e=0>(e=n.indexOf(e))?NaN:e/o+t,e+1/o]},r.copy=function(){return eo(t,e,n)},i()}function no(t,e){function n(n){return n>=n?e[Xo.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return no(t,e)},n}function ro(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Wi(t,e)},e.tickFormat=function(e,n){return Ji(t,e,n)},e.copy=function(){return ro(t)},e}function io(t){return t.innerRadius}function oo(t){return t.outerRadius}function ao(t){return t.startAngle}function so(t){return t.endAngle}function uo(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],f=-1,h=e.length,d=St(n),p=St(r);++f<h;)i.call(this,u=e[f],f)?c.push([+d.call(this,u,f),+p.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Nn,r=En,i=Te,o=lo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Mu.get(t)||lo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function lo(t){return t.join("L")}function co(t){return lo(t)+"Z"}function fo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ho(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function po(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function go(t,e){return t.length<4?lo(t):t[1]+yo(t.slice(1,t.length-1),xo(t,e))}function vo(t,e){return t.length<3?lo(t):t[0]+yo((t.push(t[0]),t),xo([t[t.length-2]].concat(t,[t[1]]),e))}function mo(t,e){return t.length<3?lo(t):t[0]+yo(t,xo(t,e))}function yo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return lo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function xo(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function bo(t){if(t.length<3)return lo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",_o(Su,a),",",_o(Su,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),So(u,a,s);return t.pop(),u.push("L",r),u.join("")}function wo(t){if(t.length<4)return lo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(_o(Su,o)+","+_o(Su,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),So(n,o,a);return n.join("")}function Mo(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[_o(Su,a),",",_o(Su,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),So(e,a,s);return e.join("")}function Co(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=l/n,(r=t[l])[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return bo(t)}function _o(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function So(t,e,n){t.push("C",_o(Cu,e),",",_o(Cu,n),",",_o(_u,e),",",_o(_u,n),",",_o(Su,e),",",_o(Su,n))}function ko(t,e){return(e[1]-t[1])/(e[0]-t[0])}function To(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=ko(i,o);++e<n;)r[e]=(a+(a=ko(i=o,o=t[e+1])))/2;return r[e]=a,r}function No(t){for(var e,n,r,i,o=[],a=To(t),s=-1,u=t.length-1;++s<u;)e=ko(t[s],t[s+1]),sa(e)<Na?a[s]=a[s+1]=0:(i=(n=a[s]/e)*n+(r=a[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Eo(t){return t.length<3?lo(t):t[0]+yo(t,No(t))}function Ao(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]+bu,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Lo(t){function e(e){function u(){g.push("M",s(t(m),f),c,l(t(v.reverse()),f),"Z")}for(var h,d,p,g=[],v=[],m=[],y=-1,x=e.length,b=St(n),w=St(i),M=n===r?function(){return d}:St(r),C=i===o?function(){return p}:St(o);++y<x;)a.call(this,h=e[y],y)?(v.push([d=+b.call(this,h,y),p=+w.call(this,h,y)]),m.push([+M.call(this,h,y),+C.call(this,h,y)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var n=Nn,r=Nn,i=0,o=En,a=Te,s=lo,u=s.key,l=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Mu.get(t)||lo).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Ro(t){return t.radius}function Do(t){return[t.x,t.y]}function jo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+bu;return[n*Math.cos(r),n*Math.sin(r)]}}function Po(){return 64}function Io(){return"circle"}function Oo(t){var e=Math.sqrt(t/Sa);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function $o(t,e){return ha(t,Lu),t.id=e,t}function Fo(t,e,n,r){var i=t.id;return F(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function qo(t){return null==t&&(t=""),function(){this.textContent=t}}function zo(t,e,n,r){var i=t.__transition__||(t.__transition__={active:0,count:0}),o=i[n];if(!o){var a=r.time;o=i[n]={tween:new s,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,Xo.timer((function(r){function s(r){return i.active>n?l():(i.active=n,o.event&&o.event.start.call(t,c,e),o.tween.forEach((function(n,r){(r=r.call(t,c,e))&&g.push(r)})),void Xo.timer((function(){return p.c=u(r||1)?Te:u,1}),0,a))}function u(r){if(i.active!==n)return l();for(var a=r/d,s=f(a),u=g.length;u>0;)g[--u].call(t,s);return a>=1?(o.event&&o.event.end.call(t,c,e),l()):void 0}function l(){return--i.count?delete i[n]:delete t.__transition__,1}var c=t.__data__,f=o.ease,h=o.delay,d=o.duration,p=Za,g=[];return p.t=h+a,r>=h?s(r-h):void(p.c=s)}),0,a)}}function Uo(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Ho(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}function Bo(t){return t.toISOString()}function Vo(t,e,n){function r(e){return t(e)}function i(t,n){var r,i=(t[1]-t[0])/n,o=Xo.bisect(qu,i);return o==qu.length?[e.year,Vi(t.map((function(t){return t/31536e6})),n)[2]]:o?e[i/qu[o-1]<qu[o]/i?o-1:o]:[Hu,Vi(t,n)[2]]}return r.invert=function(e){return Wo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Wo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Wo(+n+1),e).length}var o=r.domain(),a=Ii(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Fi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Wo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Wo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ii(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Wo(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Vo(t.copy(),e,n)},Hi(r,t)}function Wo(t){return new Date(t)}function Jo(t){return JSON.parse(t.responseText)}function Go(t){var e=Qo.createRange();return e.selectNode(Qo.body),e.createContextualFragment(t.responseText)}var Xo={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var Yo=[].slice,Zo=function(t){return Yo.call(t)},Qo=document,Ko=Qo.documentElement,ta=window;try{Zo(Ko.childNodes)[0].nodeType}catch(t){Zo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Qo.createElement("div").style.setProperty("opacity",0,"")}catch(t){var ea=ta.Element.prototype,na=ea.setAttribute,ra=ea.setAttributeNS,ia=ta.CSSStyleDeclaration.prototype,oa=ia.setProperty;ea.setAttribute=function(t,e){na.call(this,t,e+"")},ea.setAttributeNS=function(t,e,n){ra.call(this,t,e,n+"")},ia.setProperty=function(t,e,n){oa.call(this,t,e+"",n)}}Xo.ascending=t,Xo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},Xo.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},Xo.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0
;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},Xo.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Xo.sum=function(t,e){var r,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)n(r=+t[a])&&(i+=r);else for(;++a<o;)n(r=+e.call(t,t[a],a))&&(i+=r);return i},Xo.mean=function(t,r){var i,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)n(i=e(t[s]))?o+=i:--u;else for(;++s<a;)n(i=e(r.call(t,t[s],s)))?o+=i:--u;return u?o/u:void 0},Xo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},Xo.median=function(r,i){var o,a=[],s=r.length,u=-1;if(1===arguments.length)for(;++u<s;)n(o=e(r[u]))&&a.push(o);else for(;++u<s;)n(o=e(i.call(r,r[u],u)))&&a.push(o);return a.length?Xo.quantile(a.sort(t),.5):void 0};var aa=r(t);Xo.bisectLeft=aa.left,Xo.bisect=Xo.bisectRight=aa.right,Xo.bisector=function(e){return r(1===e.length?function(n,r){return t(e(n),r)}:e)},Xo.shuffle=function(t){for(var e,n,r=t.length;r;)n=0|Math.random()*r--,e=t[r],t[r]=t[n],t[n]=e;return t},Xo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Xo.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},Xo.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=Xo.min(arguments,i),n=new Array(e);++t<e;)for(var r,o=-1,a=n[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return n},Xo.transpose=function(t){return Xo.zip.apply(Xo,t)},Xo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Xo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Xo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Xo.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var sa=Math.abs;Xo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),1/0==(e-t)/n)throw new Error("infinite range");var r,i=[],a=o(sa(n)),s=-1;if(t*=a,e*=a,0>(n*=a))for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},Xo.map=function(t){var e=new s;if(t instanceof s)t.forEach((function(t,n){e.set(t,n)}));else for(var n in t)e.set(n,t[n]);return e};var ua="__proto__",la="\0";a(s,{has:c,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:f,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:l(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,l(e),this._[e])}}),Xo.nest=function(){function t(e,a,u){if(u>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var l,c,f,h,d=-1,p=a.length,g=o[u++],v=new s;++d<p;)(h=v.get(l=g(c=a[d])))?h.push(c):v.set(l,[c]);return e?(c=e(),f=function(n,r){c.set(n,t(e,r,u))}):(c={},f=function(n,r){c[n]=t(e,r,u)}),v.forEach(f),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach((function(t,i){r.push({key:t,values:e(i,n)})})),i?r.sort((function(t,e){return i(t.key,e.key)})):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(Xo.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},Xo.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},a(g,{has:c,add:function(t){return this._[u(t+="")]=!0,t},remove:f,values:h,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,l(e))}}),Xo.behavior={},Xo.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=v(t,e,e[n]);return t};var ca=["webkit","ms","moz","Moz","o","O"];Xo.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Xo.event=null,Xo.requote=function(t){return t.replace(fa,"\\$&")};var fa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ha={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},da=function(t,e){return e.querySelector(t)},pa=function(t,e){return e.querySelectorAll(t)},ga=Ko.matches||Ko[m(Ko,"matchesSelector")],va=function(t,e){return ga.call(t,e)};"function"==typeof Sizzle&&(da=function(t,e){return Sizzle(t,e)[0]||null},pa=Sizzle,va=Sizzle.matchesSelector),Xo.selection=function(){return ba};var ma=Xo.selection.prototype=[];ma.select=function(t){var e,n,r,i,o=[];t=S(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return _(o)},ma.selectAll=function(t){var e,n,r=[];t=k(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=Zo(t.call(n,n.__data__,s,i))),e.parentNode=n);return _(r)};var ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xo.ns={prefix:ya,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),ya.hasOwnProperty(n)?{space:ya[n],local:t}:t}},ma.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=Xo.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(T(e,t[e]));return this}return this.each(T(t,e))},ma.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=A(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!E(t[i]).test(e))return!1;return!0}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},ma.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=""),t)this.each(D(n,t[n],e));return this}if(2>r)return ta.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(D(t,e,n))},ma.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},ma.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ma.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ma.append=function(t){return t=P(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},ma.insert=function(t,e){return t=P(t),e=S(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},ma.remove=function(){return this.each((function(){var t=this.parentNode;t&&t.removeChild(this)}))},ma.data=function(t,e){function n(t,n){var r,i,o,a=t.length,f=n.length,h=Math.min(a,f),d=new Array(f),p=new Array(f),g=new Array(a);if(e){var v,m=new s,y=new Array(a);for(r=-1;++r<a;)m.has(v=e.call(i=t[r],i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v;for(r=-1;++r<f;)(i=m.get(v=e.call(n,o=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=o):p[r]=I(o),m.set(v,!0);for(r=-1;++r<a;)!0!==m.get(y[r])&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=I(o);for(;f>r;++r)p[r]=I(n[r]);for(;a>r;++r)g[r]=t[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,u.push(p),l.push(d),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var u=q([]),l=_([]),c=_([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return l.enter=function(){return u},l.exit=function(){return c},l},ma.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ma.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=O(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return _(i)},ma.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ma.sort=function(t){t=$.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ma.each=function(t){return F(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},ma.call=function(t){var e=Zo(arguments);return t.apply(e[0]=this,e),this},ma.empty=function(){return!this.node()},ma.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ma.size=function(){var t=0;return F(this,(function(){++t})),t};var xa=[];Xo.selection.enter=q,Xo.selection.enter.prototype=xa,xa.append=ma.append,xa.empty=ma.empty,xa.node=ma.node,xa.call=ma.call,xa.size=ma.size,xa.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return _(a)},xa.insert=function(t,e){return arguments.length<2&&(e=z(this)),ma.insert.call(this,t,e)},ma.transition=function(){for(var t,e,n=Tu||++Ru,r=[],i=Nu||{time:Date.now(),ease:_r,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(e=s[u])&&zo(e,u,n,i),t.push(e)}return $o(r,n)},ma.interrupt=function(){return this.each(U)},Xo.select=function(t){var e=["string"==typeof t?da(t,Qo):t];return e.parentNode=Ko,_([e])},Xo.selectAll=function(t){var e=Zo("string"==typeof t?pa(t,Qo):t);return e.parentNode=Ko,_([e])};var ba=Xo.select(Ko);ma.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){for(n in 2>r&&(e=!1),t)this.each(H(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(H(t,e,n))};var wa=Xo.map({mouseenter:"mouseover",mouseleave:"mouseout"});wa.forEach((function(t){"on"+t in Qo&&wa.remove(t)}));var Ma="onselectstart"in Qo?null:m(Ko.style,"userSelect"),Ca=0;Xo.mouse=function(t){return J(t,M())};var _a=/WebKit/.test(ta.navigator.userAgent)?-1:0;Xo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=M().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return J(t,r)},Xo.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(h,g);r&&(t=r[0]-x[0],n=r[1]-x[1],p|=t|n,x=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(h,g)&&(m.on(o+v,null).on(a+v,null),y(p&&Xo.event.target===f),d({type:"dragend"}))}var l,c=this,f=Xo.event.target,h=c.parentNode,d=n.of(c,arguments),p=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=Xo.select(i()).on(o+v,s).on(a+v,u),y=W(),x=e(h,g);r?l=[(l=r.apply(c,arguments)).x-x[0],l.y-x[1]]:l=[0,0],d({type:"dragstart"})}}var n=C(t,"drag","dragstart","dragend"),r=null,i=e(y,Xo.mouse,Y,"mousemove","mouseup"),o=e(G,Xo.touch,X,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},Xo.rebind(t,n,"on")},Xo.touches=function(t,e){return arguments.length<2&&(e=M().touches),e?Zo(e).map((function(e){var n=J(t,e);return n.identifier=e.identifier,n})):[]};var Sa=Math.PI,ka=2*Sa,Ta=Sa/2,Na=1e-6,Ea=Na*Na,Aa=Sa/180,La=180/Sa,Ra=Math.SQRT2,Da=2,ja=4;Xo.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=nt(g),a=o/(2*h)*(n*rt(Ra*e+g)-et(g));return[r+a*l,i+a*c,o*n/nt(Ra*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Ra*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,f=l*l+c*c,h=Math.sqrt(f),d=(u*u-o*o+4*f)/(2*o*2*h),p=(u*u-o*o-4*f)/(2*u*2*h),g=Math.log(Math.sqrt(d*d+1)-d),v,m=Math.log(Math.sqrt(p*p+1)-p)-g,y=(m||Math.log(u/o))/Ra;return n.duration=1e3*y,n},Xo.behavior.zoom=function(){function t(t){t.on(T,l).on(Oa+".zoom",f).on("dblclick.zoom",h).on(A,c)}function e(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function n(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function r(t){_.k=Math.max(k[0],Math.min(k[1],t))}function i(t,e){e=n(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function o(){x&&x.domain(y.range().map((function(t){return(t-_.x)/_.k})).map(y.invert)),M&&M.domain(b.range().map((function(t){return(t-_.y)/_.k})).map(b.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function u(t){t({type:"zoomend"})}function l(){function t(){c=1,i(Xo.mouse(r),h),s(l)}function n(){f.on(N,null).on(E,null),d(c&&Xo.event.target===o),u(l)}var r=this,o=Xo.event.target,l=L.of(r,arguments),c=0,f=Xo.select(ta).on(N,t).on(E,n),h=e(Xo.mouse(r)),d=W();U.call(r),a(l)}function c(){function t(){var t=Xo.touches(d);return h=_.k,t.forEach((function(t){t.identifier in g&&(g[t.identifier]=e(t))})),t}function n(){var e=Xo.event.target;Xo.select(e).on(x,o).on(b,f),M.push(e);for(var n=Xo.event.changedTouches,a=0,u=n.length;u>a;++a)g[n[a].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(500>c-m){var h=l[0],d=g[h.identifier];r(2*_.k),i(h,d),w(),s(p)}m=c}else if(l.length>1){var h=l[0],y=l[1],C=h[0]-y[0],S=h[1]-y[1];v=C*C+S*S}}function o(){for(var t,e,n,o,a=Xo.touches(d),u=0,l=a.length;l>u;++u,o=null)if(n=a[u],o=g[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(f*h)}m=null,i(t,e),s(p)}function f(){if(Xo.event.touches.length){for(var e=Xo.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var i in g)return void t()}Xo.selectAll(M).on(y,null),C.on(T,l).on(A,c),S(),u(p)}var h,d=this,p=L.of(d,arguments),g={},v=0,y=".zoom-"+Xo.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,M=[],C=Xo.select(d),S=W();U.call(d),n(),a(p),C.on(T,null).on(A,n)}function f(){var t=L.of(this,arguments);v?clearTimeout(v):(d=e(p=g||Xo.mouse(this)),U.call(this),a(t)),v=setTimeout((function(){v=null,u(t)}),50),w(),r(Math.pow(2,.002*Pa())*_.k),i(p,d),s(t)}function h(){var t=L.of(this,arguments),n=Xo.mouse(this),o=e(n),l=Math.log(_.k)/Math.LN2;a(t),r(Math.pow(2,Xo.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(t),u(t)}var d,p,g,v,m,y,x,b,M,_={x:0,y:0,k:1},S=[960,500],k=Ia,T="mousedown.zoom",N="mousemove.zoom",E="mouseup.zoom",A="touchstart.zoom",L=C(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each((function(){var t=L.of(this,arguments),e=_;Tu?Xo.select(this).transition().each("start.zoom",(function(){_=this.__chart__||{x:0,y:0,k:1},a(t)})).tween("zoom:zoom",(function(){var n=S[0],r=S[1],i=n/2,o=r/2,a=Xo.interpolateZoom([(i-_.x)/_.k,(o-_.y)/_.k,n/_.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=_={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}})).each("end.zoom",(function(){u(t)})):(this.__chart__=_,a(t),s(t),u(t))}))},t.translate=function(e){return arguments.length?(_={x:+e[0],y:+e[1],k:_.k},o(),t):[_.x,_.y]},t.scale=function(e){return arguments.length?(_={x:_.x,y:_.y,k:+e},o(),t):_.k},t.scaleExtent=function(e){return arguments.length?(k=null==e?Ia:[+e[0],+e[1]],t):k},t.center=function(e){return arguments.length?(g=e&&[+e[0],+e[1]],t):g},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.x=function(e){return arguments.length?(x=e,y=e.copy(),_={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(M=e,b=e.copy(),_={x:0,y:0,k:1},t):M},Xo.rebind(t,L,"on")};var Pa,Ia=[0,1/0],Oa="onwheel"in Qo?(Pa=function(){return-Xo.event.deltaY*(Xo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qo?(Pa=function(){return Xo.event.wheelDelta},"mousewheel"):(Pa=function(){return-Xo.event.detail},"MozMousePixelScroll");Xo.color=ot,ot.prototype.toString=function(){return this.rgb()+""},Xo.hsl=at;var $a=at.prototype=new ot;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},$a.rgb=function(){return st(this.h,this.s,this.l)},Xo.hcl=ut;var Fa=ut.prototype=new ot;Fa.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+qa*(arguments.length?t:1)))},Fa.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-qa*(arguments.length?t:1)))},Fa.rgb=function(){return lt(this.h,this.c,this.l).rgb()},Xo.lab=ct;var qa=18,za=.95047,Ua=1,Ha=1.08883,Ba=ct.prototype=new ot;Ba.brighter=function(t){return new ct(Math.min(100,this.l+qa*(arguments.length?t:1)),this.a,this.b)},Ba.darker=function(t){return new ct(Math.max(0,this.l-qa*(arguments.length?t:1)),this.a,this.b)},Ba.rgb=function(){return ft(this.l,this.a,this.b)},Xo.rgb=vt;var Va=vt.prototype=new ot;Va.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},Va.darker=function(t){return new vt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},Va.hsl=function(){return wt(this.r,this.g,this.b)},Va.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var Wa=Xo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Wa.forEach((function(t,e){Wa.set(t,mt(e))})),Xo.functor=St,Xo.xhr=Tt(kt),Xo.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Nt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,(function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i}))},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}var r;return c=n+2,13===(r=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var r,s=1;if(10===(r=t.charCodeAt(c++)))i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,f=0;(r=n())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=n();e&&null==(h=e(h,f++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new g,i=[];return e.forEach((function(t){for(var e in t)r.has(e)||i.push(r.add(e))})),[i.map(a).join(t)].concat(e.map((function(e){return i.map((function(t){return a(e[t])})).join(t)}))).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},Xo.csv=Xo.dsv(",","text/csv"),Xo.tsv=Xo.dsv("\t","text/tab-separated-values");var Ja,Ga,Xa,Ya,Za,Qa=ta[m(ta,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Xo.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ga?Ga.n=o:Ja=o,Ga=o,Xa||(Ya=clearTimeout(Ya),Xa=1,Qa(Lt))},Xo.timer.flush=function(){Rt(),Dt()},Xo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Ka=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pt);Xo.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Xo.round(t,jt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ka[8+n/3]};var ts=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,es=Xo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Xo.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),ns=Xo.time={},rs=Date;$t.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){is.setUTCDate.apply(this._,arguments)},setDay:function(){is.setUTCDay.apply(this._,arguments)},setFullYear:function(){is.setUTCFullYear.apply(this._,arguments)},setHours:function(){is.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){is.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){is.setUTCMinutes.apply(this._,arguments)},setMonth:function(){is.setUTCMonth.apply(this._,arguments)},setSeconds:function(){is.setUTCSeconds.apply(this._,arguments)},setTime:function(){is.setTime.apply(this._,arguments)}};var is=Date.prototype;ns.year=Ft((function(t){return(t=ns.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),ns.years=ns.year.range,ns.years.utc=ns.year.utc.range,ns.day=Ft((function(t){var e=new rs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),ns.days=ns.day.range,ns.days.utc=ns.day.utc.range,ns.dayOfYear=function(t){var e=ns.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=ns[t]=Ft((function(t){return(t=ns.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));ns[t+"s"]=n.range,ns[t+"s"].utc=n.utc.range,ns[t+"OfYear"]=function(t){var n=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(n+e)%7)/7)}})),ns.week=ns.sunday,ns.weeks=ns.sunday.range,ns.weeks.utc=ns.sunday.utc.range,ns.weekOfYear=ns.sundayOfYear;var os={"-":"",_:" ",0:"0"},as=/^\s*\d+/,ss=/^%/;Xo.locale=function(t){return{numberFormat:It(t),timeFormat:zt(t)}};var us=Xo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Xo.format=us.numberFormat,Xo.geo={},ue.prototype={s:0,t:0,add:function(t){le(t,this.t,ls),le(ls.s,this.s,this),this.s?this.t+=ls.t:this.s=ls.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ls=new ue;Xo.geo.stream=function(t,e){t&&cs.hasOwnProperty(t.type)?cs[t.type](t,e):ce(t,e)};var cs={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ce(n[r].geometry,e)}},fs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)he(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ce(n[r],e)}};Xo.geo.area=function(t){return hs=0,Xo.geo.stream(t,ps),hs};var hs,ds=new ue,ps={sphere:function(){hs+=4*Sa},point:y,lineStart:y,lineEnd:y,polygonStart:function(){ds.reset(),ps.lineStart=de},polygonEnd:function(){var t=2*ds;hs+=0>t?4*Sa+t:t,ps.lineStart=ps.lineEnd=ps.point=y}};Xo.geo.bounds=function(){function t(t,e){x.push(b=[c=t,h=t]),f>e&&(f=e),e>d&&(d=e)}function e(e,n){var r=pe([e*Aa,n*Aa]);if(m){var i=ve(m,r),o,a=ve([i[1],-i[0],0],i);xe(a),a=be(a);var u=e-p,l=u>0?1:-1,g=a[0]*La*l,v=sa(u)>180,y;if(v^(g>l*p&&l*e>g))(y=a[1]*La)>d&&(d=y);else if(v^((g=(g+360)%360-180)>l*p&&l*e>g)){var y=-a[1]*La;f>y&&(f=y)}else f>n&&(f=n),n>d&&(d=n);v?p>e?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(c>e&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);m=r,p=e}function n(){w.point=e}function r(){b[0]=c,b[1]=h,w.point=t,m=null}function i(t,n){if(m){var r=t-p;y+=sa(r)>180?r+(r>0?360:-360):r}else g=t,v=n;ps.point(t,n),e(t,n)}function o(){ps.lineStart()}function a(){i(g,v),ps.lineEnd(),sa(y)>Na&&(c=-(h=180)),b[0]=c,b[1]=h,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,d,p,g,v,m,y,x,b,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=i,w.lineStart=o,w.lineEnd=a,y=0,ps.polygonStart()},polygonEnd:function(){ps.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,0>ds?(c=-(h=180),f=-(d=90)):y>Na?d=90:-Na>y&&(f=-90),b[0]=c,b[1]=h}};return function(t){var e;if(d=h=-(c=f=1/0),x=[],Xo.geo.stream(t,w),e=x.length){x.sort(u);for(var n,r=1,i,o=[i=x[0]];e>r;++r)l((n=x[r])[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-1/0,e,r=0,i=o[e=o.length-1];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],h=i[1])}return x=b=null,1/0===c||1/0===f?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,d]]}}(),Xo.geo.centroid=function(t){gs=vs=ms=ys=xs=bs=ws=Ms=Cs=_s=Ss=0,Xo.geo.stream(t,ks);var e=Cs,n=_s,r=Ss,i=e*e+n*n+r*r;return Ea>i&&(e=bs,n=ws,r=Ms,Na>vs&&(e=ms,n=ys,r=xs),Ea>(i=e*e+n*n+r*r))?[NaN,NaN]:[Math.atan2(n,e)*La,tt(r/Math.sqrt(i))*La]};var gs,vs,ms,ys,xs,bs,ws,Ms,Cs,_s,Ss,ks={sphere:y,point:Me,lineStart:_e,lineEnd:Se,polygonStart:function(){ks.lineStart=ke},polygonEnd:function(){ks.lineStart=_e}},Ts=Le(Te,Pe,Oe,[-Sa,-Sa/2]),Ns=1e9;Xo.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(s){return arguments.length?(o=ze(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Xo.geo.conicEqualArea=function(){return He(Be)}).raw=Be,Xo.geo.albers=function(){return Xo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xo.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=Xo.geo.albers(),a=Xo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Xo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,r=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Na,f+.12*l+Na],[c-.214*l-Na,f+.234*l-Na]]).stream(u).point,
i=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Na,f+.166*l+Na],[c-.115*l-Na,f+.234*l-Na]]).stream(u).point,t},t.scale(1070)};var Es,As,Ls,Rs,Ds,js,Ps={point:y,lineStart:y,lineEnd:y,polygonStart:function(){As=0,Ps.lineStart=Ve},polygonEnd:function(){Ps.lineStart=Ps.lineEnd=Ps.point=y,Es+=sa(As/2)}},Is={point:We,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Os={point:Xe,lineStart:Ye,lineEnd:Ze,polygonStart:function(){Os.lineStart=Qe},polygonEnd:function(){Os.point=Xe,Os.lineStart=Ye,Os.lineEnd=Ze}};Xo.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),Xo.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Es=0,Xo.geo.stream(t,i(Ps)),Es},t.centroid=function(t){return ms=ys=xs=bs=ws=Ms=Cs=_s=Ss=0,Xo.geo.stream(t,i(Os)),Ss?[Cs/Ss,_s/Ss]:Ms?[bs/Ms,ws/Ms]:xs?[ms/xs,ys/xs]:[NaN,NaN]},t.bounds=function(t){return Ds=js=-(Ls=Rs=1/0),Xo.geo.stream(t,i(Is)),[[Ls,Rs],[Ds,js]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||en(t):kt,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Je:new Ke(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(Xo.geo.albersUsa()).context(null)},Xo.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var r in t)n[r]=t[r];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xo.geo.projection=on,Xo.geo.projectionMutator=an,(Xo.geo.equirectangular=function(){return on(un)}).raw=un.invert=un,Xo.geo.rotation=function(t){function e(e){return(e=t(e[0]*Aa,e[1]*Aa))[0]*=La,e[1]*=La,e}return t=cn(t[0]%360*Aa,t[1]*Aa,t.length>2?t[2]*Aa:0),e.invert=function(e){return(e=t.invert(e[0]*Aa,e[1]*Aa))[0]*=La,e[1]*=La,e},e},ln.invert=un,Xo.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=cn(-t[0]*Aa,-t[1]*Aa,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=La,t[1]*=La}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=pn((e=+r)*Aa,i*Aa),t):e},t.precision=function(r){return arguments.length?(n=pn(e*Aa,(i=+r)*Aa),t):i},t.angle(90)},Xo.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Aa,i=t[1]*Aa,o=e[1]*Aa,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},Xo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Xo.range(Math.ceil(o/v)*v,i,v).map(h).concat(Xo.range(Math.ceil(l/m)*m,u,m).map(d)).concat(Xo.range(Math.ceil(r/p)*p,n,p).filter((function(t){return sa(t%v)>Na})).map(c)).concat(Xo.range(Math.ceil(s/g)*g,a,g).filter((function(t){return sa(t%m)>Na})).map(f))}var n,r,i,o,a,s,u,l,c,f,h,d,p=10,g=p,v=90,m=360,y=2.5;return t.lines=function(){return e().map((function(t){return{type:"LineString",coordinates:t}}))},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),f=mn(r,n,y),h=vn(l,u,90),d=mn(o,i,y),t):y},t.majorExtent([[-180,-90+Na],[180,90-Na]]).minorExtent([[-180,-80-Na],[180,80+Na]])},Xo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=yn,i=xn;return t.distance=function(){return Xo.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},Xo.geo.interpolate=function(t,e){return bn(t[0]*Aa,t[1]*Aa,e[0]*Aa,e[1]*Aa)},Xo.geo.length=function(t){return $s=0,Xo.geo.stream(t,Fs),$s};var $s,Fs={sphere:y,point:y,lineStart:wn,lineEnd:y,polygonStart:y,polygonEnd:y},qs=Mn((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(Xo.geo.azimuthalEqualArea=function(){return on(qs)}).raw=qs;var zs=Mn((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),kt);(Xo.geo.azimuthalEquidistant=function(){return on(zs)}).raw=zs,(Xo.geo.conicConformal=function(){return He(Cn)}).raw=Cn,(Xo.geo.conicEquidistant=function(){return He(_n)}).raw=_n;var Us=Mn((function(t){return 1/t}),Math.atan);(Xo.geo.gnomonic=function(){return on(Us)}).raw=Us,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ta]},(Xo.geo.mercator=function(){return kn(Sn)}).raw=Sn;var Hs=Mn((function(){return 1}),Math.asin);(Xo.geo.orthographic=function(){return on(Hs)}).raw=Hs;var Bs=Mn((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));(Xo.geo.stereographic=function(){return on(Bs)}).raw=Bs,Tn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ta]},(Xo.geo.transverseMercator=function(){var t=kn(Tn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=Tn,Xo.geom={},Xo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=St(n),o=St(r),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Ln),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=An(s),c=An(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+f;e<c.length-h;++e)d.push(t[s[c[e]][2]]);return d}var n=Nn,r=En;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Xo.geom.polygon=function(t){return ha(t,Vs),t};var Vs=Xo.geom.polygon.prototype=[];Vs.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Vs.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Vs.clip=function(t){for(var e,n,r,i,o,a,s=jn(t),u=-1,l=this.length-jn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)Rn(a=e[n],c,i)?(Rn(o,c,i)||t.push(Dn(o,a,c,i)),t.push(a)):Rn(o,c,i)&&t.push(Dn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Ws,Js,Gs,Xs,Ys,Zs=[],Qs=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Bn),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=or(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(rr(this,n),n=(t=n).U),n.C=!1,r.C=!0,ir(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ir(this,n),n=(t=n).U),n.C=!1,r.C=!0,rr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?or(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,rr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ir(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,rr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ir(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,rr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ir(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Xo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ar(n(t),s).cells.forEach((function(n,s){var u=n.edges,l=n.site,c;(e[s]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[]).point=t[s]})),e}function n(t){return t.map((function(t,e){return{x:Math.round(o(t,e)/Na)*Na,y:Math.round(a(t,e)/Na)*Na,i:e}}))}var r=Nn,i=En,o=r,a=i,s=Ks;return t?e(t):(e.links=function(t){return ar(n(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},e.triangles=function(t){var e=[];return ar(n(t)).cells.forEach((function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Bn),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)i=c,o=f,f=(c=s[u].edge).l===a?c.r:c.l,r<o.i&&r<f.i&&ur(a,o,f)<0&&e.push([t[r],t[o.i],t[f.i]])})),e},e.x=function(t){return arguments.length?(o=St(r=t),e):r},e.y=function(t){return arguments.length?(a=St(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?Ks:t,e):s===Ks?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===Ks?null:s&&s[1]},e)};var Ks=[[-1e6,-1e6],[1e6,1e6]];Xo.geom.delaunay=function(t){return Xo.geom.voronoi().triangles(t)},Xo.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(sa(u-n)+sa(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),f=n>=l,h=r>=c,d=(h<<1)+f;t.leaf=!1,f?i=l:s=l,h?a=c:u=c,o(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,s,u)}var c,f,h,d,p,g,v,m,y,x=St(s),b=St(u);if(null!=e)g=e,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),f=[],h=[],p=t.length,a)for(d=0;p>d;++d)(c=t[d]).x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(d=0;p>d;++d){var w=+x(c=t[d],d),M=+b(c,d);g>w&&(g=w),v>M&&(v=M),w>m&&(m=w),M>y&&(y=M),f.push(w),h.push(M)}var C=m-g,_=y-v;C>_?y=v+C:m=g+_;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){o(S,t,+x(t,++d),+b(t,d),g,v,m,y)},visit:function(t){hr(t,S,g,v,m,y)}};if(d=-1,null==e){for(;++d<p;)o(S,t[d],f[d],h[d],g,v,m,y);--d}else t.forEach(S.add);return f=h=t=c=null,S}var a,s=Nn,u=En;return(a=arguments.length)?(s=lr,u=cr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},Xo.interpolateRgb=dr,Xo.interpolateObject=pr,Xo.interpolateNumber=gr,Xo.interpolateString=vr;var tu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eu=new RegExp(tu.source,"g");Xo.interpolate=mr,Xo.interpolators=[function(t,e){var n=typeof e;return("string"===n?Wa.has(e)||/^(#|rgb\(|hsl\()/.test(e)?dr:vr:e instanceof ot?dr:Array.isArray(e)?yr:"object"===n&&isNaN(e)?pr:gr)(t,e)}],Xo.interpolateArray=yr;var nu=function(){return kt},ru=Xo.map({linear:nu,poly:Sr,quad:function(){return Mr},cubic:function(){return Cr},sin:function(){return kr},exp:function(){return Tr},circle:function(){return Nr},elastic:Er,back:Ar,bounce:function(){return Lr}}),iu=Xo.map({in:kt,out:br,"in-out":wr,"out-in":function(t){return wr(br(t))}});Xo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ru.get(n)||nu,xr((r=iu.get(r)||kt)(n.apply(null,Yo.call(arguments,1))))},Xo.interpolateHcl=Rr,Xo.interpolateHsl=Dr,Xo.interpolateLab=jr,Xo.interpolateRound=Pr,Xo.transform=function(t){var e=Qo.createElementNS(Xo.ns.prefix.svg,"g");return(Xo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ir(n?n.matrix:ou)})(t)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ou={a:1,b:0,c:0,d:1,e:0,f:0};Xo.interpolateTransform=qr,Xo.layout={},Xo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Hr(t[n]));return e}},Xo.layout.chord=function(){function t(){var t,l,f,h,d,p={},g=[],v=Xo.range(o),m=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(l=0,d=-1;++d<o;)l+=i[h][d];g.push(l),m.push(Xo.range(o)),t+=l}for(a&&v.sort((function(t,e){return a(g[t],g[e])})),s&&m.forEach((function(t,e){t.sort((function(t,n){return s(i[e][t],i[e][n])}))})),t=(ka-c*o)/t,l=0,h=-1;++h<o;){for(f=l,d=-1;++d<o;){var y=v[h],x=m[y][d],b=i[y][x],w=l,M=l+=b*t;p[y+"-"+x]={index:y,subindex:x,startAngle:w,endAngle:M,value:b}}r[y]={index:y,startAngle:f,endAngle:l,value:(l-f)/t},l+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;){var C=p[h+"-"+d],_=p[d+"-"+h];(C.value||_.value)&&n.push(C.value<_.value?{source:_,target:C}:{source:C,target:_})}u&&e()}function e(){n.sort((function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},Xo.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(u>s*s/v){if(p>u){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&p>u){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=Xo.event.x,t.py=Xo.event.y,s.resume()}var n,r,i,o,a,s={},u=Xo.dispatch("start","tick","end"),l=[1,1],c=.9,f=au,h=su,d=-30,p=uu,g=.1,v=.64,m=[],y=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,f,h,p,v,x,b,w=m.length,M=y.length;for(n=0;M>n;++n)f=(s=y[n]).source,(p=(x=(h=s.target).x-f.x)*x+(b=h.y-f.y)*b)&&(x*=p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,b*=p,h.x-=x*(v=f.weight/(h.weight+f.weight)),h.y-=b*v,f.x+=x*(v=1-v),f.y+=b*v);if((v=r*g)&&(x=l[0]/2,b=l[1]/2,n=-1,v))for(;++n<w;)(s=m[n]).x+=(x-s.x)*v,s.y+=(b-s.y)*v;if(d)for(Yr(e=Xo.geom.quadtree(m),r,a),n=-1;++n<w;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<w;)(s=m[n]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),Xo.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=m.length,c=y.length,p=l[0],g=l[1];for(e=0;u>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;c>e;++e)"number"==typeof(r=y[e]).source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(e=0;c>e;++e)i[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=f;if(o=[],"function"==typeof h)for(e=0;c>e;++e)o[e]=+h.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=h;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,m[e],e);else for(e=0;u>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Xo.behavior.drag().origin(kt).on("dragstart.force",Wr).on("drag.force",e).on("dragend.force",Jr)),arguments.length?void this.on("mouseover.force",Gr).on("mouseout.force",Xr).call(n):n},Xo.rebind(s,u,"on")};var au=20,su=1,uu=1/0;Xo.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return Kr(i,(function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)})),s}var e=ni,n=ti,r=ei;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Qr(e,(function(t){t.children&&(t.value=0)})),Kr(e,(function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)}))),e},t},Xo.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=Xo.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Zr(n,r)},Xo.layout.pie=function(){function t(o){var a=o.map((function(n,r){return+e.call(t,n,r)})),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Xo.sum(a),l=Xo.range(o.length);null!=n&&l.sort(n===lu?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return l.forEach((function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}})),c}var e=Number,n=lu,r=0,i=ka;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var lu={};Xo.layout.stack=function(){function t(s,u){if(!(h=s.length))return s;var l=s.map((function(n,r){return e.call(t,n,r)})),c=l.map((function(e){return e.map((function(e,n){return[o.call(t,e,n),a.call(t,e,n)]}))})),f=n.call(t,c,u);l=Xo.permute(l,f),c=Xo.permute(c,f);var h,d,p,g,v=r.call(t,c,u),m=l[0].length;for(p=0;m>p;++p)for(i.call(t,l[0][p],g=v[p],c[0][p][1]),d=1;h>d;++d)i.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=kt,n=si,r=ui,i=ai,o=ii,a=oi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:cu.get(e)||si,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:fu.get(e)||ui,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var cu=Xo.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(li),o=t.map(ci),a=Xo.range(r).sort((function(t,e){return i[t]-i[e]})),s=0,u=0,l=[],c=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return Xo.range(t.length).reverse()},default:si}),fu=Xo.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;h>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;h>n;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ui});Xo.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),f=i.call(this,c,l,o),o=-1,h=l.length,d=f.length-1,p=e?1:1/h;++o<d;)(a=u[o]=[]).dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<h;)(s=l[o])>=c[0]&&s<=c[1]&&((a=u[Xo.bisect(f,s,1,d)-1]).y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=pi,i=hi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=St(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return di(t,e)}:St(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Xo.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Kr(s,(function(t){t.r=+c(t.value)})),Kr(s,xi),r){var f=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;Kr(s,(function(t){t.r+=f})),Kr(s,xi),Kr(s,(function(t){t.r-=f}))}return Mi(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=Xo.layout.hierarchy().sort(gi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Zr(t,n)},Xo.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),f=c[0],h=e(f);if(Kr(h,n),h.parent.m=-h.z,Qr(h,r),l)Qr(f,o);else{var d=f,p=f,g=f;Qr(f,(function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)}));var v=s(d,p)/2-d.x,m=u[0]/(p.x+s(p,d)/2+v),y=u[1]/(g.depth||1);Qr(f,(function(t){t.x=(t.x+v)*m,t.y=t.depth*y}))}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ni(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,f=a.m,h=u.m;a=ki(a),i=Si(i),a&&i;)u=Si(u),(o=ki(o)).a=t,(r=a.z+f-i.z-l+s(a._,i._))>0&&(Ti(Ei(a,t,n),t,r),l+=r,c+=r),f+=a.m,l+=i.m,h+=u.m,c+=o.m;a&&!ki(o)&&(o.t=a,o.m+=f-c),i&&!Si(u)&&(u.t=i,u.m+=l-h,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=Xo.layout.hierarchy().sort(null).value(null),s=_i,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Zr(t,a)},Xo.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;Kr(u,(function(t){var e=t.children;e&&e.length?(t.x=Li(e),t.y=Ai(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)}));var c=Ri(u),f=Di(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return Kr(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(d-h)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=Xo.layout.hierarchy().sort(null).value(null),n=_i,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Zr(t,e)},Xo.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],h=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(a=h[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=f(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)(i=t[o]).x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)(i=t[o]).x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=i),i}var a,s=Xo.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=ji,h=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?ji(e):Pi(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Pi(e,t)}return arguments.length?(f=null==(c=t)?ji:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o):c;var r},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Zr(o,s)},Xo.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Xo.random.normal.apply(Xo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Xo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Xo.scale={};var hu={floor:kt,ceil:kt};Xo.scale.linear=function(){return Ui([0,1],[0,1],mr,!1)};var du={s:1,g:1,p:1,r:1,e:1};Xo.scale.log=function(){return Yi(Xo.scale.linear().domain([0,1]),10,!0,[1,10])};var pu=Xo.format(".0e"),gu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Xo.scale.pow=function(){return Zi(Xo.scale.linear(),1,[0,1])},Xo.scale.sqrt=function(){return Xo.scale.pow().exponent(.5)},Xo.scale.ordinal=function(){return Ki([],{t:"range",a:[[]]})},Xo.scale.category10=function(){return Xo.scale.ordinal().range(vu)},Xo.scale.category20=function(){return Xo.scale.ordinal().range(mu)},Xo.scale.category20b=function(){return Xo.scale.ordinal().range(yu)},Xo.scale.category20c=function(){return Xo.scale.ordinal().range(xu)};var vu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),yu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),xu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);Xo.scale.quantile=function(){return to([],[])},Xo.scale.quantize=function(){return eo(0,1,[0,1])},Xo.scale.threshold=function(){return no([.5],[0,1])},Xo.scale.identity=function(){return ro([0,1])},Xo.svg={},Xo.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+bu,s=i.apply(this,arguments)+bu,u=(a>s&&(u=a,a=s,s=u),s-a),l=Sa>u?"0":"1",c=Math.cos(a),f=Math.sin(a),h=Math.cos(s),d=Math.sin(s);return u>=wu?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*d+"L"+t*h+","+t*d+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*f+"Z":"M"+o*c+","+o*f+"A"+o+","+o+" 0 "+l+",1 "+o*h+","+o*d+"L0,0Z"}var e=io,n=oo,r=ao,i=so;return t.innerRadius=function(n){return arguments.length?(e=St(n),t):e},t.outerRadius=function(e){return arguments.length?(n=St(e),t):n},t.startAngle=function(e){return arguments.length?(r=St(e),t):r},t.endAngle=function(e){return arguments.length?(i=St(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+bu;return[Math.cos(o)*t,Math.sin(o)*t]},t};var bu=-Ta,wu=ka-Na;Xo.svg.line=function(){return uo(kt)};var Mu=Xo.map({linear:lo,"linear-closed":co,step:fo,"step-before":ho,"step-after":po,basis:bo,"basis-open":wo,"basis-closed":Mo,bundle:Co,cardinal:mo,"cardinal-open":go,"cardinal-closed":vo,monotone:Eo});Mu.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var Cu=[0,2/3,1/3,0],_u=[0,1/3,2/3,0],Su=[0,1/6,2/3,1/6];Xo.svg.line.radial=function(){var t=uo(Ao);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ho.reverse=po,po.reverse=ho,Xo.svg.area=function(){return Lo(kt)},Xo.svg.area.radial=function(){var t=Lo(Ao);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Xo.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+bu,c=l.call(t,i,r)+bu;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Sa)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=yn,a=xn,s=Ro,u=ao,l=so;return t.radius=function(e){
return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(o=St(e),t):o},t.target=function(e){return arguments.length?(a=St(e),t):a},t.startAngle=function(e){return arguments.length?(u=St(e),t):u},t.endAngle=function(e){return arguments.length?(l=St(e),t):l},t},Xo.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(u=u.map(r))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yn,n=xn,r=Do;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Xo.svg.diagonal.radial=function(){var t=Xo.svg.diagonal(),e=Do,n=t.projection;return t.projection=function(t){return arguments.length?n(jo(e=t)):e},t},Xo.svg.symbol=function(){function t(t,r){return(ku.get(e.call(this,t,r))||Oo)(n.call(this,t,r))}var e=Io,n=Po;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var ku=Xo.map({circle:Oo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Au)),n=e*Au;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Eu),n=e*Eu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Eu),n=e*Eu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Xo.svg.symbolTypes=ku.keys();var Tu,Nu,Eu=Math.sqrt(3),Au=Math.tan(30*Aa),Lu=[],Ru=0;Lu.call=ma.call,Lu.empty=ma.empty,Lu.node=ma.node,Lu.size=ma.size,Xo.transition=function(t){return arguments.length?Tu?t.transition():t:ba.transition()},Xo.transition.prototype=Lu,Lu.select=function(t){var e,n,r,i=this.id,o=[];t=S(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),zo(n,l,i,r.__transition__[i]),e.push(n)):e.push(null)}return $o(o,i)},Lu.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=k(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],f=-1,h=c.length;++f<h;)if(r=c[f]){o=r.__transition__[a],n=t.call(r,r.__data__,f,u),s.push(e=[]);for(var d=-1,p=n.length;++d<p;)(i=n[d])&&zo(i,d,a,o),e.push(i)}return $o(s,a)},Lu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=O(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n,s=0,u=(n=this[o]).length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return $o(i,this.id)},Lu.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):F(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Lu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?qr:mr,s=Xo.ns.qualify(t);return Fo(this,"attr."+t,e,s.local?o:i)},Lu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Xo.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Lu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=ta.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=mr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){for(n in 2>o&&(e=""),t)this.style(n,t[n],e);return this}n=""}return Fo(this,"style."+t,e,i)},Lu.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,ta.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Lu.text=function(t){return Fo(this,"text",t,qo)},Lu.remove=function(){return this.each("end.transition",(function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Lu.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Xo.ease.apply(Xo,arguments)),F(this,(function(n){n.__transition__[e].ease=t})))},Lu.delay=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].delay:F(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Lu.duration=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].duration:F(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Lu.each=function(t,e){var n=this.id;if(arguments.length<2){var r=Nu,i=Tu;Tu=n,F(this,(function(e,r,i){Nu=e.__transition__[n],t.call(e,e.__data__,r,i)})),Nu=r,Tu=i}else F(this,(function(r){var i=r.__transition__[n];(i.event||(i.event=Xo.dispatch("start","end"))).on(t,e)}));return this},Lu.transition=function(){for(var t,e,n,r,i=this.id,o=++Ru,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e,l=0,c=(e=this[s]).length;c>l;l++)(n=e[l])&&((r=Object.create(n.__transition__[i])).delay+=r.duration,zo(n,l,o,r)),t.push(n)}return $o(a,o)},Xo.svg.axis=function(){function t(t){t.each((function(){var t,l=Xo.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,d=null==e?f.tickFormat?f.tickFormat.apply(f,s):kt:e,p=l.selectAll(".tick").data(h,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Na),v=Xo.transition(p.exit()).style("opacity",Na).remove(),m=Xo.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,x=Oi(f),b=l.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Xo.transition(b));g.append("line"),g.append("text");var M,C,_,S,k=g.select("line"),T=m.select("line"),N=p.select("text").text(d),E=g.select("text"),A=m.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Uo,M="x",_="y",C="x2",S="y2",N.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+L*o+"V0H"+x[1]+"V"+L*o)):(t=Ho,M="y",_="x",C="y2",S="x2",N.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),w.attr("d","M"+L*o+","+x[0]+"H0V"+x[1]+"H"+L*o)),k.attr(S,L*i),E.attr(_,L*y),T.attr(C,0).attr(S,L*i),A.attr(M,0).attr(_,L*y),f.rangeBand){var R=f,D=R.rangeBand()/2;c=f=function(t){return R(t)+D}}else c.rangeBand?c=f:v.call(t,f,c);g.call(t,c,f),m.call(t,f,f)}))}var e,n=Xo.scale.linear(),r=Du,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in ju?e+"":Du,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Du="bottom",ju={top:1,right:1,bottom:1,left:1};Xo.svg.brush=function(){function t(o){o.each((function(){var o=Xo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(p,kt);s.exit().remove(),s.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Pu[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,f=Xo.transition(o),h=Xo.transition(a);u&&(c=Oi(u),h.attr("x",c[0]).attr("width",c[1]-c[0]),n(f)),l&&(c=Oi(l),h.attr("y",c[0]).attr("height",c[1]-c[0]),r(f)),e(f)}))}function e(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"}))}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==Xo.event.keyCode&&(N||(y=null,A[0]-=c[1],A[1]-=f[1],N=2),w())}function p(){32==Xo.event.keyCode&&2==N&&(A[0]+=c[1],A[1]+=f[1],N=0,w())}function g(){var t=Xo.mouse(b),i=!1;x&&(t[0]+=x[0],t[1]+=x[1]),N||(Xo.event.altKey?(y||(y=[(c[0]+c[1])/2,(f[0]+f[1])/2]),A[0]=c[+(t[0]<y[0])],A[1]=f[+(t[1]<y[1])]):y=null),k&&v(t,u,0)&&(n(_),i=!0),T&&v(t,l,1)&&(r(_),i=!0),i&&(e(_),C({type:"brush",mode:N?"move":"resize"}))}function v(t,e,n){var r,i,s=Oi(e),u=s[0],l=s[1],p=A[n],g=n?f:c,v=g[1]-g[0];return N&&(u-=p,l-=v+p),r=(n?d:h)?Math.max(u,Math.min(l,t[n])):t[n],N?i=(r+=p)+v:(y&&(p=Math.max(u,Math.min(l,2*y[n]-r))),r>p?(i=r,r=p):i=p),g[0]!=r||g[1]!=i?(n?a=null:o=null,g[0]=r,g[1]=i,!0):void 0}function m(){g(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Xo.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),C({type:"brushend"})}var y,x,b=this,M=Xo.select(Xo.event.target),C=s.of(b,arguments),_=Xo.select(b),S=M.datum(),k=!/^(n|s)$/.test(S)&&u,T=!/^(e|w)$/.test(S)&&l,N=M.classed("extent"),E=W(),A=Xo.mouse(b),L=Xo.select(ta).on("keydown.brush",i).on("keyup.brush",p);if(Xo.event.changedTouches?L.on("touchmove.brush",g).on("touchend.brush",m):L.on("mousemove.brush",g).on("mouseup.brush",m),_.interrupt().selectAll("*").interrupt(),N)A[0]=c[0]-A[0],A[1]=f[0]-A[1];else if(S){var R=+/w$/.test(S),D=+/^n/.test(S);x=[c[1-R]-A[0],f[1-D]-A[1]],A[0]=c[R],A[1]=f[D]}else Xo.event.altKey&&(y=A.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),Xo.select("body").style("cursor",M.style("cursor")),C({type:"brushstart"}),g()}var o,a,s=C(t,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],f=[0,0],h=!0,d=!0,p=Iu[0];return t.event=function(t){t.each((function(){var t=s.of(this,arguments),e={x:c,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Tu?Xo.select(this).transition().each("start.brush",(function(){o=n.i,a=n.j,c=n.x,f=n.y,t({type:"brushstart"})})).tween("brush:brush",(function(){var n=yr(c,e.x),r=yr(f,e.y);return o=a=null,function(i){c=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}})).each("end.brush",(function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})})):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))}))},t.x=function(e){return arguments.length?(p=Iu[!(u=e)<<1|!l],t):u},t.y=function(e){return arguments.length?(p=Iu[!u<<1|!(l=e)],t):l},t.clamp=function(e){return arguments.length?(u&&l?(h=!!e[0],d=!!e[1]):u?h=!!e:l&&(d=!!e),t):u&&l?[h,d]:u?h:l?d:null},t.extent=function(e){var n,r,i,s,h;return arguments.length?(u&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(h=n,n=r,r=h),(n!=c[0]||r!=c[1])&&(c=[n,r])),l&&(i=e[0],s=e[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(h=i,i=s,s=h),(i!=f[0]||s!=f[1])&&(f=[i,s])),t):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(h=n,n=r,r=h))),l&&(a?(i=a[0],s=a[1]):(i=f[0],s=f[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(h=i,i=s,s=h))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!u&&c[0]==c[1]||!!l&&f[0]==f[1]},Xo.rebind(t,s,"on")};var Pu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Iu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ou=ns.format=us.timeFormat,$u=Ou.utc,Fu=$u("%Y-%m-%dT%H:%M:%S.%LZ");Ou.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Bo:Fu,Bo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Bo.toString=Fu.toString,ns.second=Ft((function(t){return new rs(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),ns.seconds=ns.second.range,ns.seconds.utc=ns.second.utc.range,ns.minute=Ft((function(t){return new rs(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),ns.minutes=ns.minute.range,ns.minutes.utc=ns.minute.utc.range,ns.hour=Ft((function(t){var e=t.getTimezoneOffset()/60;return new rs(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),ns.hours=ns.hour.range,ns.hours.utc=ns.hour.utc.range,ns.month=Ft((function(t){return(t=ns.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),ns.months=ns.month.range,ns.months.utc=ns.month.utc.range;var qu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],zu=[[ns.second,1],[ns.second,5],[ns.second,15],[ns.second,30],[ns.minute,1],[ns.minute,5],[ns.minute,15],[ns.minute,30],[ns.hour,1],[ns.hour,3],[ns.hour,6],[ns.hour,12],[ns.day,1],[ns.day,2],[ns.week,1],[ns.month,1],[ns.month,3],[ns.year,1]],Uu=Ou.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Te]]),Hu={range:function(t,e,n){return Xo.range(Math.ceil(t/n)*n,+e,n).map(Wo)},floor:kt,ceil:kt};zu.year=ns.year,ns.scale=function(){return Vo(Xo.scale.linear(),zu,Uu)};var Bu=zu.map((function(t){return[t[0].utc,t[1]]})),Vu=$u.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Te]]);Bu.year=ns.year.utc,ns.scale.utc=function(){return Vo(Xo.scale.linear(),Bu,Vu)},Xo.text=Tt((function(t){return t.responseText})),Xo.json=function(t,e){return Nt(t,"application/json",Jo,e)},Xo.html=function(t,e){return Nt(t,"text/html",Go,e)},Xo.xml=Tt((function(t){return t.responseXML})),"function"==typeof define&&define.amd?define(Xo):"object"==typeof module&&module.exports&&(module.exports=Xo),this.d3=Xo}();
//# sourceMappingURL=main-ck.js.map